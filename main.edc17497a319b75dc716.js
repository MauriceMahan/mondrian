!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=161)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.set=function(t){r=Object.assign(r,t)},e.get=function(t){return r[t]};var r={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.simpleShader=function(t,e,n,r){(n||this._.texture).use(),this._.spareTexture.drawTo(function(){t.uniforms(e).drawRect()}),this._.spareTexture.swapWith(r||this._.texture)},e.clamp=o,e.splineInterpolate=function(t){for(var e=new r.default(t),n=[],i=0;i<256;i++)n.push(o(0,Math.floor(256*e.interpolate(i/255)),255));return n};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(120));function o(t,e,n){return Math.max(t,Math.min(e,n))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0));var i="attribute vec2 vertex;attribute vec2 _texCoord;varying vec2 texCoord;void main() {  texCoord = _texCoord;  gl_Position = vec4(vertex * 2.0 - 1.0, 0.0, 1.0);}",a="uniform sampler2D texture;varying vec2 texCoord;void main() {  gl_FragColor = texture2D(texture, texCoord);}",s=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r=o.get("gl");if(this.vertexAttribute=null,this.texCoordAttribute=null,this.program=r.createProgram(),e=e||i,n="precision highp float;"+(n=n||a),r.attachShader(this.program,l(r.VERTEX_SHADER,e)),r.attachShader(this.program,l(r.FRAGMENT_SHADER,n)),r.linkProgram(this.program),!r.getProgramParameter(this.program,r.LINK_STATUS))throw"link error: "+r.getProgramInfoLog(this.program)}return r(t,null,[{key:"getDefaultShader",value:function(){var e=o.get("gl");return e.defaultShader=e.defaultShader||new t,e.defaultShader}}]),r(t,[{key:"destroy",value:function(){o.get("gl").deleteProgram(this.program),this.program=null}},{key:"uniforms",value:function(t){var e=o.get("gl");for(var n in e.useProgram(this.program),t)if(t.hasOwnProperty(n)){var r=e.getUniformLocation(this.program,n);if(null!==r){var i=t[n];if(u(i))switch(i.length){case 1:e.uniform1fv(r,new Float32Array(i));break;case 2:e.uniform2fv(r,new Float32Array(i));break;case 3:e.uniform3fv(r,new Float32Array(i));break;case 4:e.uniform4fv(r,new Float32Array(i));break;case 9:e.uniformMatrix3fv(r,!1,new Float32Array(i));break;case 16:e.uniformMatrix4fv(r,!1,new Float32Array(i));break;default:throw"dont't know how to load uniform \""+n+'" of length '+i.length}else{if(!c(i))throw'attempted to set uniform "'+n+'" to invalid value '+(i||"undefined").toString();e.uniform1f(r,i)}}}return this}},{key:"textures",value:function(t){var e=o.get("gl");for(var n in e.useProgram(this.program),t)t.hasOwnProperty(n)&&e.uniform1i(e.getUniformLocation(this.program,n),t[n]);return this}},{key:"drawRect",value:function(t,e,n,r){var i=o.get("gl"),a=i.getParameter(i.VIEWPORT);e=void 0!==e?(e-a[1])/a[3]:0,t=void 0!==t?(t-a[0])/a[2]:0,n=void 0!==n?(n-a[0])/a[2]:1,r=void 0!==r?(r-a[1])/a[3]:1,null==i.vertexBuffer&&(i.vertexBuffer=i.createBuffer()),i.bindBuffer(i.ARRAY_BUFFER,i.vertexBuffer),i.bufferData(i.ARRAY_BUFFER,new Float32Array([t,e,t,r,n,e,n,r]),i.STATIC_DRAW),null==i.texCoordBuffer&&(i.texCoordBuffer=i.createBuffer(),i.bindBuffer(i.ARRAY_BUFFER,i.texCoordBuffer),i.bufferData(i.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),i.STATIC_DRAW)),null==this.vertexAttribute&&(this.vertexAttribute=i.getAttribLocation(this.program,"vertex"),i.enableVertexAttribArray(this.vertexAttribute)),null==this.texCoordAttribute&&(this.texCoordAttribute=i.getAttribLocation(this.program,"_texCoord"),i.enableVertexAttribArray(this.texCoordAttribute)),i.useProgram(this.program),i.bindBuffer(i.ARRAY_BUFFER,i.vertexBuffer),i.vertexAttribPointer(this.vertexAttribute,2,i.FLOAT,!1,0,0),i.bindBuffer(i.ARRAY_BUFFER,i.texCoordBuffer),i.vertexAttribPointer(this.texCoordAttribute,2,i.FLOAT,!1,0,0),i.drawArrays(i.TRIANGLE_STRIP,0,4)}}]),t}();function u(t){return"[object Array]"==Object.prototype.toString.call(t)}function c(t){return"[object Number]"==Object.prototype.toString.call(t)}function l(t,e){var n=o.get("gl"),r=n.createShader(t);if(n.shaderSource(r,e),n.compileShader(r),!n.getShaderParameter(r,n.COMPILE_STATUS))throw"compile error: "+n.getShaderInfoLog(r);return r}e.default=s},function(t,e,n){var r=n(7),o=n(13),i=n(14),a=n(15),s=n(27),u=function(t,e,n){var c,l,f,p,d=t&u.F,h=t&u.G,v=t&u.S,g=t&u.P,m=t&u.B,y=h?r:v?r[e]||(r[e]={}):(r[e]||{}).prototype,x=h?o:o[e]||(o[e]={}),b=x.prototype||(x.prototype={});for(c in h&&(n=e),n)f=((l=!d&&y&&void 0!==y[c])?y:n)[c],p=m&&l?s(f,r):g&&"function"==typeof f?s(Function.call,f):f,y&&a(y,c,f,t&u.U),x[c]!=f&&i(x,c,p),g&&b[c]!=f&&(b[c]=f)};r.core=o,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){var r=n(38)("wks"),o=n(20),i=n(7).Symbol,a="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=a&&i[t]||(a?i:o)("Symbol."+t))}).store=r},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(10)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(9),o=n(52),i=n(26),a=Object.defineProperty;e.f=n(6)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(5);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.randomShaderFunc=void 0,e.warpShader=function(t,e){return new r.default(null,t+"    uniform sampler2D texture;    uniform vec2 texSize;    varying vec2 texCoord;    void main() {      vec2 coord = texCoord * texSize;      "+e+"      gl_FragColor = texture2D(texture, coord / texSize);      vec2 clampedCoord = clamp(coord, vec2(0.0), texSize);      if (coord != clampedCoord) {        /* fade to transparent if we are outside the image */        gl_FragColor.a *= max(0.0, 1.0 - length(coord - clampedCoord));      }    }")};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(2));e.randomShaderFunc="  float random(vec3 scale, float seed) {    /* use the fragment position for a different seed per-pixel */    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);  }"},function(t,e){var n=t.exports={version:"2.6.1"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(8),o=n(19);t.exports=n(6)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(7),o=n(14),i=n(11),a=n(20)("src"),s=Function.toString,u=(""+s).split("toString");n(13).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var c="function"==typeof n;c&&(i(n,"name")||o(n,"name",e)),t[e]!==n&&(c&&(i(n,a)||o(n,a,t[e]?""+t[e]:u.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(t,e,n){var r=n(56),o=n(18);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(55),o=n(39);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports={}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){for(var r=n(63),o=n(17),i=n(15),a=n(7),s=n(14),u=n(21),c=n(4),l=c("iterator"),f=c("toStringTag"),p=u.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=o(d),v=0;v<h.length;v++){var g,m=h[v],y=d[m],x=a[m],b=x&&x.prototype;if(b&&(b[l]||s(b,l,p),b[f]||s(b,f,m),u[m]=p,y))for(g in r)b[g]||i(b,g,r[g],!0)}},function(t,e,n){var r=n(3);r(r.S+r.F*!n(6),"Object",{defineProperty:n(8).f})},function(t,e){t.exports=!1},function(t,e,n){var r=n(5);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(28);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(18);t.exports=function(t){return Object(r(t))}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){"use strict";var r=n(3),o=n(65)(0),i=n(66)([].forEach,!0);r(r.P+r.F*!i,"Array",{forEach:function(t){return o(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(74);e.getDocumentBaseUrl=function(t){return"about:blank"!==t.baseURI?t.baseURI:null},e.clone=function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n},e.cloneArray=function(t){return Array.prototype.slice.apply(t,[0])},e.joinUrl=function(t,e){return t?r.resolve(t,e):e},e.isDataUri=function(t){return/^data:/.test(t)},e.collectAndReportErrors=function(t){var e=[];return Promise.all(t.map(function(t){return t.catch(function(t){e.push(t)})})).then(function(){return e})};var o=null;e.ajax=function(t,n){return new Promise(function(r,i){var a,s=new window.XMLHttpRequest,u=e.joinUrl(n.baseUrl,t),c=function(){i({msg:"Unable to load url",url:u})};a=function(t,e){return!1===e||"none"===e||"repeated"===e?(null!==o&&"repeated"===e||(o=Date.now()),t+"?_="+o):t}(u,n.cache),s.addEventListener("load",function(){200===s.status||0===s.status?r(s.response):c()},!1),s.addEventListener("error",c,!1);try{s.open("GET",a,!0),s.overrideMimeType(n.mimeType),s.send(null)}catch(t){c()}})},e.binaryAjax=function(t,n){var r=e.clone(n);return r.mimeType="text/plain; charset=x-user-defined",e.ajax(t,r).then(function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(255&t.charCodeAt(n));return e})};e.getDataURIForImageURL=function(t,n){return e.binaryAjax(t,n).then(function(t){var e=btoa(t);return"data:"+function(t){var e=function(t,e){return t.substring(0,e.length)===e};return e(t,"<?xml")||e(t,"<svg")?"image/svg+xml":"image/png"}(t)+";base64,"+e})};var i=[];e.memoize=function(t,e,n){if("object"!=typeof n)throw new Error("cacheBucket is not an object");return function(){var r,o=Array.prototype.slice.call(arguments),a=e(o),s=function(t){return i.indexOf(t)<0&&i.push(t),i.indexOf(t)}(t);return n[s]&&n[s][a]?n[s][a]:(r=t.apply(null,o),n[s]=n[s]||{},n[s][a]=r,r)}}},function(t,e,n){"use strict";var r=n(83)(!0);n(51)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(9),o=n(54),i=n(39),a=n(37)("IE_PROTO"),s=function(){},u=function(){var t,e=n(53)("iframe"),r=i.length;for(e.style.display="none",n(86).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[i[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=u(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(34),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(38)("keys"),o=n(20);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){var r=n(13),o=n(7),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(25)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(8).f,o=n(11),i=n(4)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){"use strict";var r=n(27),o=n(3),i=n(29),a=n(88),s=n(89),u=n(36),c=n(90),l=n(91);o(o.S+o.F*!n(93)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,o,f,p=i(t),d="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,g=void 0!==v,m=0,y=l(p);if(g&&(v=r(v,h>2?arguments[2]:void 0,2)),void 0==y||d==Array&&s(y))for(n=new d(e=u(p.length));e>m;m++)c(n,m,g?v(p[m],m):p[m]);else for(f=y.call(p),n=new d;!(o=f.next()).done;m++)c(n,m,g?a(f,v,[o.value,m],!0):o.value);return n.length=m,n}})},function(t,e,n){"use strict";n(94);var r=n(9),o=n(58),i=n(6),a=/./.toString,s=function(t){n(15)(RegExp.prototype,"toString",t,!0)};n(10)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!i&&t instanceof RegExp?o.call(t):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},function(t,e,n){var r=Date.prototype,o=r.toString,i=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(15)(r,"toString",function(){var t=i.call(this);return t==t?o.call(this):"Invalid Date"})},function(t,e,n){n(59)("asyncIterator")},function(t,e,n){"use strict";var r=n(7),o=n(11),i=n(6),a=n(3),s=n(15),u=n(61).KEY,c=n(10),l=n(38),f=n(40),p=n(20),d=n(4),h=n(60),v=n(59),g=n(95),m=n(46),y=n(9),x=n(5),b=n(16),w=n(26),E=n(19),S=n(35),_=n(96),T=n(48),C=n(8),O=n(17),A=T.f,P=C.f,I=_.f,R=r.Symbol,M=r.JSON,k=M&&M.stringify,D=d("_hidden"),j=d("toPrimitive"),N={}.propertyIsEnumerable,z=l("symbol-registry"),F=l("symbols"),B=l("op-symbols"),L=Object.prototype,U="function"==typeof R,X=r.QObject,Y=!X||!X.prototype||!X.prototype.findChild,V=i&&c(function(){return 7!=S(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=A(L,e);r&&delete L[e],P(t,e,n),r&&t!==L&&P(L,e,r)}:P,H=function(t){var e=F[t]=S(R.prototype);return e._k=t,e},W=U&&"symbol"==typeof R.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof R},q=function(t,e,n){return t===L&&q(B,e,n),y(t),e=w(e,!0),y(n),o(F,e)?(n.enumerable?(o(t,D)&&t[D][e]&&(t[D][e]=!1),n=S(n,{enumerable:E(0,!1)})):(o(t,D)||P(t,D,E(1,{})),t[D][e]=!0),V(t,e,n)):P(t,e,n)},G=function(t,e){y(t);for(var n,r=g(e=b(e)),o=0,i=r.length;i>o;)q(t,n=r[o++],e[n]);return t},$=function(t){var e=N.call(this,t=w(t,!0));return!(this===L&&o(F,t)&&!o(B,t))&&(!(e||!o(this,t)||!o(F,t)||o(this,D)&&this[D][t])||e)},Z=function(t,e){if(t=b(t),e=w(e,!0),t!==L||!o(F,e)||o(B,e)){var n=A(t,e);return!n||!o(F,e)||o(t,D)&&t[D][e]||(n.enumerable=!0),n}},J=function(t){for(var e,n=I(b(t)),r=[],i=0;n.length>i;)o(F,e=n[i++])||e==D||e==u||r.push(e);return r},K=function(t){for(var e,n=t===L,r=I(n?B:b(t)),i=[],a=0;r.length>a;)!o(F,e=r[a++])||n&&!o(L,e)||i.push(F[e]);return i};U||(s((R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(n){this===L&&e.call(B,n),o(this,D)&&o(this[D],t)&&(this[D][t]=!1),V(this,t,E(1,n))};return i&&Y&&V(L,t,{configurable:!0,set:e}),H(t)}).prototype,"toString",function(){return this._k}),T.f=Z,C.f=q,n(47).f=_.f=J,n(30).f=$,n(62).f=K,i&&!n(25)&&s(L,"propertyIsEnumerable",$,!0),h.f=function(t){return H(d(t))}),a(a.G+a.W+a.F*!U,{Symbol:R});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Q.length>tt;)d(Q[tt++]);for(var et=O(d.store),nt=0;et.length>nt;)v(et[nt++]);a(a.S+a.F*!U,"Symbol",{for:function(t){return o(z,t+="")?z[t]:z[t]=R(t)},keyFor:function(t){if(!W(t))throw TypeError(t+" is not a symbol!");for(var e in z)if(z[e]===t)return e},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),a(a.S+a.F*!U,"Object",{create:function(t,e){return void 0===e?S(t):G(S(t),e)},defineProperty:q,defineProperties:G,getOwnPropertyDescriptor:Z,getOwnPropertyNames:J,getOwnPropertySymbols:K}),M&&a(a.S+a.F*(!U||c(function(){var t=R();return"[null]"!=k([t])||"{}"!=k({a:t})||"{}"!=k(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=e=r[1],(x(e)||void 0!==t)&&!W(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!W(e))return e}),r[1]=e,k.apply(M,r)}}),R.prototype[j]||n(14)(R.prototype,j,R.prototype.valueOf),f(R,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e,n){var r=n(22);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(55),o=n(39).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(30),o=n(19),i=n(16),a=n(26),s=n(11),u=n(52),c=Object.getOwnPropertyDescriptor;e.f=n(6)?c:function(t,e){if(t=i(t),e=a(e,!0),u)try{return c(t,e)}catch(t){}if(s(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(3);r(r.S,"Array",{isArray:n(46)})},function(t,e,n){"use strict";e.unquoteString=function(t){var e=/^"(.*)"$/,n=/^'(.*)'$/;return e.test(t)?t.replace(e,"$1"):n.test(t)?t.replace(n,"$1"):t},e.rulesForCssText=function(t){var e,n=document.implementation.createHTMLDocument(""),r=document.createElement("style");return r.textContent=t,n.body.appendChild(r),e=r.sheet.cssRules,Array.prototype.slice.call(e)},e.cssRulesToText=function(t){return t.reduce(function(t,e){return t+e.cssText},"")},e.exchangeRule=function(t,n,r){t[t.indexOf(n)]=e.rulesForCssText(r)[0]},e.changeFontFaceRuleSrc=function(t,n,r){var o="@font-face { font-family: "+n.style.getPropertyValue("font-family")+"; ";n.style.getPropertyValue("font-style")&&(o+="font-style: "+n.style.getPropertyValue("font-style")+"; "),n.style.getPropertyValue("font-weight")&&(o+="font-weight: "+n.style.getPropertyValue("font-weight")+"; "),o+="src: "+r+"}",e.exchangeRule(t,n,o)}},function(t,e,n){"use strict";var r=n(25),o=n(3),i=n(15),a=n(14),s=n(21),u=n(84),c=n(40),l=n(87),f=n(4)("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,n,h,v,g,m){u(n,e,h);var y,x,b,w=function(t){if(!p&&t in T)return T[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},E=e+" Iterator",S="values"==v,_=!1,T=t.prototype,C=T[f]||T["@@iterator"]||v&&T[v],O=C||w(v),A=v?S?w("entries"):O:void 0,P="Array"==e&&T.entries||C;if(P&&(b=l(P.call(new t)))!==Object.prototype&&b.next&&(c(b,E,!0),r||"function"==typeof b[f]||a(b,f,d)),S&&C&&"values"!==C.name&&(_=!0,O=function(){return C.call(this)}),r&&!m||!p&&!_&&T[f]||a(T,f,O),s[e]=O,s[E]=d,v)if(y={values:S?O:w("values"),keys:g?O:w("keys"),entries:A},m)for(x in y)x in T||i(T,x,y[x]);else o(o.P+o.F*(p||_),e,y);return y}},function(t,e,n){t.exports=!n(6)&&!n(10)(function(){return 7!=Object.defineProperty(n(53)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(5),o=n(7).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var r=n(8),o=n(9),i=n(17);t.exports=n(6)?Object.defineProperties:function(t,e){o(t);for(var n,a=i(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var r=n(11),o=n(16),i=n(57)(!1),a=n(37)("IE_PROTO");t.exports=function(t,e){var n,s=o(t),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~i(c,n)||c.push(n));return c}},function(t,e,n){var r=n(22);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(16),o=n(36),i=n(85);t.exports=function(t){return function(e,n,a){var s,u=r(e),c=o(u.length),l=i(a,c);if(t&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){"use strict";var r=n(9);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var r=n(7),o=n(13),i=n(25),a=n(60),s=n(8).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){e.f=n(4)},function(t,e,n){var r=n(20)("meta"),o=n(5),i=n(11),a=n(8).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(10)(function(){return u(Object.preventExtensions({}))}),l=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},getWeak:function(t,e){if(!i(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},onFreeze:function(t){return c&&f.NEED&&u(t)&&!i(t,r)&&l(t),t}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){"use strict";var r=n(64),o=n(101),i=n(21),a=n(16);t.exports=n(51)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e,n){var r=n(4)("unscopables"),o=Array.prototype;void 0==o[r]&&n(14)(o,r,{}),t.exports=function(t){o[r][t]=!0}},function(t,e,n){var r=n(27),o=n(56),i=n(29),a=n(36),s=n(102);t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,l=4==t,f=6==t,p=5==t||f,d=e||s;return function(e,s,h){for(var v,g,m=i(e),y=o(m),x=r(s,h,3),b=a(y.length),w=0,E=n?d(e,b):u?d(e,0):void 0;b>w;w++)if((p||w in y)&&(g=x(v=y[w],w,m),t))if(n)E[w]=g;else if(g)switch(t){case 3:return!0;case 5:return v;case 6:return w;case 2:E.push(v)}else if(l)return!1;return f?-1:c||l?l:E}}},function(t,e,n){"use strict";var r=n(10);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){"use strict";var r=n(7),o=n(11),i=n(22),a=n(110),s=n(26),u=n(10),c=n(47).f,l=n(48).f,f=n(8).f,p=n(112).trim,d=r.Number,h=d,v=d.prototype,g="Number"==i(n(35)(v)),m="trim"in String.prototype,y=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var n,r,o,i=(e=m?e.trim():p(e,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+e}for(var a,u=e.slice(2),c=0,l=u.length;c<l;c++)if((a=u.charCodeAt(c))<48||a>o)return NaN;return parseInt(u,r)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof d&&(g?u(function(){v.valueOf.call(n)}):"Number"!=i(n))?a(new h(y(e)),n,d):y(e)};for(var x,b=n(6)?c(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;b.length>w;w++)o(h,x=b[w])&&!o(d,x)&&f(d,x,l(h,x));d.prototype=v,v.constructor=d,n(15)(r,"Number",d)}},function(t,e,n){var r=n(3);r(r.S+r.F*!n(6),"Object",{defineProperties:n(54)})},function(t,e,n){var r=n(5),o=n(61).onFreeze;n(70)("freeze",function(t){return function(e){return t&&r(e)?t(o(e)):e}})},function(t,e,n){var r=n(3),o=n(13),i=n(10);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},function(t,e,n){"use strict";var r=n(3),o=n(65)(1);r(r.P+r.F*!n(66)([].map,!0),"Array",{map:function(t){return o(this,t,arguments[1])}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSquareToQuad=function(t,e,n,r,o,i,a,s){var u=n-o,c=r-i,l=a-o,f=s-i,p=t-n+o-a,d=e-r+i-s,h=u*f-l*c,v=(p*f-l*d)/h,g=(u*d-p*c)/h;return[n-t+v*n,r-e+v*r,v,a-t+g*a,s-e+g*s,g,t,e,1]},e.getInverse=function(t){var e=t[0],n=t[1],r=t[2],o=t[3],i=t[4],a=t[5],s=t[6],u=t[7],c=t[8],l=e*i*c-e*a*u-n*o*c+n*a*s+r*o*u-r*i*s;return[(i*c-a*u)/l,(r*u-n*c)/l,(n*a-r*i)/l,(a*s-o*c)/l,(e*c-r*s)/l,(r*o-e*a)/l,(o*u-i*s)/l,(n*s-e*u)/l,(e*i-n*o)/l]},e.multiply=function(t,e){return[t[0]*e[0]+t[1]*e[3]+t[2]*e[6],t[0]*e[1]+t[1]*e[4]+t[2]*e[7],t[0]*e[2]+t[1]*e[5]+t[2]*e[8],t[3]*e[0]+t[4]*e[3]+t[5]*e[6],t[3]*e[1]+t[4]*e[4]+t[5]*e[7],t[3]*e[2]+t[4]*e[5]+t[5]*e[8],t[6]*e[0]+t[7]*e[3]+t[8]*e[6],t[6]*e[1]+t[7]*e[4]+t[8]*e[7],t[6]*e[2]+t[7]*e[5]+t[8]*e[8]]}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=n(145),o=n(146);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=x,e.resolve=function(t,e){return x(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?x(t,!1,!0).resolveObject(e):e},e.format=function(t){o.isString(t)&&(t=x(t));return t instanceof i?t.format():i.prototype.format.call(t)},e.Url=i;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),f=["%","/","?",";","#"].concat(l),p=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(147);function x(t,e,n){if(t&&o.isObject(t)&&t instanceof i)return t;var r=new i;return r.parse(t,e,n),r}i.prototype.parse=function(t,e,n){if(!o.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),s=-1!==i&&i<t.indexOf("#")?"?":"#",c=t.split(s);c[0]=c[0].replace(/\\/g,"/");var x=t=c.join(s);if(x=x.trim(),!n&&1===t.split("#").length){var b=u.exec(x);if(b)return this.path=x,this.href=x,this.pathname=b[1],b[2]?(this.search=b[2],this.query=e?y.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var w=a.exec(x);if(w){var E=(w=w[0]).toLowerCase();this.protocol=E,x=x.substr(w.length)}if(n||w||x.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===x.substr(0,2);!S||w&&g[w]||(x=x.substr(2),this.slashes=!0)}if(!g[w]&&(S||w&&!m[w])){for(var _,T,C=-1,O=0;O<p.length;O++){-1!==(A=x.indexOf(p[O]))&&(-1===C||A<C)&&(C=A)}-1!==(T=-1===C?x.lastIndexOf("@"):x.lastIndexOf("@",C))&&(_=x.slice(0,T),x=x.slice(T+1),this.auth=decodeURIComponent(_)),C=-1;for(O=0;O<f.length;O++){var A;-1!==(A=x.indexOf(f[O]))&&(-1===C||A<C)&&(C=A)}-1===C&&(C=x.length),this.host=x.slice(0,C),x=x.slice(C),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var I=this.hostname.split(/\./),R=(O=0,I.length);O<R;O++){var M=I[O];if(M&&!M.match(d)){for(var k="",D=0,j=M.length;D<j;D++)M.charCodeAt(D)>127?k+="x":k+=M[D];if(!k.match(d)){var N=I.slice(0,O),z=I.slice(O+1),F=M.match(h);F&&(N.push(F[1]),z.unshift(F[2])),z.length&&(x="/"+z.join(".")+x),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=r.toASCII(this.hostname));var B=this.port?":"+this.port:"",L=this.hostname||"";this.host=L+B,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==x[0]&&(x="/"+x))}if(!v[E])for(O=0,R=l.length;O<R;O++){var U=l[O];if(-1!==x.indexOf(U)){var X=encodeURIComponent(U);X===U&&(X=escape(U)),x=x.split(U).join(X)}}var Y=x.indexOf("#");-1!==Y&&(this.hash=x.substr(Y),x=x.slice(0,Y));var V=x.indexOf("?");if(-1!==V?(this.search=x.substr(V),this.query=x.substr(V+1),e&&(this.query=y.parse(this.query)),x=x.slice(0,V)):e&&(this.search="",this.query={}),x&&(this.pathname=x),m[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var H=this.search||"";this.path=B+H}return this.href=this.format(),this},i.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,a="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query));var s=this.search||a&&"?"+a||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||m[e])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),e+i+(n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(s=s.replace("#","%23"))+r},i.prototype.resolve=function(t){return this.resolveObject(x(t,!1,!0)).format()},i.prototype.resolveObject=function(t){if(o.isString(t)){var e=new i;e.parse(t,!1,!0),t=e}for(var n=new i,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(n[l]=t[l])}return m[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!m[t.protocol]){for(var f=Object.keys(t),p=0;p<f.length;p++){var d=f[p];n[d]=t[d]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||g[t.protocol])n.pathname=t.pathname;else{for(var h=(t.pathname||"").split("/");h.length&&!(t.host=h.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var v=n.pathname||"",y=n.search||"";n.path=v+y}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var x=n.pathname&&"/"===n.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),w=b||x||n.host&&t.pathname,E=w,S=n.pathname&&n.pathname.split("/")||[],_=(h=t.pathname&&t.pathname.split("/")||[],n.protocol&&!m[n.protocol]);if(_&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===h[0]?h[0]=t.host:h.unshift(t.host)),t.host=null),w=w&&(""===h[0]||""===S[0])),b)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,S=h;else if(h.length)S||(S=[]),S.pop(),S=S.concat(h),n.search=t.search,n.query=t.query;else if(!o.isNullOrUndefined(t.search)){if(_)n.hostname=n.host=S.shift(),(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift());return n.search=t.search,n.query=t.query,o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var T=S.slice(-1)[0],C=(n.host||t.host||S.length>1)&&("."===T||".."===T)||""===T,O=0,A=S.length;A>=0;A--)"."===(T=S[A])?S.splice(A,1):".."===T?(S.splice(A,1),O++):O&&(S.splice(A,1),O--);if(!w&&!E)for(;O--;O)S.unshift("..");!w||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),C&&"/"!==S.join("/").substr(-1)&&S.push("");var P,I=""===S[0]||S[0]&&"/"===S[0].charAt(0);_&&(n.hostname=n.host=I?"":S.length?S.shift():"",(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift()));return(w=w||n.host&&S.length)&&!I&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var t=this.host,e=s.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r;t.exports=function t(e,n,o){function i(s,u){if(!n[s]){if(!e[s]){var c="function"==typeof r&&r;if(!u&&c)return r(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[s]={exports:{}};e[s][0].call(f.exports,function(t){var n=e[s][1][t];return i(n||t)},f,f.exports,t,e,n,o)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(t,e,n){"use strict";"undefined"==typeof window?e.exports=function(e){return t("./src/utils/window").init(e),t("./src/index")}:e.exports=t("./src/index")},{"./src/index":19,"./src/utils/window":52}],2:[function(t,e,n){"use strict";var r=t("./utils/extend.js");function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(t.immediatePropagationStopped)break;r(t)}}var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=r({},e||{})}return t.prototype.fire=function(t){var e=void 0,n="on"+t.type,r=this.global;(e=this[t.type])&&o(t,e),this[n]&&this[n](t),!t.propagationStopped&&r&&(e=r[t.type])&&o(t,e)},t.prototype.on=function(t,e){this[t]?this[t].push(e):this[t]=[e]},t.prototype.off=function(t,e){var n=this[t],r=n?n.indexOf(e):-1;-1!==r&&n.splice(r,1),(n&&0===n.length||!e)&&(this[t]=void 0)},t}();e.exports=i},{"./utils/extend.js":41}],3:[function(t,e,n){"use strict";var r=t("./utils/extend"),o=t("./utils/getOriginXY"),i=t("./defaultOptions"),a=t("./utils/Signals").new(),s=function(){function t(e,n,s,u,c,l){var f=arguments.length>6&&void 0!==arguments[6]&&arguments[6];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var p=e.target,d=(p&&p.options||i).deltaSource,h=o(p,c,s),v="start"===u,g="end"===u,m=v?e.startCoords:e.curCoords,y=e.prevEvent;c=c||e.element;var x=r({},m.page),b=r({},m.client);x.x-=h.x,x.y-=h.y,b.x-=h.x,b.y-=h.y,this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.button=n.button,this.buttons=n.buttons,this.target=c,this.currentTarget=c,this.relatedTarget=l||null,this.preEnd=f,this.type=s+(u||""),this.interaction=e,this.interactable=p,this.t0=v?e.downTimes[e.downTimes.length-1]:y.t0;var w={interaction:e,event:n,action:s,phase:u,element:c,related:l,page:x,client:b,coords:m,starting:v,ending:g,deltaSource:d,iEvent:this};a.fire("set-xy",w),g?(this.pageX=y.pageX,this.pageY=y.pageY,this.clientX=y.clientX,this.clientY=y.clientY):(this.pageX=x.x,this.pageY=x.y,this.clientX=b.x,this.clientY=b.y),this.x0=e.startCoords.page.x-h.x,this.y0=e.startCoords.page.y-h.y,this.clientX0=e.startCoords.client.x-h.x,this.clientY0=e.startCoords.client.y-h.y,a.fire("set-delta",w),this.timeStamp=m.timeStamp,this.dt=e.pointerDelta.timeStamp,this.duration=this.timeStamp-this.t0,this.speed=e.pointerDelta[d].speed,this.velocityX=e.pointerDelta[d].vx,this.velocityY=e.pointerDelta[d].vy,this.swipe=g||"inertiastart"===u?this.getSwipe():null,a.fire("new",w)}return t.prototype.getSwipe=function(){var t=this.interaction;if(t.prevEvent.speed<600||this.timeStamp-t.prevEvent.timeStamp>150)return null;var e=180*Math.atan2(t.prevEvent.velocityY,t.prevEvent.velocityX)/Math.PI;e<0&&(e+=360);var n=112.5<=e&&e<247.5,r=202.5<=e&&e<337.5,o=!n&&(292.5<=e||e<67.5),i=!r&&22.5<=e&&e<157.5;return{up:r,down:i,left:n,right:o,angle:e,speed:t.prevEvent.speed,velocity:{x:t.prevEvent.velocityX,y:t.prevEvent.velocityY}}},t.prototype.preventDefault=function(){},t.prototype.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}();a.on("set-delta",function(t){var e=t.iEvent,n=t.interaction,r=t.starting,o=t.deltaSource,i=r?e:n.prevEvent;"client"===o?(e.dx=e.clientX-i.clientX,e.dy=e.clientY-i.clientY):(e.dx=e.pageX-i.pageX,e.dy=e.pageY-i.pageY)}),s.signals=a,e.exports=s},{"./defaultOptions":18,"./utils/Signals":34,"./utils/extend":41,"./utils/getOriginXY":42}],4:[function(t,e,n){"use strict";var r=t("./utils/clone"),o=t("./utils/is"),i=t("./utils/events"),a=t("./utils/extend"),s=t("./actions/base"),u=t("./scope"),c=t("./Eventable"),l=t("./defaultOptions"),f=t("./utils/Signals").new(),p=t("./utils/domUtils"),d=p.getElementRect,h=p.nodeContains,v=p.trySelector,g=p.matchesSelector,m=t("./utils/window"),y=m.getWindow,x=t("./utils/arr"),b=x.contains,w=t("./utils/browser"),E=w.wheelEvent;u.interactables=[];var S=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n=n||{},this.target=e,this.events=new c,this._context=n.context||u.document,this._win=y(v(e)?this._context:e),this._doc=this._win.document,f.fire("new",{target:e,options:n,interactable:this,win:this._win}),u.addDocument(this._doc,this._win),u.interactables.push(this),this.set(n)}return t.prototype.setOnEvents=function(t,e){var n="on"+t;return o.function(e.onstart)&&(this.events[n+"start"]=e.onstart),o.function(e.onmove)&&(this.events[n+"move"]=e.onmove),o.function(e.onend)&&(this.events[n+"end"]=e.onend),o.function(e.oninertiastart)&&(this.events[n+"inertiastart"]=e.oninertiastart),this},t.prototype.setPerAction=function(t,e){for(var n in e)n in l[t]&&(o.object(e[n])?(this.options[t][n]=r(this.options[t][n]||{}),a(this.options[t][n],e[n]),o.object(l.perAction[n])&&"enabled"in l.perAction[n]&&(this.options[t][n].enabled=!1!==e[n].enabled)):o.bool(e[n])&&o.object(l.perAction[n])?this.options[t][n].enabled=e[n]:void 0!==e[n]&&(this.options[t][n]=e[n]))},t.prototype.getRect=function(t){return t=t||this.target,o.string(this.target)&&!o.element(t)&&(t=this._context.querySelector(this.target)),d(t)},t.prototype.rectChecker=function(t){return o.function(t)?(this.getRect=t,this):null===t?(delete this.options.getRect,this):this.getRect},t.prototype._backCompatOption=function(t,e){if(v(e)||o.object(e)){this.options[t]=e;for(var n=0;n<s.names.length;n++){var r=s.names[n];this.options[r][t]=e}return this}return this.options[t]},t.prototype.origin=function(t){return this._backCompatOption("origin",t)},t.prototype.deltaSource=function(t){return"page"===t||"client"===t?(this.options.deltaSource=t,this):this.options.deltaSource},t.prototype.context=function(){return this._context},t.prototype.inContext=function(t){return this._context===t.ownerDocument||h(this._context,t)},t.prototype.fire=function(t){return this.events.fire(t),this},t.prototype._onOffMultiple=function(t,e,n,r){if(o.string(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),o.array(e)){for(var i=0;i<e.length;i++){var a=e[i];this[t](a,n,r)}return!0}if(o.object(e)){for(var s in e)this[t](s,e[s],n);return!0}},t.prototype.on=function(e,n,r){return this._onOffMultiple("on",e,n,r)?this:("wheel"===e&&(e=E),b(t.eventTypes,e)?this.events.on(e,n):o.string(this.target)?i.addDelegate(this.target,this._context,e,n,r):i.add(this.target,e,n,r),this)},t.prototype.off=function(e,n,r){return this._onOffMultiple("off",e,n,r)?this:("wheel"===e&&(e=E),b(t.eventTypes,e)?this.events.off(e,n):o.string(this.target)?i.removeDelegate(this.target,this._context,e,n,r):i.remove(this.target,e,n,r),this)},t.prototype.set=function(e){o.object(e)||(e={}),this.options=r(l.base);var n=r(l.perAction);for(var i in s.methodDict){var a=s.methodDict[i];this.options[i]=r(l[i]),this.setPerAction(i,n),this[a](e[i])}for(var u=0;u<t.settingsMethods.length;u++){var c=t.settingsMethods[u];this.options[c]=l.base[c],c in e&&this[c](e[c])}return f.fire("set",{options:e,interactable:this}),this},t.prototype.unset=function(){if(i.remove(this.target,"all"),o.string(this.target))for(var t in i.delegatedEvents){var e=i.delegatedEvents[t];e.selectors[0]===this.target&&e.contexts[0]===this._context&&(e.selectors.splice(0,1),e.contexts.splice(0,1),e.listeners.splice(0,1),e.selectors.length||(e[t]=null)),i.remove(this._context,t,i.delegateListener),i.remove(this._context,t,i.delegateUseCapture,!0)}else i.remove(this,"all");f.fire("unset",{interactable:this}),u.interactables.splice(u.interactables.indexOf(this),1);for(var n=0;n<(u.interactions||[]).length;n++){var r=(u.interactions||[])[n];r.target===this&&r.interacting()&&!r._ending&&r.stop()}return u.interact},t}();u.interactables.indexOfElement=function(t,e){e=e||u.document;for(var n=0;n<this.length;n++){var r=this[n];if(r.target===t&&r._context===e)return n}return-1},u.interactables.get=function(t,e,n){var r=this[this.indexOfElement(t,e&&e.context)];return r&&(o.string(t)||n||r.inContext(t))?r:null},u.interactables.forEachMatch=function(t,e){for(var n=0;n<this.length;n++){var r=this[n],i=void 0;if((o.string(r.target)?o.element(t)&&g(t,r.target):t===r.target)&&r.inContext(t)&&(i=e(r)),void 0!==i)return i}},S.eventTypes=u.eventTypes=[],S.signals=f,S.settingsMethods=["deltaSource","origin","preventDefault","rectChecker"],e.exports=S},{"./Eventable":2,"./actions/base":6,"./defaultOptions":18,"./scope":33,"./utils/Signals":34,"./utils/arr":35,"./utils/browser":36,"./utils/clone":37,"./utils/domUtils":39,"./utils/events":40,"./utils/extend":41,"./utils/is":46,"./utils/window":52}],5:[function(t,e,n){"use strict";var r=t("./scope"),o=t("./utils"),i=t("./utils/events"),a=t("./utils/browser"),s=t("./utils/domObjects"),u=t("./utils/interactionFinder"),c=t("./utils/Signals").new(),l={},f=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer"],p=0;r.interactions=[];for(var d=function(){function t(e){var n=e.pointerType;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.target=null,this.element=null,this.prepared={name:null,axis:null,edges:null},this.pointers=[],this.pointerIds=[],this.downTargets=[],this.downTimes=[],this.prevCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.curCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.startCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.pointerDelta={page:{x:0,y:0,vx:0,vy:0,speed:0},client:{x:0,y:0,vx:0,vy:0,speed:0},timeStamp:0},this.downEvent=null,this.downPointer={},this._eventTarget=null,this._curEventTarget=null,this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this.pointerType=n,c.fire("new",this),r.interactions.push(this)}return t.prototype.pointerDown=function(t,e,n){var r=this.updatePointer(t,e,!0);c.fire("down",{pointer:t,event:e,eventTarget:n,pointerIndex:r,interaction:this})},t.prototype.start=function(t,e,n){this.interacting()||!this.pointerIsDown||this.pointerIds.length<("gesture"===t.name?2:1)||(-1===r.interactions.indexOf(this)&&r.interactions.push(this),o.copyAction(this.prepared,t),this.target=e,this.element=n,c.fire("action-start",{interaction:this,event:this.downEvent}))},t.prototype.pointerMove=function(e,n,r){this.simulation||(this.updatePointer(e),o.setCoords(this.curCoords,this.pointers));var i=this.curCoords.page.x===this.prevCoords.page.x&&this.curCoords.page.y===this.prevCoords.page.y&&this.curCoords.client.x===this.prevCoords.client.x&&this.curCoords.client.y===this.prevCoords.client.y,a=void 0,s=void 0;this.pointerIsDown&&!this.pointerWasMoved&&(a=this.curCoords.client.x-this.startCoords.client.x,s=this.curCoords.client.y-this.startCoords.client.y,this.pointerWasMoved=o.hypot(a,s)>t.pointerMoveTolerance);var u={pointer:e,pointerIndex:this.getPointerIndex(e),event:n,eventTarget:r,dx:a,dy:s,duplicate:i,interaction:this,interactingBeforeMove:this.interacting()};i||o.setCoordDeltas(this.pointerDelta,this.prevCoords,this.curCoords),c.fire("move",u),i||(this.interacting()&&this.doMove(u),this.pointerWasMoved&&o.copyCoords(this.prevCoords,this.curCoords))},t.prototype.doMove=function(t){t=o.extend({pointer:this.pointers[0],event:this.prevEvent,eventTarget:this._eventTarget,interaction:this},t||{}),c.fire("before-action-move",t),this._dontFireMove||c.fire("action-move",t),this._dontFireMove=!1},t.prototype.pointerUp=function(t,e,n,r){var o=this.getPointerIndex(t);c.fire(/cancel$/i.test(e.type)?"cancel":"up",{pointer:t,pointerIndex:o,event:e,eventTarget:n,curEventTarget:r,interaction:this}),this.simulation||this.end(e),this.pointerIsDown=!1,this.removePointer(t,e)},t.prototype.end=function(t){this._ending=!0,t=t||this.prevEvent,this.interacting()&&c.fire("action-end",{event:t,interaction:this}),this.stop(),this._ending=!1},t.prototype.currentAction=function(){return this._interacting?this.prepared.name:null},t.prototype.interacting=function(){return this._interacting},t.prototype.stop=function(){c.fire("stop",{interaction:this}),this._interacting&&(c.fire("stop-active",{interaction:this}),c.fire("stop-"+this.prepared.name,{interaction:this})),this.target=this.element=null,this._interacting=!1,this.prepared.name=this.prevEvent=null},t.prototype.getPointerIndex=function(t){return"mouse"===this.pointerType||"pen"===this.pointerType?0:this.pointerIds.indexOf(o.getPointerId(t))},t.prototype.updatePointer=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e&&/(down|start)$/i.test(e.type),r=o.getPointerId(t),i=this.getPointerIndex(t);return-1===i&&(i=this.pointerIds.length,this.pointerIds[i]=r),n&&c.fire("update-pointer-down",{pointer:t,event:e,down:n,pointerId:r,pointerIndex:i,interaction:this}),this.pointers[i]=t,i},t.prototype.removePointer=function(t,e){var n=this.getPointerIndex(t);-1!==n&&(c.fire("remove-pointer",{pointer:t,event:e,pointerIndex:n,interaction:this}),this.pointers.splice(n,1),this.pointerIds.splice(n,1),this.downTargets.splice(n,1),this.downTimes.splice(n,1))},t.prototype._updateEventTargets=function(t,e){this._eventTarget=t,this._curEventTarget=e},t}(),h=0;h<f.length;h++){var v=f[h];l[v]=g(v)}function g(t){return function(e){var n=o.getPointerType(e),i=o.getEventTargets(e),s=i[0],c=i[1],l=[];if(a.supportsTouch&&/touch/.test(e.type)){p=(new Date).getTime();for(var f=0;f<e.changedTouches.length;f++){var h=e.changedTouches[f],v=h,g=u.search(v,e.type,s);l.push([v,g||new d({pointerType:n})])}}else{var m=!1;if(!a.supportsPointerEvent&&/mouse/.test(e.type)){for(var y=0;y<r.interactions.length&&!m;y++)m="mouse"!==r.interactions[y].pointerType&&r.interactions[y].pointerIsDown;m=m||(new Date).getTime()-p<500||0===e.timeStamp}if(!m){var x=u.search(e,e.type,s);x||(x=new d({pointerType:n})),l.push([e,x])}}for(var b=0;b<l.length;b++){var w=l[b],E=w[0],S=w[1];S._updateEventTargets(s,c),S[t](E,e,s,c)}}}function m(t){for(var e=0;e<r.interactions.length;e++){var n=r.interactions[e];n.end(t),c.fire("endall",{event:t,interaction:n})}}var y={},x=a.pEventTypes;function b(t,e){var n=t.doc,o=0===e.indexOf("add")?i.add:i.remove;for(var s in r.delegatedEvents)o(n,s,i.delegateListener),o(n,s,i.delegateUseCapture,!0);for(var u in y)o(n,u,y[u],a.isIOS?{passive:!1}:void 0)}s.PointerEvent?(y[x.down]=l.pointerDown,y[x.move]=l.pointerMove,y[x.up]=l.pointerUp,y[x.cancel]=l.pointerUp):(y.mousedown=l.pointerDown,y.mousemove=l.pointerMove,y.mouseup=l.pointerUp,y.touchstart=l.pointerDown,y.touchmove=l.pointerMove,y.touchend=l.pointerUp,y.touchcancel=l.pointerUp),y.blur=m,c.on("update-pointer-down",function(t){var e=t.interaction,n=t.pointer,r=t.pointerId,i=t.pointerIndex,a=t.event,s=t.eventTarget,u=t.down;e.pointerIds[i]=r,e.pointers[i]=n,u&&(e.pointerIsDown=!0),e.interacting()||(o.setCoords(e.startCoords,e.pointers),o.copyCoords(e.curCoords,e.startCoords),o.copyCoords(e.prevCoords,e.startCoords),e.downEvent=a,e.downTimes[i]=e.curCoords.timeStamp,e.downTargets[i]=s||a&&o.getEventTargets(a)[0],e.pointerWasMoved=!1,o.pointerExtend(e.downPointer,n))}),r.signals.on("add-document",b),r.signals.on("remove-document",b),d.pointerMoveTolerance=1,d.doOnInteractions=g,d.endAll=m,d.signals=c,d.docEvents=y,r.endAllInteractions=m,e.exports=d},{"./scope":33,"./utils":44,"./utils/Signals":34,"./utils/browser":36,"./utils/domObjects":38,"./utils/events":40,"./utils/interactionFinder":45}],6:[function(t,e,n){"use strict";var r=t("../Interaction"),o=t("../InteractEvent"),i={firePrepared:a,names:[],methodDict:{}};function a(t,e,n,r){var i=t.prepared.name,a=new o(t,e,i,n,t.element,null,r);t.target.fire(a),t.prevEvent=a}r.signals.on("action-start",function(t){var e=t.interaction,n=t.event;e._interacting=!0,a(e,n,"start")}),r.signals.on("action-move",function(t){var e=t.interaction,n=t.event,r=t.preEnd;if(a(e,n,"move",r),!e.interacting())return!1}),r.signals.on("action-end",function(t){var e=t.interaction,n=t.event;a(e,n,"end")}),e.exports=i},{"../InteractEvent":3,"../Interaction":5}],7:[function(t,e,n){"use strict";var r=t("./base"),o=t("../utils"),i=t("../InteractEvent"),a=t("../Interactable"),s=t("../Interaction"),u=t("../defaultOptions"),c={defaults:{enabled:!1,mouseButtons:null,origin:null,snap:null,restrict:null,inertia:null,autoScroll:null,startAxis:"xy",lockAxis:"xy"},checker:function(t,e,n){var r=n.options.drag;return r.enabled?{name:"drag",axis:"start"===r.lockAxis?r.startAxis:r.lockAxis}:null},getCursor:function(){return"move"}};s.signals.on("before-action-move",function(t){var e=t.interaction;if("drag"===e.prepared.name){var n=e.prepared.axis;"x"===n?(e.curCoords.page.y=e.startCoords.page.y,e.curCoords.client.y=e.startCoords.client.y,e.pointerDelta.page.speed=Math.abs(e.pointerDelta.page.vx),e.pointerDelta.client.speed=Math.abs(e.pointerDelta.client.vx),e.pointerDelta.client.vy=0,e.pointerDelta.page.vy=0):"y"===n&&(e.curCoords.page.x=e.startCoords.page.x,e.curCoords.client.x=e.startCoords.client.x,e.pointerDelta.page.speed=Math.abs(e.pointerDelta.page.vy),e.pointerDelta.client.speed=Math.abs(e.pointerDelta.client.vy),e.pointerDelta.client.vx=0,e.pointerDelta.page.vx=0)}}),i.signals.on("new",function(t){var e=t.iEvent,n=t.interaction;if("dragmove"===e.type){var r=n.prepared.axis;"x"===r?(e.pageY=n.startCoords.page.y,e.clientY=n.startCoords.client.y,e.dy=0):"y"===r&&(e.pageX=n.startCoords.page.x,e.clientX=n.startCoords.client.x,e.dx=0)}}),a.prototype.draggable=function(t){return o.is.object(t)?(this.options.drag.enabled=!1!==t.enabled,this.setPerAction("drag",t),this.setOnEvents("drag",t),/^(xy|x|y|start)$/.test(t.lockAxis)&&(this.options.drag.lockAxis=t.lockAxis),/^(xy|x|y)$/.test(t.startAxis)&&(this.options.drag.startAxis=t.startAxis),this):o.is.bool(t)?(this.options.drag.enabled=t,t||(this.ondragstart=this.ondragstart=this.ondragend=null),this):this.options.drag},r.drag=c,r.names.push("drag"),o.merge(a.eventTypes,["dragstart","dragmove","draginertiastart","draginertiaresume","dragend"]),r.methodDict.drag="draggable",u.drag=c.defaults,e.exports=c},{"../InteractEvent":3,"../Interactable":4,"../Interaction":5,"../defaultOptions":18,"../utils":44,"./base":6}],8:[function(t,e,n){"use strict";var r=t("./base"),o=t("../utils"),i=t("../scope"),a=t("../interact"),s=t("../InteractEvent"),u=t("../Interactable"),c=t("../Interaction"),l=t("../defaultOptions"),f={defaults:{enabled:!1,accept:null,overlap:"pointer"}},p=!1;function d(t,e){for(var n=void 0,r=0;r<t.dropzones.length;r++){var o=t.dropzones[r],i=t.elements[r];i!==n&&(e.target=i,o.fire(e)),n=i}}function h(t,e){var n=function(t,e){for(var n=[],r=[],a=0;a<i.interactables.length;a++){var s=i.interactables[a];if(s.options.drop.enabled){var u=s.options.drop.accept;if(!(o.is.element(u)&&u!==e||o.is.string(u)&&!o.matchesSelector(e,u)))for(var c=o.is.string(s.target)?s._context.querySelectorAll(s.target):[s.target],l=0;l<c.length;l++){var f=c[l];f!==e&&(n.push(s),r.push(f))}}}return{elements:r,dropzones:n}}(0,e);t.dropzones=n.dropzones,t.elements=n.elements,t.rects=[];for(var r=0;r<t.dropzones.length;r++)t.rects[r]=t.dropzones[r].getRect(t.elements[r])}function v(t,e,n){var r={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null},i={dragEvent:n,interaction:t,target:t.dropElement,dropzone:t.dropTarget,relatedTarget:n.target,draggable:n.interactable,timeStamp:n.timeStamp};return t.dropElement!==t.prevDropElement&&(t.prevDropTarget&&(r.leave=o.extend({type:"dragleave"},i),n.dragLeave=r.leave.target=t.prevDropElement,n.prevDropzone=r.leave.dropzone=t.prevDropTarget),t.dropTarget&&(r.enter={dragEvent:n,interaction:t,target:t.dropElement,dropzone:t.dropTarget,relatedTarget:n.target,draggable:n.interactable,timeStamp:n.timeStamp,type:"dragenter"},n.dragEnter=t.dropElement,n.dropzone=t.dropTarget)),"dragend"===n.type&&t.dropTarget&&(r.drop=o.extend({type:"drop"},i),n.dropzone=t.dropTarget,n.relatedTarget=t.dropElement),"dragstart"===n.type&&(r.activate=o.extend({type:"dropactivate"},i),r.activate.target=null,r.activate.dropzone=null),"dragend"===n.type&&(r.deactivate=o.extend({type:"dropdeactivate"},i),r.deactivate.target=null,r.deactivate.dropzone=null),"dragmove"===n.type&&t.dropTarget&&(r.move=o.extend({dragmove:n,type:"dropmove"},i),n.dropzone=t.dropTarget),r}function g(t,e){var n=t.activeDrops,r=t.prevDropTarget,o=t.dropTarget,i=t.dropElement;e.leave&&r.fire(e.leave),e.move&&o.fire(e.move),e.enter&&o.fire(e.enter),e.drop&&o.fire(e.drop),e.deactivate&&d(n,e.deactivate),t.prevDropTarget=o,t.prevDropElement=i}c.signals.on("action-start",function(t){var e=t.interaction;t.event;if("drag"===e.prepared.name){e.activeDrops.dropzones=[],e.activeDrops.elements=[],e.activeDrops.rects=[],e.dropEvents=null,e.dynamicDrop||h(e.activeDrops,e.element);var n=e.prevEvent,r=v(e,0,n);r.activate&&d(e.activeDrops,r.activate)}}),s.signals.on("new",function(t){var e=t.interaction,n=t.iEvent,r=t.event;if("dragmove"===n.type||"dragend"===n.type){var i=e.element,a=n,s=function(t,e,n){var r=t.interaction,i=[];p&&h(r.activeDrops,n);for(var a=0;a<r.activeDrops.dropzones.length;a++){var s=r.activeDrops.dropzones[a],u=r.activeDrops.elements[a],c=r.activeDrops.rects[a];i.push(s.dropCheck(t,e,r.target,n,u,c)?u:null)}var l=o.indexOfDeepestElement(i);return{dropzone:r.activeDrops.dropzones[l]||null,element:r.activeDrops.elements[l]||null}}(a,r,i);e.dropTarget=s.dropzone,e.dropElement=s.element,e.dropEvents=v(e,0,a)}}),c.signals.on("action-move",function(t){var e=t.interaction;"drag"===e.prepared.name&&g(e,e.dropEvents)}),c.signals.on("action-end",function(t){var e=t.interaction;"drag"===e.prepared.name&&g(e,e.dropEvents)}),c.signals.on("stop-drag",function(t){var e=t.interaction;e.activeDrops={dropzones:null,elements:null,rects:null},e.dropEvents=null}),u.prototype.dropzone=function(t){return o.is.object(t)?(this.options.drop.enabled=!1!==t.enabled,o.is.function(t.ondrop)&&(this.events.ondrop=t.ondrop),o.is.function(t.ondropactivate)&&(this.events.ondropactivate=t.ondropactivate),o.is.function(t.ondropdeactivate)&&(this.events.ondropdeactivate=t.ondropdeactivate),o.is.function(t.ondragenter)&&(this.events.ondragenter=t.ondragenter),o.is.function(t.ondragleave)&&(this.events.ondragleave=t.ondragleave),o.is.function(t.ondropmove)&&(this.events.ondropmove=t.ondropmove),/^(pointer|center)$/.test(t.overlap)?this.options.drop.overlap=t.overlap:o.is.number(t.overlap)&&(this.options.drop.overlap=Math.max(Math.min(1,t.overlap),0)),"accept"in t&&(this.options.drop.accept=t.accept),"checker"in t&&(this.options.drop.checker=t.checker),this):o.is.bool(t)?(this.options.drop.enabled=t,t||(this.ondragenter=this.ondragleave=this.ondrop=this.ondropactivate=this.ondropdeactivate=null),this):this.options.drop},u.prototype.dropCheck=function(t,e,n,r,i,a){var s=!1;if(!(a=a||this.getRect(i)))return!!this.options.drop.checker&&this.options.drop.checker(t,e,s,this,i,n,r);var u=this.options.drop.overlap;if("pointer"===u){var c=o.getOriginXY(n,r,"drag"),l=o.getPageXY(t);l.x+=c.x,l.y+=c.y;var f=l.x>a.left&&l.x<a.right,p=l.y>a.top&&l.y<a.bottom;s=f&&p}var d=n.getRect(r);if(d&&"center"===u){var h=d.left+d.width/2,v=d.top+d.height/2;s=h>=a.left&&h<=a.right&&v>=a.top&&v<=a.bottom}if(d&&o.is.number(u)){var g=Math.max(0,Math.min(a.right,d.right)-Math.max(a.left,d.left))*Math.max(0,Math.min(a.bottom,d.bottom)-Math.max(a.top,d.top)),m=g/(d.width*d.height);s=m>=u}return this.options.drop.checker&&(s=this.options.drop.checker(t,e,s,this,i,n,r)),s},u.signals.on("unset",function(t){var e=t.interactable;e.dropzone(!1)}),u.settingsMethods.push("dropChecker"),c.signals.on("new",function(t){t.dropTarget=null,t.dropElement=null,t.prevDropTarget=null,t.prevDropElement=null,t.dropEvents=null,t.activeDrops={dropzones:[],elements:[],rects:[]}}),c.signals.on("stop",function(t){var e=t.interaction;e.dropTarget=e.dropElement=e.prevDropTarget=e.prevDropElement=null}),a.dynamicDrop=function(t){return o.is.bool(t)?(p=t,a):p},o.merge(u.eventTypes,["dragenter","dragleave","dropactivate","dropdeactivate","dropmove","drop"]),r.methodDict.drop="dropzone",l.drop=f.defaults,e.exports=f},{"../InteractEvent":3,"../Interactable":4,"../Interaction":5,"../defaultOptions":18,"../interact":21,"../scope":33,"../utils":44,"./base":6}],9:[function(t,e,n){"use strict";var r=t("./base"),o=t("../utils"),i=t("../InteractEvent"),a=t("../Interactable"),s=t("../Interaction"),u=t("../defaultOptions"),c={defaults:{enabled:!1,origin:null,restrict:null},checker:function(t,e,n,r,o){return o.pointerIds.length>=2?{name:"gesture"}:null},getCursor:function(){return""}};i.signals.on("new",function(t){var e=t.iEvent,n=t.interaction;"gesturestart"===e.type&&(e.ds=0,n.gesture.startDistance=n.gesture.prevDistance=e.distance,n.gesture.startAngle=n.gesture.prevAngle=e.angle,n.gesture.scale=1)}),i.signals.on("new",function(t){var e=t.iEvent,n=t.interaction;"gesturemove"===e.type&&(e.ds=e.scale-n.gesture.scale,n.target.fire(e),n.gesture.prevAngle=e.angle,n.gesture.prevDistance=e.distance,e.scale===1/0||null===e.scale||void 0===e.scale||isNaN(e.scale)||(n.gesture.scale=e.scale))}),a.prototype.gesturable=function(t){return o.is.object(t)?(this.options.gesture.enabled=!1!==t.enabled,this.setPerAction("gesture",t),this.setOnEvents("gesture",t),this):o.is.bool(t)?(this.options.gesture.enabled=t,t||(this.ongesturestart=this.ongesturestart=this.ongestureend=null),this):this.options.gesture},i.signals.on("set-delta",function(t){var e=t.interaction,n=t.iEvent,r=t.action,a=t.event,s=t.starting,u=t.ending,c=t.deltaSource;if("gesture"===r){var l=e.pointers;n.touches=[l[0],l[1]],s?(n.distance=o.touchDistance(l,c),n.box=o.touchBBox(l),n.scale=1,n.ds=0,n.angle=o.touchAngle(l,void 0,c),n.da=0):u||a instanceof i?(n.distance=e.prevEvent.distance,n.box=e.prevEvent.box,n.scale=e.prevEvent.scale,n.ds=n.scale-1,n.angle=e.prevEvent.angle,n.da=n.angle-e.gesture.startAngle):(n.distance=o.touchDistance(l,c),n.box=o.touchBBox(l),n.scale=n.distance/e.gesture.startDistance,n.angle=o.touchAngle(l,e.gesture.prevAngle,c),n.ds=n.scale-e.gesture.prevScale,n.da=n.angle-e.gesture.prevAngle)}}),s.signals.on("new",function(t){t.gesture={start:{x:0,y:0},startDistance:0,prevDistance:0,distance:0,scale:1,startAngle:0,prevAngle:0}}),r.gesture=c,r.names.push("gesture"),o.merge(a.eventTypes,["gesturestart","gesturemove","gestureend"]),r.methodDict.gesture="gesturable",u.gesture=c.defaults,e.exports=c},{"../InteractEvent":3,"../Interactable":4,"../Interaction":5,"../defaultOptions":18,"../utils":44,"./base":6}],10:[function(t,e,n){"use strict";var r=t("./base"),o=t("../utils"),i=t("../utils/browser"),a=t("../InteractEvent"),s=t("../Interactable"),u=t("../Interaction"),c=t("../defaultOptions"),l=i.supportsTouch||i.supportsPointerEvent?20:10,f={defaults:{enabled:!1,mouseButtons:null,origin:null,snap:null,restrict:null,inertia:null,autoScroll:null,square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},checker:function(t,e,n,r,i,a){if(!a)return null;var s=o.extend({},i.curCoords.page),u=n.options;if(u.resize.enabled){var c=u.resize,f={left:!1,right:!1,top:!1,bottom:!1};if(o.is.object(c.edges)){for(var d in f)f[d]=p(d,c.edges[d],s,i._eventTarget,r,a,c.margin||l);if(f.left=f.left&&!f.right,f.top=f.top&&!f.bottom,f.left||f.right||f.top||f.bottom)return{name:"resize",edges:f}}else{var h="y"!==u.resize.axis&&s.x>a.right-l,v="x"!==u.resize.axis&&s.y>a.bottom-l;if(h||v)return{name:"resize",axes:(h?"x":"")+(v?"y":"")}}}return null},cursors:i.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"},getCursor:function(t){if(t.axis)return f.cursors[t.name+t.axis];if(t.edges){for(var e="",n=["top","bottom","left","right"],r=0;r<4;r++)t.edges[n[r]]&&(e+=n[r]);return f.cursors[e]}}};function p(t,e,n,r,i,a,s){if(!e)return!1;if(!0===e){var u=o.is.number(a.width)?a.width:a.right-a.left,c=o.is.number(a.height)?a.height:a.bottom-a.top;if(u<0&&("left"===t?t="right":"right"===t&&(t="left")),c<0&&("top"===t?t="bottom":"bottom"===t&&(t="top")),"left"===t)return n.x<(u>=0?a.left:a.right)+s;if("top"===t)return n.y<(c>=0?a.top:a.bottom)+s;if("right"===t)return n.x>(u>=0?a.right:a.left)-s;if("bottom"===t)return n.y>(c>=0?a.bottom:a.top)-s}return!!o.is.element(r)&&(o.is.element(e)?e===r:o.matchesUpTo(r,e,i))}a.signals.on("new",function(t){var e=t.iEvent,n=t.interaction;if("resizestart"===e.type&&n.prepared.edges){var r=n.target.getRect(n.element),i=n.target.options.resize;if(i.square||i.preserveAspectRatio){var a=o.extend({},n.prepared.edges);a.top=a.top||a.left&&!a.bottom,a.left=a.left||a.top&&!a.right,a.bottom=a.bottom||a.right&&!a.top,a.right=a.right||a.bottom&&!a.left,n.prepared._linkedEdges=a}else n.prepared._linkedEdges=null;i.preserveAspectRatio&&(n.resizeStartAspectRatio=r.width/r.height),n.resizeRects={start:r,current:o.extend({},r),inverted:o.extend({},r),previous:o.extend({},r),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},e.rect=n.resizeRects.inverted,e.deltaRect=n.resizeRects.delta}}),a.signals.on("new",function(t){var e=t.iEvent,n=t.phase,r=t.interaction;if("move"===n&&r.prepared.edges){var i=r.target.options.resize,a=i.invert,s="reposition"===a||"negate"===a,u=r.prepared.edges,c=r.resizeRects.start,l=r.resizeRects.current,f=r.resizeRects.inverted,p=r.resizeRects.delta,d=o.extend(r.resizeRects.previous,f),h=u,v=e.dx,g=e.dy;if(i.preserveAspectRatio||i.square){var m=i.preserveAspectRatio?r.resizeStartAspectRatio:1;u=r.prepared._linkedEdges,h.left&&h.bottom||h.right&&h.top?g=-v/m:h.left||h.right?g=v/m:(h.top||h.bottom)&&(v=g*m)}if(u.top&&(l.top+=g),u.bottom&&(l.bottom+=g),u.left&&(l.left+=v),u.right&&(l.right+=v),s){if(o.extend(f,l),"reposition"===a){var y=void 0;f.top>f.bottom&&(y=f.top,f.top=f.bottom,f.bottom=y),f.left>f.right&&(y=f.left,f.left=f.right,f.right=y)}}else f.top=Math.min(l.top,c.bottom),f.bottom=Math.max(l.bottom,c.top),f.left=Math.min(l.left,c.right),f.right=Math.max(l.right,c.left);for(var x in f.width=f.right-f.left,f.height=f.bottom-f.top,f)p[x]=f[x]-d[x];e.edges=r.prepared.edges,e.rect=f,e.deltaRect=p}}),s.prototype.resizable=function(t){return o.is.object(t)?(this.options.resize.enabled=!1!==t.enabled,this.setPerAction("resize",t),this.setOnEvents("resize",t),/^x$|^y$|^xy$/.test(t.axis)?this.options.resize.axis=t.axis:null===t.axis&&(this.options.resize.axis=c.resize.axis),o.is.bool(t.preserveAspectRatio)?this.options.resize.preserveAspectRatio=t.preserveAspectRatio:o.is.bool(t.square)&&(this.options.resize.square=t.square),this):o.is.bool(t)?(this.options.resize.enabled=t,t||(this.onresizestart=this.onresizestart=this.onresizeend=null),this):this.options.resize},u.signals.on("new",function(t){t.resizeAxes="xy"}),a.signals.on("set-delta",function(t){var e=t.interaction,n=t.iEvent,r=t.action;if("resize"===r&&e.resizeAxes){var o=e.target.options;o.resize.square?("y"===e.resizeAxes?n.dx=n.dy:n.dy=n.dx,n.axes="xy"):(n.axes=e.resizeAxes,"x"===e.resizeAxes?n.dy=0:"y"===e.resizeAxes&&(n.dx=0))}}),r.resize=f,r.names.push("resize"),o.merge(s.eventTypes,["resizestart","resizemove","resizeinertiastart","resizeinertiaresume","resizeend"]),r.methodDict.resize="resizable",c.resize=f.defaults,e.exports=f},{"../InteractEvent":3,"../Interactable":4,"../Interaction":5,"../defaultOptions":18,"../utils":44,"../utils/browser":36,"./base":6}],11:[function(t,e,n){"use strict";var r=t("./utils/raf"),o=t("./utils/window").getWindow,i=t("./utils/is"),a=t("./utils/domUtils"),s=t("./Interaction"),u=t("./defaultOptions"),c={defaults:{enabled:!1,container:null,margin:60,speed:300},interaction:null,i:null,x:0,y:0,isScrolling:!1,prevTime:0,start:function(t){c.isScrolling=!0,r.cancel(c.i),c.interaction=t,c.prevTime=(new Date).getTime(),c.i=r.request(c.scroll)},stop:function(){c.isScrolling=!1,r.cancel(c.i)},scroll:function(){var t=c.interaction.target.options[c.interaction.prepared.name].autoScroll,e=t.container||o(c.interaction.element),n=(new Date).getTime(),a=(n-c.prevTime)/1e3,s=t.speed*a;s>=1&&(i.window(e)?e.scrollBy(c.x*s,c.y*s):e&&(e.scrollLeft+=c.x*s,e.scrollTop+=c.y*s),c.prevTime=n),c.isScrolling&&(r.cancel(c.i),c.i=r.request(c.scroll))},check:function(t,e){var n=t.options;return n[e].autoScroll&&n[e].autoScroll.enabled},onInteractionMove:function(t){var e=t.interaction,n=t.pointer;if(e.interacting()&&c.check(e.target,e.prepared.name))if(e.simulation)c.x=c.y=0;else{var r=void 0,s=void 0,u=void 0,l=void 0,f=e.target.options[e.prepared.name].autoScroll,p=f.container||o(e.element);if(i.window(p))l=n.clientX<c.margin,r=n.clientY<c.margin,s=n.clientX>p.innerWidth-c.margin,u=n.clientY>p.innerHeight-c.margin;else{var d=a.getElementClientRect(p);l=n.clientX<d.left+c.margin,r=n.clientY<d.top+c.margin,s=n.clientX>d.right-c.margin,u=n.clientY>d.bottom-c.margin}c.x=s?1:l?-1:0,c.y=u?1:r?-1:0,c.isScrolling||(c.margin=f.margin,c.speed=f.speed,c.start(e))}}};s.signals.on("stop-active",function(){c.stop()}),s.signals.on("action-move",c.onInteractionMove),u.perAction.autoScroll=c.defaults,e.exports=c},{"./Interaction":5,"./defaultOptions":18,"./utils/domUtils":39,"./utils/is":46,"./utils/raf":50,"./utils/window":52}],12:[function(t,e,n){"use strict";var r=t("../Interactable"),o=t("../actions/base"),i=t("../utils/is"),a=t("../utils/domUtils"),s=t("../utils"),u=s.warnOnce;r.prototype.getAction=function(t,e,n,r){var o=this.defaultActionChecker(t,e,n,r);return this.options.actionChecker?this.options.actionChecker(t,e,o,this,r,n):o},r.prototype.ignoreFrom=u(function(t){return this._backCompatOption("ignoreFrom",t)},"Interactable.ignoreForm() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),r.prototype.allowFrom=u(function(t){return this._backCompatOption("allowFrom",t)},"Interactable.allowForm() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),r.prototype.testIgnore=function(t,e,n){return!(!t||!i.element(n))&&(i.string(t)?a.matchesUpTo(n,t,e):!!i.element(t)&&a.nodeContains(t,n))},r.prototype.testAllow=function(t,e,n){return!t||!!i.element(n)&&(i.string(t)?a.matchesUpTo(n,t,e):!!i.element(t)&&a.nodeContains(t,n))},r.prototype.testIgnoreAllow=function(t,e,n){return!this.testIgnore(t.ignoreFrom,e,n)&&this.testAllow(t.allowFrom,e,n)},r.prototype.actionChecker=function(t){return i.function(t)?(this.options.actionChecker=t,this):null===t?(delete this.options.actionChecker,this):this.options.actionChecker},r.prototype.styleCursor=function(t){return i.bool(t)?(this.options.styleCursor=t,this):null===t?(delete this.options.styleCursor,this):this.options.styleCursor},r.prototype.defaultActionChecker=function(t,e,n,r){for(var i=this.getRect(r),a=e.buttons||{0:1,1:4,3:8,4:16}[e.button],s=null,u=0;u<o.names.length;u++){var c=o.names[u];if((!n.pointerIsDown||!/mouse|pointer/.test(n.pointerType)||0!=(a&this.options[c].mouseButtons))&&(s=o[c].checker(t,e,this,r,n,i)))return s}}},{"../Interactable":4,"../actions/base":6,"../utils":44,"../utils/domUtils":39,"../utils/is":46}],13:[function(t,e,n){"use strict";var r=t("../interact"),o=t("../Interactable"),i=t("../Interaction"),a=t("../actions/base"),s=t("../defaultOptions"),u=t("../scope"),c=t("../utils"),l=t("../utils/Signals").new();t("./InteractableMethods");var f={signals:l,withinInteractionLimit:g,maxInteractions:1/0,defaults:{perAction:{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}},setActionDefaults:function(t){c.extend(t.defaults,f.defaults.perAction)},validateAction:p};function p(t,e,n,r){return c.is.object(t)&&e.testIgnoreAllow(e.options[t.name],n,r)&&e.options[t.name].enabled&&g(e,n,t)?t:null}function d(t,e,n,r,o,i){for(var a=0,s=r.length;a<s;a++){var u=r[a],c=o[a],l=p(u.getAction(e,n,t,c),u,c,i);if(l)return{action:l,target:u,element:c}}return{}}function h(t,e,n,r){var o=[],i=[],a=r;function s(t){o.push(t),i.push(a)}for(;c.is.element(a);){o=[],i=[],u.interactables.forEachMatch(a,s);var l=d(t,e,n,o,i,r);if(l.action&&!l.target.options[l.action.name].manualStart)return l;a=c.parentNode(a)}return{}}function v(t,e){var n=e.action,r=e.target,o=e.element;if(n=n||{},t.target&&t.target.options.styleCursor&&(t.target._doc.documentElement.style.cursor=""),t.target=r,t.element=o,c.copyAction(t.prepared,n),r&&r.options.styleCursor){var i=n?a[n.name].getCursor(n):"";t.target._doc.documentElement.style.cursor=i}l.fire("prepared",{interaction:t})}function g(t,e,n){var r=t.options,o=r[n.name].max,i=r[n.name].maxPerElement,a=0,s=0,c=0;if(o&&i&&f.maxInteractions){for(var l=0;l<u.interactions.length;l++){var p=u.interactions[l],d=p.prepared.name;if(p.interacting()){if(++a>=f.maxInteractions)return!1;if(p.target===t){if((s+=d===n.name|0)>=o)return!1;if(p.element===e&&(c++,d!==n.name||c>=i))return!1}}}return f.maxInteractions>0}}i.signals.on("down",function(t){var e=t.interaction,n=t.pointer,r=t.event,o=t.eventTarget;if(!e.interacting()){var i=h(e,n,r,o);v(e,i)}}),i.signals.on("move",function(t){var e=t.interaction,n=t.pointer,r=t.event,o=t.eventTarget;if("mouse"===e.pointerType&&!e.pointerIsDown&&!e.interacting()){var i=h(e,n,r,o);v(e,i)}}),i.signals.on("move",function(t){var e=t.interaction,n=t.event;if(e.pointerIsDown&&!e.interacting()&&e.pointerWasMoved&&e.prepared.name){l.fire("before-start",t);var r=e.target;e.prepared.name&&r&&(r.options[e.prepared.name].manualStart||!g(r,e.element,e.prepared)?e.stop(n):e.start(e.prepared,r,e.element))}}),i.signals.on("stop",function(t){var e=t.interaction,n=e.target;n&&n.options.styleCursor&&(n._doc.documentElement.style.cursor="")}),r.maxInteractions=function(t){return c.is.number(t)?(f.maxInteractions=t,r):f.maxInteractions},o.settingsMethods.push("styleCursor"),o.settingsMethods.push("actionChecker"),o.settingsMethods.push("ignoreFrom"),o.settingsMethods.push("allowFrom"),s.base.actionChecker=null,s.base.styleCursor=!0,c.extend(s.perAction,f.defaults.perAction),e.exports=f},{"../Interactable":4,"../Interaction":5,"../actions/base":6,"../defaultOptions":18,"../interact":21,"../scope":33,"../utils":44,"../utils/Signals":34,"./InteractableMethods":12}],14:[function(t,e,n){"use strict";var r=t("./base"),o=t("../scope"),i=t("../utils/is"),a=t("../utils/domUtils"),s=a.parentNode;r.setActionDefaults(t("../actions/drag")),r.signals.on("before-start",function(t){var e=t.interaction,n=t.eventTarget,a=t.dx,u=t.dy;if("drag"===e.prepared.name){var c=Math.abs(a),l=Math.abs(u),f=e.target.options.drag,p=f.startAxis,d=c>l?"x":c<l?"y":"xy";if(e.prepared.axis="start"===f.lockAxis?d[0]:f.lockAxis,"xy"!==d&&"xy"!==p&&p!==d){e.prepared.name=null;for(var h=n,v=function(t){if(t!==e.target){var o=e.target.options.drag;if(!o.manualStart&&t.testIgnoreAllow(o,h,n)){var i=t.getAction(e.downPointer,e.downEvent,e,h);if(i&&"drag"===i.name&&function(t,e){if(!e)return!1;var n=e.options.drag.startAxis;return"xy"===t||"xy"===n||n===t}(d,t)&&r.validateAction(i,t,h,n))return t}}};i.element(h);){var g=o.interactables.forEachMatch(h,v);if(g){e.prepared.name="drag",e.target=g,e.element=h;break}h=s(h)}}}})},{"../actions/drag":7,"../scope":33,"../utils/domUtils":39,"../utils/is":46,"./base":13}],15:[function(t,e,n){"use strict";t("./base").setActionDefaults(t("../actions/gesture"))},{"../actions/gesture":9,"./base":13}],16:[function(t,e,n){"use strict";var r=t("./base"),o=t("../Interaction");function i(t){var e=t.prepared&&t.prepared.name;if(!e)return null;var n=t.target.options;return n[e].hold||n[e].delay}r.defaults.perAction.hold=0,r.defaults.perAction.delay=0,o.signals.on("new",function(t){t.autoStartHoldTimer=null}),r.signals.on("prepared",function(t){var e=t.interaction,n=i(e);n>0&&(e.autoStartHoldTimer=setTimeout(function(){e.start(e.prepared,e.target,e.element)},n))}),o.signals.on("move",function(t){var e=t.interaction,n=t.duplicate;e.pointerWasMoved&&!n&&clearTimeout(e.autoStartHoldTimer)}),r.signals.on("before-start",function(t){var e=t.interaction,n=i(e);n>0&&(e.prepared.name=null)}),e.exports={getHoldDuration:i}},{"../Interaction":5,"./base":13}],17:[function(t,e,n){"use strict";t("./base").setActionDefaults(t("../actions/resize"))},{"../actions/resize":10,"./base":13}],18:[function(t,e,n){"use strict";e.exports={base:{accept:null,preventDefault:"auto",deltaSource:"page"},perAction:{origin:{x:0,y:0},inertia:{enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}}}},{}],19:[function(t,e,n){"use strict";t("./inertia"),t("./modifiers/snap"),t("./modifiers/restrict"),t("./pointerEvents/base"),t("./pointerEvents/holdRepeat"),t("./pointerEvents/interactableTargets"),t("./autoStart/hold"),t("./actions/gesture"),t("./actions/resize"),t("./actions/drag"),t("./actions/drop"),t("./modifiers/snapSize"),t("./modifiers/restrictEdges"),t("./modifiers/restrictSize"),t("./autoStart/gesture"),t("./autoStart/resize"),t("./autoStart/drag"),t("./interactablePreventDefault.js"),t("./autoScroll"),e.exports=t("./interact")},{"./actions/drag":7,"./actions/drop":8,"./actions/gesture":9,"./actions/resize":10,"./autoScroll":11,"./autoStart/drag":14,"./autoStart/gesture":15,"./autoStart/hold":16,"./autoStart/resize":17,"./inertia":20,"./interact":21,"./interactablePreventDefault.js":22,"./modifiers/restrict":24,"./modifiers/restrictEdges":25,"./modifiers/restrictSize":26,"./modifiers/snap":27,"./modifiers/snapSize":28,"./pointerEvents/base":30,"./pointerEvents/holdRepeat":31,"./pointerEvents/interactableTargets":32}],20:[function(t,e,n){"use strict";var r=t("./InteractEvent"),o=t("./Interaction"),i=t("./modifiers/base"),a=t("./utils"),s=t("./utils/raf");function u(t){var e=t.inertiaStatus;if(e.active){var n=e.upCoords.page,r=e.upCoords.client;a.setCoords(t.curCoords,[{pageX:n.x+e.sx,pageY:n.y+e.sy,clientX:r.x+e.sx,clientY:r.y+e.sy}])}}o.signals.on("new",function(t){t.inertiaStatus={active:!1,smoothEnd:!1,allowResume:!1,startEvent:null,upCoords:{},xe:0,ye:0,sx:0,sy:0,t0:0,vx0:0,vys:0,duration:0,lambda_v0:0,one_ve_v0:0,i:null},t.boundInertiaFrame=function(){return function(){u(this),a.setCoordDeltas(this.pointerDelta,this.prevCoords,this.curCoords);var t=this.inertiaStatus,e=this.target.options[this.prepared.name].inertia.resistance,n=(new Date).getTime()/1e3-t.t0;if(n<t.te){var r=1-(Math.exp(-e*n)-t.lambda_v0)/t.one_ve_v0;if(t.modifiedXe===t.xe&&t.modifiedYe===t.ye)t.sx=t.xe*r,t.sy=t.ye*r;else{var o=a.getQuadraticCurvePoint(0,0,t.xe,t.ye,t.modifiedXe,t.modifiedYe,r);t.sx=o.x,t.sy=o.y}this.doMove(),t.i=s.request(this.boundInertiaFrame)}else t.sx=t.modifiedXe,t.sy=t.modifiedYe,this.doMove(),this.end(t.startEvent),t.active=!1,this.simulation=null;a.copyCoords(this.prevCoords,this.curCoords)}.apply(t)},t.boundSmoothEndFrame=function(){return function(){u(this);var t=this.inertiaStatus,e=(new Date).getTime()-t.t0,n=this.target.options[this.prepared.name].inertia.smoothEndDuration;e<n?(t.sx=a.easeOutQuad(e,0,t.xe,n),t.sy=a.easeOutQuad(e,0,t.ye,n),this.pointerMove(t.startEvent,t.startEvent),t.i=s.request(this.boundSmoothEndFrame)):(t.sx=t.xe,t.sy=t.ye,this.pointerMove(t.startEvent,t.startEvent),this.end(t.startEvent),t.smoothEnd=t.active=!1,this.simulation=null)}.apply(t)}}),o.signals.on("down",function(t){var e=t.interaction,n=t.event,u=t.pointer,c=t.eventTarget,l=e.inertiaStatus;if(l.active)for(var f=c;a.is.element(f);){if(f===e.element){s.cancel(l.i),l.active=!1,e.simulation=null,e.updatePointer(u),a.setCoords(e.curCoords,e.pointers);var p={interaction:e};o.signals.fire("before-action-move",p),o.signals.fire("action-resume",p);var d=new r(e,n,e.prepared.name,"inertiaresume",e.element);e.target.fire(d),e.prevEvent=d,i.resetStatuses(e.modifierStatuses),a.copyCoords(e.prevCoords,e.curCoords);break}f=a.parentNode(f)}}),o.signals.on("up",function(t){var e=t.interaction,n=t.event,o=e.inertiaStatus;if(e.interacting()&&!o.active){var u=e.target,c=u&&u.options,l=c&&e.prepared.name&&c[e.prepared.name].inertia,f=(new Date).getTime(),p={},d=a.extend({},e.curCoords.page),h=e.pointerDelta.client.speed,v=!1,g=void 0,m=l&&l.enabled&&"gesture"!==e.prepared.name&&n!==o.startEvent,y=m&&f-e.curCoords.timeStamp<50&&h>l.minSpeed&&h>l.endSpeed,x={interaction:e,pageCoords:d,statuses:p,preEnd:!0,requireEndOnly:!0};m&&!y&&(i.resetStatuses(p),(g=i.setAll(x)).shouldMove&&g.locked&&(v=!0)),(y||v)&&(a.copyCoords(o.upCoords,e.curCoords),e.pointers[0]=o.startEvent=new r(e,n,e.prepared.name,"inertiastart",e.element),o.t0=f,o.active=!0,o.allowResume=l.allowResume,e.simulation=o,u.fire(o.startEvent),y?(o.vx0=e.pointerDelta.client.vx,o.vy0=e.pointerDelta.client.vy,o.v0=h,function(t,e){var n=t.target.options[t.prepared.name].inertia,r=n.resistance,o=-Math.log(n.endSpeed/e.v0)/r;e.x0=t.prevEvent.pageX,e.y0=t.prevEvent.pageY,e.t0=e.startEvent.timeStamp/1e3,e.sx=e.sy=0,e.modifiedXe=e.xe=(e.vx0-o)/r,e.modifiedYe=e.ye=(e.vy0-o)/r,e.te=o,e.lambda_v0=r/e.v0,e.one_ve_v0=1-n.endSpeed/e.v0}(e,o),a.extend(d,e.curCoords.page),d.x+=o.xe,d.y+=o.ye,i.resetStatuses(p),g=i.setAll(x),o.modifiedXe+=g.dx,o.modifiedYe+=g.dy,o.i=s.request(e.boundInertiaFrame)):(o.smoothEnd=!0,o.xe=g.dx,o.ye=g.dy,o.sx=o.sy=0,o.i=s.request(e.boundSmoothEndFrame)))}}),o.signals.on("stop-active",function(t){var e=t.interaction,n=e.inertiaStatus;n.active&&(s.cancel(n.i),n.active=!1,e.simulation=null)})},{"./InteractEvent":3,"./Interaction":5,"./modifiers/base":23,"./utils":44,"./utils/raf":50}],21:[function(t,e,n){"use strict";var r=t("./utils/browser"),o=t("./utils/events"),i=t("./utils"),a=t("./scope"),s=t("./Interactable"),u=t("./Interaction"),c={};function l(t,e){var n=a.interactables.get(t,e);return n||((n=new s(t,e)).events.global=c),n}l.isSet=function(t,e){return-1!==a.interactables.indexOfElement(t,e&&e.context)},l.on=function(t,e,n){if(i.is.string(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),i.is.array(t)){for(var r=0;r<t.length;r++){var u=t[r];l.on(u,e,n)}return l}if(i.is.object(t)){for(var f in t)l.on(f,t[f],e);return l}return i.contains(s.eventTypes,t)?c[t]?c[t].push(e):c[t]=[e]:o.add(a.document,t,e,{options:n}),l},l.off=function(t,e,n){if(i.is.string(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),i.is.array(t)){for(var r=0;r<t.length;r++){var u=t[r];l.off(u,e,n)}return l}if(i.is.object(t)){for(var f in t)l.off(f,t[f],e);return l}if(i.contains(s.eventTypes,t)){var p=void 0;t in c&&-1!==(p=c[t].indexOf(e))&&c[t].splice(p,1)}else o.remove(a.document,t,e,n);return l},l.debug=function(){return a},l.getPointerAverage=i.pointerAverage,l.getTouchBBox=i.touchBBox,l.getTouchDistance=i.touchDistance,l.getTouchAngle=i.touchAngle,l.getElementRect=i.getElementRect,l.getElementClientRect=i.getElementClientRect,l.matchesSelector=i.matchesSelector,l.closest=i.closest,l.supportsTouch=function(){return r.supportsTouch},l.supportsPointerEvent=function(){return r.supportsPointerEvent},l.stop=function(t){for(var e=a.interactions.length-1;e>=0;e--)a.interactions[e].stop(t);return l},l.pointerMoveTolerance=function(t){return i.is.number(t)?(u.pointerMoveTolerance=t,l):u.pointerMoveTolerance},l.addDocument=a.addDocument,l.removeDocument=a.removeDocument,a.interact=l,e.exports=l},{"./Interactable":4,"./Interaction":5,"./scope":33,"./utils":44,"./utils/browser":36,"./utils/events":40}],22:[function(t,e,n){"use strict";var r=t("./Interactable"),o=t("./Interaction"),i=t("./scope"),a=t("./utils/is"),s=t("./utils/events"),u=t("./utils/browser"),c=t("./utils/domUtils"),l=c.nodeContains,f=c.matchesSelector;function p(t){var e=t.interaction,n=t.event;e.target&&e.target.checkAndPreventDefault(n)}r.prototype.preventDefault=function(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):a.bool(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault},r.prototype.checkAndPreventDefault=function(t){var e=this.options.preventDefault;"never"!==e&&("always"!==e&&(s.supportsPassive&&/^touch(start|move)$/.test(t.type)&&!u.isIOS||/^(mouse|pointer|touch)*(down|start)/i.test(t.type)||a.element(t.target)&&f(t.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *"))||t.preventDefault())};for(var d=["down","move","up","cancel"],h=0;h<d.length;h++){var v=d[h];o.signals.on(v,p)}o.docEvents.dragstart=function(t){for(var e=0;e<i.interactions.length;e++){var n=i.interactions[e];if(n.element&&(n.element===t.target||l(n.element,t.target)))return void n.target.checkAndPreventDefault(t)}}},{"./Interactable":4,"./Interaction":5,"./scope":33,"./utils/browser":36,"./utils/domUtils":39,"./utils/events":40,"./utils/is":46}],23:[function(t,e,n){"use strict";var r=t("../InteractEvent"),o=t("../Interaction"),i=t("../utils/extend"),a={names:[],setOffsets:function(t){var e=t.interaction,n=t.pageCoords,r=e.target,o=e.element,i=e.startOffset,s=r.getRect(o);s?(i.left=n.x-s.left,i.top=n.y-s.top,i.right=s.right-n.x,i.bottom=s.bottom-n.y,"width"in s||(s.width=s.right-s.left),"height"in s||(s.height=s.bottom-s.top)):i.left=i.top=i.right=i.bottom=0,t.rect=s,t.interactable=r,t.element=o;for(var u=0;u<a.names.length;u++){var c=a.names[u];t.options=r.options[e.prepared.name][c],t.options&&(e.modifierOffsets[c]=a[c].setOffset(t))}},setAll:function(t){var e=t.interaction,n=t.statuses,r=t.preEnd,o=t.requireEndOnly,u={dx:0,dy:0,changed:!1,locked:!1,shouldMove:!0};t.modifiedCoords=i({},t.pageCoords);for(var c=0;c<a.names.length;c++){var l=a.names[c],f=a[l],p=e.target.options[e.prepared.name][l];s(p,r,o)&&(t.status=t.status=n[l],t.options=p,t.offset=t.interaction.modifierOffsets[l],f.set(t),t.status.locked&&(t.modifiedCoords.x+=t.status.dx,t.modifiedCoords.y+=t.status.dy,u.dx+=t.status.dx,u.dy+=t.status.dy,u.locked=!0))}return u.shouldMove=!t.status||!u.locked||t.status.changed,u},resetStatuses:function(t){for(var e=0;e<a.names.length;e++){var n=a.names[e],r=t[n]||{};r.dx=r.dy=0,r.modifiedX=r.modifiedY=NaN,r.locked=!1,r.changed=!0,t[n]=r}return t},start:function(t,e){var n=t.interaction,r={interaction:n,pageCoords:("action-resume"===e?n.curCoords:n.startCoords).page,startOffset:n.startOffset,statuses:n.modifierStatuses,preEnd:!1,requireEndOnly:!1};a.setOffsets(r),a.resetStatuses(r.statuses),r.pageCoords=i({},n.startCoords.page),n.modifierResult=a.setAll(r)},beforeMove:function(t){var e=t.interaction,n=t.preEnd,r=t.interactingBeforeMove,o=a.setAll({interaction:e,preEnd:n,pageCoords:e.curCoords.page,statuses:e.modifierStatuses,requireEndOnly:!1});!o.shouldMove&&r&&(e._dontFireMove=!0),e.modifierResult=o},end:function(t){for(var e=t.interaction,n=t.event,r=0;r<a.names.length;r++){var o=a.names[r],i=e.target.options[e.prepared.name][o];if(s(i,!0,!0)){e.doMove({event:n,preEnd:!0});break}}},setXY:function(t){for(var e=t.iEvent,n=t.interaction,r=i({},t),o=0;o<a.names.length;o++){var s=a.names[o];if(r.options=n.target.options[n.prepared.name][s],r.options){var u=a[s];r.status=n.modifierStatuses[s],e[s]=u.modifyCoords(r)}}}};function s(t,e,n){return t&&t.enabled&&(e||!t.endOnly)&&(!n||t.endOnly)}o.signals.on("new",function(t){t.startOffset={left:0,right:0,top:0,bottom:0},t.modifierOffsets={},t.modifierStatuses=a.resetStatuses({}),t.modifierResult=null}),o.signals.on("action-start",a.start),o.signals.on("action-resume",a.start),o.signals.on("before-action-move",a.beforeMove),o.signals.on("action-end",a.end),r.signals.on("set-xy",a.setXY),e.exports=a},{"../InteractEvent":3,"../Interaction":5,"../utils/extend":41}],24:[function(t,e,n){"use strict";var r=t("./base"),o=t("../utils"),i=t("../defaultOptions"),a={defaults:{enabled:!1,endOnly:!1,restriction:null,elementRect:null},setOffset:function(t){var e=t.rect,n=t.startOffset,r=t.options,o=r&&r.elementRect,i={};return e&&o?(i.left=n.left-e.width*o.left,i.top=n.top-e.height*o.top,i.right=n.right-e.width*(1-o.right),i.bottom=n.bottom-e.height*(1-o.bottom)):i.left=i.top=i.right=i.bottom=0,i},set:function(t){var e=t.modifiedCoords,n=t.interaction,r=t.status,i=t.options;if(!i)return r;var a=r.useStatusXY?{x:r.x,y:r.y}:o.extend({},e),u=s(i.restriction,n,a);if(!u)return r;r.dx=0,r.dy=0,r.locked=!1;var c=u,l=a.x,f=a.y,p=n.modifierOffsets.restrict;"x"in u&&"y"in u?(l=Math.max(Math.min(c.x+c.width-p.right,a.x),c.x+p.left),f=Math.max(Math.min(c.y+c.height-p.bottom,a.y),c.y+p.top)):(l=Math.max(Math.min(c.right-p.right,a.x),c.left+p.left),f=Math.max(Math.min(c.bottom-p.bottom,a.y),c.top+p.top)),r.dx=l-a.x,r.dy=f-a.y,r.changed=r.modifiedX!==l||r.modifiedY!==f,r.locked=!(!r.dx&&!r.dy),r.modifiedX=l,r.modifiedY=f},modifyCoords:function(t){var e=t.page,n=t.client,r=t.status,o=t.phase,i=t.options,a=i&&i.elementRect;if(i&&i.enabled&&("start"!==o||!a||!r.locked)&&r.locked)return e.x+=r.dx,e.y+=r.dy,n.x+=r.dx,n.y+=r.dy,{dx:r.dx,dy:r.dy}},getRestrictionRect:s};function s(t,e,n){return o.is.function(t)?o.resolveRectLike(t,e.target,e.element,[n.x,n.y,e]):o.resolveRectLike(t,e.target,e.element)}r.restrict=a,r.names.push("restrict"),i.perAction.restrict=a.defaults,e.exports=a},{"../defaultOptions":18,"../utils":44,"./base":23}],25:[function(t,e,n){"use strict";var r=t("./base"),o=t("../utils"),i=t("../utils/rect"),a=t("../defaultOptions"),s=t("../actions/resize"),u=t("./restrict"),c=u.getRestrictionRect,l={top:1/0,left:1/0,bottom:-1/0,right:-1/0},f={top:-1/0,left:-1/0,bottom:1/0,right:1/0},p={defaults:{enabled:!1,endOnly:!1,min:null,max:null,offset:null},setOffset:function(t){var e=t.interaction,n=t.startOffset,r=t.options;if(!r)return o.extend({},n);var i=c(r.offset,e,e.startCoords.page);return i?{top:n.top+i.y,left:n.left+i.x,bottom:n.bottom+i.y,right:n.right+i.x}:n},set:function(t){var e=t.modifiedCoords,n=t.interaction,r=t.status,a=t.offset,s=t.options,u=n.prepared.linkedEdges||n.prepared.edges;if(n.interacting()&&u){var p=r.useStatusXY?{x:r.x,y:r.y}:o.extend({},e),d=i.xywhToTlbr(c(s.inner,n,p))||l,h=i.xywhToTlbr(c(s.outer,n,p))||f,v=p.x,g=p.y;r.dx=0,r.dy=0,r.locked=!1,u.top?g=Math.min(Math.max(h.top+a.top,p.y),d.top+a.top):u.bottom&&(g=Math.max(Math.min(h.bottom-a.bottom,p.y),d.bottom-a.bottom)),u.left?v=Math.min(Math.max(h.left+a.left,p.x),d.left+a.left):u.right&&(v=Math.max(Math.min(h.right-a.right,p.x),d.right-a.right)),r.dx=v-p.x,r.dy=g-p.y,r.changed=r.modifiedX!==v||r.modifiedY!==g,r.locked=!(!r.dx&&!r.dy),r.modifiedX=v,r.modifiedY=g}},modifyCoords:function(t){var e=t.page,n=t.client,r=t.status,o=t.phase,i=t.options;if(i&&i.enabled&&("start"!==o||!r.locked)&&r.locked)return e.x+=r.dx,e.y+=r.dy,n.x+=r.dx,n.y+=r.dy,{dx:r.dx,dy:r.dy}},noInner:l,noOuter:f,getRestrictionRect:c};r.restrictEdges=p,r.names.push("restrictEdges"),a.perAction.restrictEdges=p.defaults,s.defaults.restrictEdges=p.defaults,e.exports=p},{"../actions/resize":10,"../defaultOptions":18,"../utils":44,"../utils/rect":51,"./base":23,"./restrict":24}],26:[function(t,e,n){"use strict";var r=t("./base"),o=t("./restrictEdges"),i=t("../utils"),a=t("../utils/rect"),s=t("../defaultOptions"),u=t("../actions/resize"),c={width:-1/0,height:-1/0},l={width:1/0,height:1/0},f={defaults:{enabled:!1,endOnly:!1,min:null,max:null},setOffset:function(t){var e=t.interaction;return e.startOffset},set:function(t){var e=t.interaction,n=t.options,r=e.prepared.linkedEdges||e.prepared.edges;if(e.interacting()&&r){var s=a.xywhToTlbr(e.resizeRects.inverted),u=a.tlbrToXywh(o.getRestrictionRect(n.min,e))||c,f=a.tlbrToXywh(o.getRestrictionRect(n.max,e))||l;t.options={enabled:n.enabled,endOnly:n.endOnly,inner:i.extend({},o.noInner),outer:i.extend({},o.noOuter)},r.top?(t.options.inner.top=s.bottom-u.height,t.options.outer.top=s.bottom-f.height):r.bottom&&(t.options.inner.bottom=s.top+u.height,t.options.outer.bottom=s.top+f.height),r.left?(t.options.inner.left=s.right-u.width,t.options.outer.left=s.right-f.width):r.right&&(t.options.inner.right=s.left+u.width,t.options.outer.right=s.left+f.width),o.set(t)}},modifyCoords:o.modifyCoords};r.restrictSize=f,r.names.push("restrictSize"),s.perAction.restrictSize=f.defaults,u.defaults.restrictSize=f.defaults,e.exports=f},{"../actions/resize":10,"../defaultOptions":18,"../utils":44,"../utils/rect":51,"./base":23,"./restrictEdges":25}],27:[function(t,e,n){"use strict";var r=t("./base"),o=t("../interact"),i=t("../utils"),a=t("../defaultOptions"),s={defaults:{enabled:!1,endOnly:!1,range:1/0,targets:null,offsets:null,relativePoints:null},setOffset:function(t){var e=t.interaction,n=t.interactable,r=t.element,o=t.rect,a=t.startOffset,s=t.options,u=[],c=i.rectToXY(i.resolveRectLike(s.origin)),l=c||i.getOriginXY(n,r,e.prepared.name),f=void 0;if("startCoords"===(s=s||n.options[e.prepared.name].snap||{}).offset)f={x:e.startCoords.page.x-l.x,y:e.startCoords.page.y-l.y};else{var p=i.resolveRectLike(s.offset,n,r,[e]);f=i.rectToXY(p)||{x:0,y:0}}if(o&&s.relativePoints&&s.relativePoints.length)for(var d=0;d<s.relativePoints.length;d++){var h=s.relativePoints[d],v=h.x,g=h.y;u.push({x:a.left-o.width*v+f.x,y:a.top-o.height*g+f.y})}else u.push(f);return u},set:function(t){var e=t.interaction,n=t.modifiedCoords,r=t.status,o=t.options,a=t.offset,s=[],u=void 0,c=void 0,l=void 0;if(r.useStatusXY)c={x:r.x,y:r.y};else{var f=i.getOriginXY(e.target,e.element,e.prepared.name);(c=i.extend({},n)).x-=f.x,c.y-=f.y}r.realX=c.x,r.realY=c.y;for(var p=o.targets?o.targets.length:0,d=0;d<a.length;d++)for(var h=a[d],v=h.x,g=h.y,m=c.x-v,y=c.y-g,x=0;x<(o.targets||[]).length;x++){var b=(o.targets||[])[x];(u=i.is.function(b)?b(m,y,e):b)&&s.push({x:i.is.number(u.x)?u.x+v:m,y:i.is.number(u.y)?u.y+g:y,range:i.is.number(u.range)?u.range:o.range})}var w={target:null,inRange:!1,distance:0,range:0,dx:0,dy:0};for(l=0,p=s.length;l<p;l++){var E=(u=s[l]).range,S=u.x-c.x,_=u.y-c.y,T=i.hypot(S,_),C=T<=E;E===1/0&&w.inRange&&w.range!==1/0&&(C=!1),w.target&&!(C?w.inRange&&E!==1/0?T/E<w.distance/w.range:E===1/0&&w.range!==1/0||T<w.distance:!w.inRange&&T<w.distance)||(w.target=u,w.distance=T,w.range=E,w.inRange=C,w.dx=S,w.dy=_,r.range=E)}var O=void 0;w.target?(O=r.modifiedX!==w.target.x||r.modifiedY!==w.target.y,r.modifiedX=w.target.x,r.modifiedY=w.target.y):(O=!0,r.modifiedX=NaN,r.modifiedY=NaN),r.dx=w.dx,r.dy=w.dy,r.changed=O||w.inRange&&!r.locked,r.locked=w.inRange},modifyCoords:function(t){var e=t.page,n=t.client,r=t.status,o=t.phase,i=t.options,a=i&&i.relativePoints;if(i&&i.enabled&&("start"!==o||!a||!a.length))return r.locked&&(e.x+=r.dx,e.y+=r.dy,n.x+=r.dx,n.y+=r.dy),{range:r.range,locked:r.locked,x:r.modifiedX,y:r.modifiedY,realX:r.realX,realY:r.realY,dx:r.dx,dy:r.dy}}};o.createSnapGrid=function(t){return function(e,n){var r=t.limits||{left:-1/0,right:1/0,top:-1/0,bottom:1/0},o=0,a=0;i.is.object(t.offset)&&(o=t.offset.x,a=t.offset.y);var s=Math.round((e-o)/t.x),u=Math.round((n-a)/t.y),c=Math.max(r.left,Math.min(r.right,s*t.x+o)),l=Math.max(r.top,Math.min(r.bottom,u*t.y+a));return{x:c,y:l,range:t.range}}},r.snap=s,r.names.push("snap"),a.perAction.snap=s.defaults,e.exports=s},{"../defaultOptions":18,"../interact":21,"../utils":44,"./base":23}],28:[function(t,e,n){"use strict";var r=t("./base"),o=t("./snap"),i=t("../defaultOptions"),a=t("../actions/resize"),s=t("../utils/"),u={defaults:{enabled:!1,endOnly:!1,range:1/0,targets:null,offsets:null},setOffset:function(t){var e=t.interaction,n=t.options,r=e.prepared.edges;if(r){t.options={relativePoints:[{x:r.left?0:1,y:r.top?0:1}],origin:{x:0,y:0},offset:"self",range:n.range};var i=o.setOffset(t);return t.options=n,i}},set:function(t){var e=t.interaction,n=t.options,r=t.offset,i=t.modifiedCoords,a=s.extend({},i),u=a.x-r[0].x,c=a.y-r[0].y;t.options=s.extend({},n),t.options.targets=[];for(var l=0;l<(n.targets||[]).length;l++){var f=(n.targets||[])[l],p=void 0;(p=s.is.function(f)?f(u,c,e):f)&&("width"in p&&"height"in p&&(p.x=p.width,p.y=p.height),t.options.targets.push(p))}o.set(t)},modifyCoords:function(t){var e=t.options;t.options=s.extend({},e),t.options.enabled=e.enabled,t.options.relativePoints=[null],o.modifyCoords(t)}};r.snapSize=u,r.names.push("snapSize"),i.perAction.snapSize=u.defaults,a.defaults.snapSize=u.defaults,e.exports=u},{"../actions/resize":10,"../defaultOptions":18,"../utils/":44,"./base":23,"./snap":27}],29:[function(t,e,n){"use strict";var r=t("../utils/pointerUtils");e.exports=function(){function t(e,n,o,i,a){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r.pointerExtend(this,o),o!==n&&r.pointerExtend(this,n),this.interaction=a,this.timeStamp=(new Date).getTime(),this.originalEvent=o,this.type=e,this.pointerId=r.getPointerId(n),this.pointerType=r.getPointerType(n),this.target=i,this.currentTarget=null,"tap"===e){var s=a.getPointerIndex(n);this.dt=this.timeStamp-a.downTimes[s];var u=this.timeStamp-a.tapTime;this.double=!!(a.prevTap&&"doubletap"!==a.prevTap.type&&a.prevTap.target===this.target&&u<500)}else"doubletap"===e&&(this.dt=n.timeStamp-a.tapTime)}return t.prototype.subtractOrigin=function(t){var e=t.x,n=t.y;return this.pageX-=e,this.pageY-=n,this.clientX-=e,this.clientY-=n,this},t.prototype.addOrigin=function(t){var e=t.x,n=t.y;return this.pageX+=e,this.pageY+=n,this.clientX+=e,this.clientY+=n,this},t.prototype.preventDefault=function(){this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},t}()},{"../utils/pointerUtils":49}],30:[function(t,e,n){"use strict";var r=t("./PointerEvent"),o=t("../Interaction"),i=t("../utils"),a=t("../defaultOptions"),s=t("../utils/Signals").new(),u=["down","up","cancel"],c=["down","up","cancel"],l={PointerEvent:r,fire:f,collectEventTargets:p,signals:s,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:["down","move","up","cancel","tap","doubletap","hold"]};function f(t){for(var e=t.interaction,n=t.pointer,o=t.event,a=t.eventTarget,u=t.type,c=void 0===u?t.pointerEvent.type:u,l=t.targets,d=void 0===l?p(t):l,h=t.pointerEvent,v=void 0===h?new r(c,n,o,a,e):h,g={interaction:e,pointer:n,event:o,eventTarget:a,targets:d,type:c,pointerEvent:v},m=0;m<d.length;m++){var y=d[m];for(var x in y.props||{})v[x]=y.props[x];var b=i.getOriginXY(y.eventable,y.element);if(v.subtractOrigin(b),v.eventable=y.eventable,v.currentTarget=y.element,y.eventable.fire(v),v.addOrigin(b),v.immediatePropagationStopped||v.propagationStopped&&m+1<d.length&&d[m+1].element!==v.currentTarget)break}if(s.fire("fired",g),"tap"===c){var w=v.double?f({interaction:e,pointer:n,event:o,eventTarget:a,type:"doubletap"}):v;e.prevTap=w,e.tapTime=w.timeStamp}return v}function p(t){var e=t.interaction,n=t.pointer,r=t.event,o=t.eventTarget,a=t.type,u=e.getPointerIndex(n);if("tap"===a&&(e.pointerWasMoved||!e.downTargets[u]||e.downTargets[u]!==o))return[];for(var c=i.getPath(o),l={interaction:e,pointer:n,event:r,eventTarget:o,type:a,path:c,targets:[],element:null},f=0;f<c.length;f++){var p=c[f];l.element=p,s.fire("collect-targets",l)}return"hold"===a&&(l.targets=l.targets.filter(function(t){return t.eventable.options.holdDuration===e.holdTimers[u].duration})),l.targets}o.signals.on("update-pointer-down",function(t){var e=t.interaction,n=t.pointerIndex;e.holdTimers[n]={duration:1/0,timeout:null}}),o.signals.on("remove-pointer",function(t){var e=t.interaction,n=t.pointerIndex;e.holdTimers.splice(n,1)}),o.signals.on("move",function(t){var e=t.interaction,n=t.pointer,r=t.event,o=t.eventTarget,i=t.duplicateMove,a=e.getPointerIndex(n);i||e.pointerIsDown&&!e.pointerWasMoved||(e.pointerIsDown&&clearTimeout(e.holdTimers[a].timeout),f({interaction:e,pointer:n,event:r,eventTarget:o,type:"move"}))}),o.signals.on("down",function(t){for(var e=t.interaction,n=t.pointer,r=t.event,o=t.eventTarget,a=t.pointerIndex,u=e.holdTimers[a],c=i.getPath(o),l={interaction:e,pointer:n,event:r,eventTarget:o,type:"hold",targets:[],path:c,element:null},p=0;p<c.length;p++){var d=c[p];l.element=d,s.fire("collect-targets",l)}if(l.targets.length){for(var h=1/0,v=0;v<l.targets.length;v++){var g=l.targets[v],m=g.eventable.options.holdDuration;m<h&&(h=m)}u.duration=h,u.timeout=setTimeout(function(){f({interaction:e,eventTarget:o,pointer:n,event:r,type:"hold"})},h)}}),o.signals.on("up",function(t){var e=t.interaction,n=t.pointer,r=t.event,o=t.eventTarget;e.pointerWasMoved||f({interaction:e,eventTarget:o,pointer:n,event:r,type:"tap"})});for(var d=["up","cancel"],h=0;h<d.length;h++){var v=d[h];o.signals.on(v,function(t){var e=t.interaction,n=t.pointerIndex;e.holdTimers[n]&&clearTimeout(e.holdTimers[n].timeout)})}function g(t){return function(e){var n=e.interaction,r=e.pointer,o=e.event,i=e.eventTarget;f({interaction:n,eventTarget:i,pointer:r,event:o,type:t})}}for(var m=0;m<u.length;m++)o.signals.on(u[m],g(c[m]));o.signals.on("new",function(t){t.prevTap=null,t.tapTime=0,t.holdTimers=[]}),a.pointerEvents=l.defaults,e.exports=l},{"../Interaction":5,"../defaultOptions":18,"../utils":44,"../utils/Signals":34,"./PointerEvent":29}],31:[function(t,e,n){"use strict";var r=t("./base"),o=t("../Interaction");r.signals.on("new",u),r.signals.on("fired",c);for(var i=["move","up","cancel","endall"],a=0;a<i.length;a++){var s=i[a];o.signals.on(s,l)}function u(t){var e=t.pointerEvent;"hold"===e.type&&(e.count=(e.count||0)+1)}function c(t){var e=t.interaction,n=t.pointerEvent,o=t.eventTarget,i=t.targets;if("hold"===n.type&&i.length){var a=i[0].eventable.options.holdRepeatInterval;a<=0||(e.holdIntervalHandle=setTimeout(function(){r.fire({interaction:e,eventTarget:o,type:"hold",pointer:n,event:n})},a))}}function l(t){var e=t.interaction;e.holdIntervalHandle&&(clearInterval(e.holdIntervalHandle),e.holdIntervalHandle=null)}r.defaults.holdRepeatInterval=0,r.types.push("holdrepeat"),e.exports={onNew:u,onFired:c,endHoldRepeat:l}},{"../Interaction":5,"./base":30}],32:[function(t,e,n){"use strict";var r=t("./base"),o=t("../Interactable"),i=t("../utils/is"),a=t("../scope"),s=t("../utils/extend"),u=t("../utils/arr"),c=u.merge;r.signals.on("collect-targets",function(t){var e=t.targets,n=t.element,r=t.type,o=t.eventTarget;a.interactables.forEachMatch(n,function(t){var a=t.events,s=a.options;a[r]&&i.element(n)&&t.testIgnoreAllow(s,n,o)&&e.push({element:n,eventable:a,props:{interactable:t}})})}),o.signals.on("new",function(t){var e=t.interactable;e.events.getRect=function(t){return e.getRect(t)}}),o.signals.on("set",function(t){var e=t.interactable,n=t.options;s(e.events.options,r.defaults),s(e.events.options,n)}),c(o.eventTypes,r.types),o.prototype.pointerEvents=function(t){return s(this.events.options,t),this};var l=o.prototype._backCompatOption;o.prototype._backCompatOption=function(t,e){var n=l.call(this,t,e);return n===this&&(this.events.options[t]=e),n},o.settingsMethods.push("pointerEvents")},{"../Interactable":4,"../scope":33,"../utils/arr":35,"../utils/extend":41,"../utils/is":46,"./base":30}],33:[function(t,e,n){"use strict";var r=t("./utils"),o=t("./utils/events"),i=t("./utils/Signals").new(),a=t("./utils/window"),s=a.getWindow,u={signals:i,events:o,utils:r,document:t("./utils/domObjects").document,documents:[],addDocument:function(t,e){if(r.contains(u.documents,t))return!1;e=e||s(t),u.documents.push(t),o.documents.push(t),t!==u.document&&o.add(e,"unload",u.onWindowUnload),i.fire("add-document",{doc:t,win:e})},removeDocument:function(t,e){var n=u.documents.indexOf(t);e=e||s(t),o.remove(e,"unload",u.onWindowUnload),u.documents.splice(n,1),o.documents.splice(n,1),i.fire("remove-document",{win:e,doc:t})},onWindowUnload:function(){u.removeDocument(this.document,this)}};e.exports=u},{"./utils":44,"./utils/Signals":34,"./utils/domObjects":38,"./utils/events":40,"./utils/window":52}],34:[function(t,e,n){"use strict";var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.listeners={}}return t.prototype.on=function(t,e){this.listeners[t]?this.listeners[t].push(e):this.listeners[t]=[e]},t.prototype.off=function(t,e){if(this.listeners[t]){var n=this.listeners[t].indexOf(e);-1!==n&&this.listeners[t].splice(n,1)}},t.prototype.fire=function(t,e){var n=this.listeners[t];if(n)for(var r=0;r<n.length;r++){var o=n[r];if(!1===o(e,t))return}},t}();r.new=function(){return new r},e.exports=r},{}],35:[function(t,e,n){"use strict";e.exports={contains:function(t,e){return-1!==t.indexOf(e)},merge:function(t,e){for(var n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}}},{}],36:[function(t,e,n){"use strict";var r=t("./window"),o=r.window,i=t("./is"),a=t("./domObjects"),s=a.Element,u=o.navigator,c={supportsTouch:!!("ontouchstart"in o||i.function(o.DocumentTouch)&&a.document instanceof o.DocumentTouch),supportsPointerEvent:!!a.PointerEvent,isIOS:/iP(hone|od|ad)/.test(u.platform),isIOS7:/iP(hone|od|ad)/.test(u.platform)&&/OS 7[^\d]/.test(u.appVersion),isIe9:/MSIE 9/.test(u.userAgent),prefixedMatchesSelector:"matches"in s.prototype?"matches":"webkitMatchesSelector"in s.prototype?"webkitMatchesSelector":"mozMatchesSelector"in s.prototype?"mozMatchesSelector":"oMatchesSelector"in s.prototype?"oMatchesSelector":"msMatchesSelector",pEventTypes:a.PointerEvent?a.PointerEvent===o.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,wheelEvent:"onmousewheel"in a.document?"mousewheel":"wheel"};c.isOperaMobile="Opera"===u.appName&&c.supportsTouch&&u.userAgent.match("Presto"),e.exports=c},{"./domObjects":38,"./is":46,"./window":52}],37:[function(t,e,n){"use strict";var r=t("./is");e.exports=function t(e){var n={};for(var o in e)r.plainObject(e[o])?n[o]=t(e[o]):n[o]=e[o];return n}},{"./is":46}],38:[function(t,e,n){"use strict";var r={},o=t("./window").window;function i(){}r.document=o.document,r.DocumentFragment=o.DocumentFragment||i,r.SVGElement=o.SVGElement||i,r.SVGSVGElement=o.SVGSVGElement||i,r.SVGElementInstance=o.SVGElementInstance||i,r.Element=o.Element||i,r.HTMLElement=o.HTMLElement||r.Element,r.Event=o.Event,r.Touch=o.Touch||i,r.PointerEvent=o.PointerEvent||o.MSPointerEvent,e.exports=r},{"./window":52}],39:[function(t,e,n){"use strict";var r=t("./window"),o=t("./browser"),i=t("./is"),a=t("./domObjects"),s={nodeContains:function(t,e){for(;e;){if(e===t)return!0;e=e.parentNode}return!1},closest:function(t,e){for(;i.element(t);){if(s.matchesSelector(t,e))return t;t=s.parentNode(t)}return null},parentNode:function(t){var e=t.parentNode;if(i.docFrag(e)){for(;(e=e.host)&&i.docFrag(e););return e}return e},matchesSelector:function(t,e){return r.window!==r.realWindow&&(e=e.replace(/\/deep\//g," ")),t[o.prefixedMatchesSelector](e)},indexOfDeepestElement:function(t){var e=[],n=[],r=void 0,o=t[0],i=o?0:-1,s=void 0,u=void 0,c=void 0,l=void 0;for(c=1;c<t.length;c++)if((r=t[c])&&r!==o)if(o){if(r.parentNode!==r.ownerDocument)if(o.parentNode!==r.ownerDocument){if(!e.length)for(s=o;s.parentNode&&s.parentNode!==s.ownerDocument;)e.unshift(s),s=s.parentNode;if(o instanceof a.HTMLElement&&r instanceof a.SVGElement&&!(r instanceof a.SVGSVGElement)){if(r===o.parentNode)continue;s=r.ownerSVGElement}else s=r;for(n=[];s.parentNode!==s.ownerDocument;)n.unshift(s),s=s.parentNode;for(l=0;n[l]&&n[l]===e[l];)l++;var f=[n[l-1],n[l],e[l]];for(u=f[0].lastChild;u;){if(u===f[1]){o=r,i=c,e=[];break}if(u===f[2])break;u=u.previousSibling}}else o=r,i=c}else o=r,i=c;return i},matchesUpTo:function(t,e,n){for(;i.element(t);){if(s.matchesSelector(t,e))return!0;if((t=s.parentNode(t))===n)return s.matchesSelector(t,e)}return!1},getActualElement:function(t){return t instanceof a.SVGElementInstance?t.correspondingUseElement:t},getScrollXY:function(t){return{x:(t=t||r.window).scrollX||t.document.documentElement.scrollLeft,y:t.scrollY||t.document.documentElement.scrollTop}},getElementClientRect:function(t){var e=t instanceof a.SVGElement?t.getBoundingClientRect():t.getClientRects()[0];return e&&{left:e.left,right:e.right,top:e.top,bottom:e.bottom,width:e.width||e.right-e.left,height:e.height||e.bottom-e.top}},getElementRect:function(t){var e=s.getElementClientRect(t);if(!o.isIOS7&&e){var n=s.getScrollXY(r.getWindow(t));e.left+=n.x,e.right+=n.x,e.top+=n.y,e.bottom+=n.y}return e},getPath:function(t){for(var e=[];t;)e.push(t),t=s.parentNode(t);return e},trySelector:function(t){return!!i.string(t)&&(a.document.querySelector(t),!0)}};e.exports=s},{"./browser":36,"./domObjects":38,"./is":46,"./window":52}],40:[function(t,e,n){"use strict";var r=t("./is"),o=t("./domUtils"),i=t("./pointerUtils"),a=t("./pointerExtend"),s=t("./window"),u=s.window,c=t("./arr"),l=c.contains,f=[],p=[],d={},h=[],v=function(){var t=!1;return u.document.createElement("div").addEventListener("test",null,{get capture(){t=!0}}),t}();function g(t,e,n,r){var o=w(r),i=f.indexOf(t),a=p[i];a||(a={events:{},typeCount:0},i=f.push(t)-1,p.push(a)),a.events[e]||(a.events[e]=[],a.typeCount++),l(a.events[e],n)||(t.addEventListener(e,n,v?o:!!o.capture),a.events[e].push(n))}function m(t,e,n,r){var o=w(r),i=f.indexOf(t),a=p[i];if(a&&a.events)if("all"!==e){if(a.events[e]){var s=a.events[e].length;if("all"===n){for(var u=0;u<s;u++)m(t,e,a.events[e][u],o);return}for(var c=0;c<s;c++)if(a.events[e][c]===n){t.removeEventListener("on"+e,n,v?o:!!o.capture),a.events[e].splice(c,1);break}a.events[e]&&0===a.events[e].length&&(a.events[e]=null,a.typeCount--)}a.typeCount||(p.splice(i,1),f.splice(i,1))}else for(e in a.events)a.events.hasOwnProperty(e)&&m(t,e,"all")}function y(t,e){var n=w(e),s={},u=d[t.type],c=i.getEventTargets(t),l=c[0],f=l;for(a(s,t),s.originalEvent=t,s.preventDefault=b;r.element(f);){for(var p=0;p<u.selectors.length;p++){var h=u.selectors[p],v=u.contexts[p];if(o.matchesSelector(f,h)&&o.nodeContains(v,l)&&o.nodeContains(v,f)){var g=u.listeners[p];s.currentTarget=f;for(var m=0;m<g.length;m++){var y=g[m],x=y[0],E=y[1],S=y[2];E===!!n.capture&&S===n.passive&&x(s)}}}f=o.parentNode(f)}}function x(t){return y.call(this,t,!0)}function b(){this.originalEvent.preventDefault()}function w(t){return r.object(t)?t:{capture:t}}e.exports={add:g,remove:m,addDelegate:function(t,e,n,r,o){var i=w(o);if(!d[n]){d[n]={selectors:[],contexts:[],listeners:[]};for(var a=0;a<h.length;a++){var s=h[a];g(s,n,y),g(s,n,x,!0)}}var u=d[n],c=void 0;for(c=u.selectors.length-1;c>=0&&(u.selectors[c]!==t||u.contexts[c]!==e);c--);-1===c&&(c=u.selectors.length,u.selectors.push(t),u.contexts.push(e),u.listeners.push([])),u.listeners[c].push([r,!!i.capture,i.passive])},removeDelegate:function(t,e,n,r,o){var i=w(o),a=d[n],s=!1,u=void 0;if(a)for(u=a.selectors.length-1;u>=0;u--)if(a.selectors[u]===t&&a.contexts[u]===e){for(var c=a.listeners[u],l=c.length-1;l>=0;l--){var f=c[l],p=f[0],h=f[1],v=f[2];if(p===r&&h===!!i.capture&&v===i.passive){c.splice(l,1),c.length||(a.selectors.splice(u,1),a.contexts.splice(u,1),a.listeners.splice(u,1),m(e,n,y),m(e,n,x,!0),a.selectors.length||(d[n]=null)),s=!0;break}}if(s)break}},delegateListener:y,delegateUseCapture:x,delegatedEvents:d,documents:h,supportsOptions:v,_elements:f,_targets:p}},{"./arr":35,"./domUtils":39,"./is":46,"./pointerExtend":48,"./pointerUtils":49,"./window":52}],41:[function(t,e,n){"use strict";e.exports=function(t,e){for(var n in e)t[n]=e[n];return t}},{}],42:[function(t,e,n){"use strict";var r=t("./rect"),o=r.resolveRectLike,i=r.rectToXY;e.exports=function(t,e,n){var r=t.options[n],a=r&&r.origin,s=a||t.options.origin,u=o(s,t,e,[t&&e]);return i(u)||{x:0,y:0}}},{"./rect":51}],43:[function(t,e,n){"use strict";e.exports=function(t,e){return Math.sqrt(t*t+e*e)}},{}],44:[function(t,e,n){"use strict";var r=t("./extend"),o=t("./window"),i={warnOnce:function(t,e){var n=!1;return function(){return n||(o.window.console.warn(e),n=!0),t.apply(this,arguments)}},_getQBezierValue:function(t,e,n,r){var o=1-t;return o*o*e+2*o*t*n+t*t*r},getQuadraticCurvePoint:function(t,e,n,r,o,a,s){return{x:i._getQBezierValue(s,t,n,o),y:i._getQBezierValue(s,e,r,a)}},easeOutQuad:function(t,e,n,r){return-n*(t/=r)*(t-2)+e},copyAction:function(t,e){return t.name=e.name,t.axis=e.axis,t.edges=e.edges,t},is:t("./is"),extend:r,hypot:t("./hypot"),getOriginXY:t("./getOriginXY")};r(i,t("./arr")),r(i,t("./domUtils")),r(i,t("./pointerUtils")),r(i,t("./rect")),e.exports=i},{"./arr":35,"./domUtils":39,"./extend":41,"./getOriginXY":42,"./hypot":43,"./is":46,"./pointerUtils":49,"./rect":51,"./window":52}],45:[function(t,e,n){"use strict";var r=t("../scope"),o=t("./index"),i={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(t,e,n){for(var r=o.getPointerType(t),a=o.getPointerId(t),s={pointer:t,pointerId:a,pointerType:r,eventType:e,eventTarget:n},u=0;u<i.methodOrder.length;u++){var c=i.methodOrder[u],l=i[c](s);if(l)return l}},simulationResume:function(t){var e=t.pointerType,n=t.eventType,i=t.eventTarget;if(!/down|start/i.test(n))return null;for(var a=0;a<r.interactions.length;a++){var s=r.interactions[a],u=i;if(s.simulation&&s.simulation.allowResume&&s.pointerType===e)for(;u;){if(u===s.element)return s;u=o.parentNode(u)}}return null},mouseOrPen:function(t){var e=t.pointerId,n=t.pointerType,i=t.eventType;if("mouse"!==n&&"pen"!==n)return null;for(var a=void 0,s=0;s<r.interactions.length;s++){var u=r.interactions[s];if(u.pointerType===n){if(u.simulation&&!o.contains(u.pointerIds,e))continue;if(u.interacting())return u;a||(a=u)}}if(a)return a;for(var c=0;c<r.interactions.length;c++){var l=r.interactions[c];if(!(l.pointerType!==n||/down/i.test(i)&&l.simulation))return l}return null},hasPointer:function(t){for(var e=t.pointerId,n=0;n<r.interactions.length;n++){var i=r.interactions[n];if(o.contains(i.pointerIds,e))return i}},idle:function(t){for(var e=t.pointerType,n=0;n<r.interactions.length;n++){var o=r.interactions[n];if(1===o.pointerIds.length){var i=o.target;if(i&&!i.options.gesture.enabled)continue}else if(o.pointerIds.length>=2)continue;if(!o.interacting()&&e===o.pointerType)return o}return null}};e.exports=i},{"../scope":33,"./index":44}],46:[function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=t("./window"),i=t("./isWindow"),a={array:function(){},window:function(t){return t===o.window||i(t)},docFrag:function(t){return a.object(t)&&11===t.nodeType},object:function(t){return!!t&&"object"===(void 0===t?"undefined":r(t))},function:function(t){return"function"==typeof t},number:function(t){return"number"==typeof t},bool:function(t){return"boolean"==typeof t},string:function(t){return"string"==typeof t},element:function(t){if(!t||"object"!==(void 0===t?"undefined":r(t)))return!1;var e=o.getWindow(t)||o.window;return/object|function/.test(r(e.Element))?t instanceof e.Element:1===t.nodeType&&"string"==typeof t.nodeName},plainObject:function(t){return a.object(t)&&"Object"===t.constructor.name}};a.array=function(t){return a.object(t)&&void 0!==t.length&&a.function(t.splice)},e.exports=a},{"./isWindow":47,"./window":52}],47:[function(t,e,n){"use strict";e.exports=function(t){return!(!t||!t.Window)&&t instanceof t.Window}},{}],48:[function(t,e,n){"use strict";function r(t,n){for(var r in n){var o=e.exports.prefixedPropREs,i=!1;for(var a in o)if(0===r.indexOf(a)&&o[a].test(r)){i=!0;break}i||"function"==typeof n[r]||(t[r]=n[r])}return t}r.prefixedPropREs={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/},e.exports=r},{}],49:[function(t,e,n){"use strict";var r=t("./hypot"),o=t("./browser"),i=t("./domObjects"),a=t("./domUtils"),s=t("./domObjects"),u=t("./is"),c=t("./pointerExtend"),l={copyCoords:function(t,e){t.page=t.page||{},t.page.x=e.page.x,t.page.y=e.page.y,t.client=t.client||{},t.client.x=e.client.x,t.client.y=e.client.y,t.timeStamp=e.timeStamp},setCoordDeltas:function(t,e,n){t.page.x=n.page.x-e.page.x,t.page.y=n.page.y-e.page.y,t.client.x=n.client.x-e.client.x,t.client.y=n.client.y-e.client.y,t.timeStamp=n.timeStamp-e.timeStamp;var o=Math.max(t.timeStamp/1e3,.001);t.page.speed=r(t.page.x,t.page.y)/o,t.page.vx=t.page.x/o,t.page.vy=t.page.y/o,t.client.speed=r(t.client.x,t.page.y)/o,t.client.vx=t.client.x/o,t.client.vy=t.client.y/o},isNativePointer:function(t){return t instanceof i.Event||t instanceof i.Touch},getXY:function(t,e,n){return n=n||{},t=t||"page",n.x=e[t+"X"],n.y=e[t+"Y"],n},getPageXY:function(t,e){return e=e||{},o.isOperaMobile&&l.isNativePointer(t)?(l.getXY("screen",t,e),e.x+=window.scrollX,e.y+=window.scrollY):l.getXY("page",t,e),e},getClientXY:function(t,e){return e=e||{},o.isOperaMobile&&l.isNativePointer(t)?l.getXY("screen",t,e):l.getXY("client",t,e),e},getPointerId:function(t){return u.number(t.pointerId)?t.pointerId:t.identifier},setCoords:function(t,e,n){var r=e.length>1?l.pointerAverage(e):e[0],o={};l.getPageXY(r,o),t.page.x=o.x,t.page.y=o.y,l.getClientXY(r,o),t.client.x=o.x,t.client.y=o.y,t.timeStamp=u.number(n)?n:(new Date).getTime()},pointerExtend:c,getTouchPair:function(t){var e=[];return u.array(t)?(e[0]=t[0],e[1]=t[1]):"touchend"===t.type?1===t.touches.length?(e[0]=t.touches[0],e[1]=t.changedTouches[0]):0===t.touches.length&&(e[0]=t.changedTouches[0],e[1]=t.changedTouches[1]):(e[0]=t.touches[0],e[1]=t.touches[1]),e},pointerAverage:function(t){for(var e={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<t.length;n++){var r=t[n];for(var o in e)e[o]+=r[o]}for(var i in e)e[i]/=t.length;return e},touchBBox:function(t){if(t.length||t.touches&&t.touches.length>1){var e=l.getTouchPair(t),n=Math.min(e[0].pageX,e[1].pageX),r=Math.min(e[0].pageY,e[1].pageY),o=Math.max(e[0].pageX,e[1].pageX),i=Math.max(e[0].pageY,e[1].pageY);return{x:n,y:r,left:n,top:r,width:o-n,height:i-r}}},touchDistance:function(t,e){var n=e+"X",o=e+"Y",i=l.getTouchPair(t),a=i[0][n]-i[1][n],s=i[0][o]-i[1][o];return r(a,s)},touchAngle:function(t,e,n){var r=n+"X",o=n+"Y",i=l.getTouchPair(t),a=i[1][r]-i[0][r],s=i[1][o]-i[0][o],u=180*Math.atan2(s,a)/Math.PI;return u},getPointerType:function(t){return u.string(t.pointerType)?t.pointerType:u.number(t.pointerType)?[void 0,void 0,"touch","pen","mouse"][t.pointerType]:/touch/.test(t.type)||t instanceof s.Touch?"touch":"mouse"},getEventTargets:function(t){var e=u.function(t.composedPath)?t.composedPath():t.path;return[a.getActualElement(e?e[0]:t.target),a.getActualElement(t.currentTarget)]}};e.exports=l},{"./browser":36,"./domObjects":38,"./domUtils":39,"./hypot":43,"./is":46,"./pointerExtend":48}],50:[function(t,e,n){"use strict";for(var r=t("./window"),o=r.window,i=["ms","moz","webkit","o"],a=0,s=void 0,u=void 0,c=0;c<i.length&&!o.requestAnimationFrame;c++)s=o[i[c]+"RequestAnimationFrame"],u=o[i[c]+"CancelAnimationFrame"]||o[i[c]+"CancelRequestAnimationFrame"];s||(s=function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-a)),r=setTimeout(function(){t(e+n)},n);return a=e+n,r}),u||(u=function(t){clearTimeout(t)}),e.exports={request:s,cancel:u}},{"./window":52}],51:[function(t,e,n){"use strict";var r=t("./extend"),o=t("./is"),i=t("./domUtils"),a=i.closest,s=i.parentNode,u=i.getElementRect,c={getStringOptionResult:function(t,e,n){return o.string(t)?t="parent"===t?s(n):"self"===t?e.getRect(n):a(n,t):null},resolveRectLike:function(t,e,n,r){return t=c.getStringOptionResult(t,e,n)||t,o.function(t)&&(t=t.apply(null,r)),o.element(t)&&(t=u(t)),t},rectToXY:function(t){return t&&{x:"x"in t?t.x:t.left,y:"y"in t?t.y:t.top}},xywhToTlbr:function(t){return!t||"left"in t&&"top"in t||((t=r({},t)).left=t.x||0,t.top=t.y||0,t.right=t.right||t.left+t.width,t.bottom=t.bottom||t.top+t.height),t},tlbrToXywh:function(t){return!t||"x"in t&&"y"in t||((t=r({},t)).x=t.left||0,t.top=t.top||0,t.width=t.width||t.right-t.x,t.height=t.height||t.bottom-t.y),t}};e.exports=c},{"./domUtils":39,"./extend":41,"./is":46}],52:[function(t,e,n){"use strict";var r=e.exports,o=t("./isWindow");function i(t){r.realWindow=t;var e=t.document.createTextNode("");e.ownerDocument!==t.document&&"function"==typeof t.wrap&&t.wrap(e)===e&&(t=t.wrap(t)),r.window=t}"undefined"==typeof window?(r.window=void 0,r.realWindow=void 0):i(window),r.getWindow=function(t){if(o(t))return t;var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||r.window},r.init=i},{"./isWindow":47}]},{},[1])(1)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.splineInterpolate=void 0;var r=n(1);Object.defineProperty(e,"splineInterpolate",{enumerable:!0,get:function(){return r.splineInterpolate}});var o=c(n(0)),i=u(n(121)),a=u(n(2)),s=c(n(122));function u(t){return t&&t.__esModule?t:{default:t}}function c(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function l(t){return{_:t,loadContentsOf:function(t){o.set({gl:this._.gl}),this._.loadContentsOf(t)},destroy:function(){o.set({gl:this._.gl}),this._.destroy()}}}function f(t){return l(i.default.fromElement(t))}function p(t,e,n){return this._.isInitialized&&t._.width==this.width&&t._.height==this.height||function(t,e){var n=o.get("gl"),r=n.UNSIGNED_BYTE;if(n.getExtension("OES_texture_float")&&n.getExtension("OES_texture_float_linear")){var s=new i.default(100,100,n.RGBA,n.FLOAT);try{s.drawTo(function(){r=n.FLOAT})}catch(t){}s.destroy()}this._.texture&&this._.texture.destroy(),this._.spareTexture&&this._.spareTexture.destroy(),this.width=t,this.height=e,this._.texture=new i.default(t,e,n.RGBA,r),this._.spareTexture=new i.default(t,e,n.RGBA,r),this._.extraTexture=this._.extraTexture||new i.default(0,0,n.RGBA,r),this._.flippedShader=this._.flippedShader||new a.default(null,"    uniform sampler2D texture;    varying vec2 texCoord;    void main() {      gl_FragColor = texture2D(texture, vec2(texCoord.x, 1.0 - texCoord.y));    }  "),this._.isInitialized=!0}.call(this,e||t._.width,n||t._.height),t._.use(),this._.texture.drawTo(function(){a.default.getDefaultShader().drawRect()}),this}function d(){return this._.texture.use(),this._.flippedShader.drawRect(),this}function h(t){return t.parentNode.insertBefore(this,t),t.parentNode.removeChild(t),this}function v(){var t=o.get("gl"),e=new i.default(this._.texture.width,this._.texture.height,t.RGBA,t.UNSIGNED_BYTE);return this._.texture.use(),e.drawTo(function(){a.default.getDefaultShader().drawRect()}),l(e)}function g(){var t=o.get("gl"),e=this._.texture.width,n=this._.texture.height,r=new Uint8Array(e*n*4);return this._.texture.drawTo(function(){t.readPixels(0,0,e,n,t.RGBA,t.UNSIGNED_BYTE,r)}),r}function m(t){return function(){return o.set({gl:this._.gl}),t.apply(this,arguments)}}e.default={canvas:function(){var t=document.createElement("canvas");try{o.set({gl:t.getContext("experimental-webgl",{preserveDrawingBuffer:!0,premultipliedAlpha:!1})})}catch(t){o.set({gl:null})}var e=o.get("gl");if(!e)throw"This browser does not support WebGL";return t._={gl:e,isInitialized:!1,texture:null,spareTexture:null,flippedShader:null},t.texture=m(f),t.draw=m(p),t.update=m(d),t.replace=m(h),t.contents=m(v),t.getPixelArray=m(g),t.brightnessContrast=m(s.brightnessContrast),t.hexagonalPixelate=m(s.hexagonalPixelate),t.hueSaturation=m(s.hueSaturation),t.colorHalftone=m(s.colorHalftone),t.triangleBlur=m(s.triangleBlur),t.unsharpMask=m(s.unsharpMask),t.perspective=m(s.perspective),t.matrixWarp=m(s.matrixWarp),t.bulgePinch=m(s.bulgePinch),t.tiltShift=m(s.tiltShift),t.dotScreen=m(s.dotScreen),t.edgeWork=m(s.edgeWork),t.lensBlur=m(s.lensBlur),t.zoomBlur=m(s.zoomBlur),t.noise=m(s.noise),t.denoise=m(s.denoise),t.curves=m(s.curves),t.swirl=m(s.swirl),t.ink=m(s.ink),t.vignette=m(s.vignette),t.vibrance=m(s.vibrance),t.sepia=m(s.sepia),t}}},function(t,e,n){(function(n){var r,o,i;o=[],void 0===(i="function"==typeof(r=function(){"use strict";function e(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){a(r.response,e,n)},r.onerror=function(){console.error("could not download file")},r.send()}function r(t){var e=new XMLHttpRequest;return e.open("HEAD",t,!1),e.send(),200<=e.status&&299>=e.status}function o(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,a=i.saveAs||"object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype?function(t,n,a){var s=i.URL||i.webkitURL,u=document.createElement("a");n=n||t.name||"download",u.download=n,u.rel="noopener","string"==typeof t?(u.href=t,u.origin===location.origin?o(u):r(u.href)?e(t,n,a):o(u,u.target="_blank")):(u.href=s.createObjectURL(t),setTimeout(function(){s.revokeObjectURL(u.href)},4e4),setTimeout(function(){o(u)},0))}:"msSaveOrOpenBlob"in navigator?function(t,n,i){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Depricated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,i),n);else if(r(t))e(t,n,i);else{var a=document.createElement("a");a.href=t,a.target="_blank",setTimeout(function(){o(a)})}}:function(t,n,r,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,r);var a="application/octet-stream"===t.type,s=/constructor/i.test(i.HTMLElement)||i.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||a&&s)&&"object"==typeof FileReader){var c=new FileReader;c.onloadend=function(){var t=c.result;t=u?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=t:location=t,o=null},c.readAsDataURL(t)}else{var l=i.URL||i.webkitURL,f=l.createObjectURL(t);o?o.location=f:location.href=f,o=null,setTimeout(function(){l.revokeObjectURL(f)},4e4)}};i.saveAs=a.saveAs=a,void 0!==t&&(t.exports=a)})?r.apply(e,o):r)||(t.exports=i)}).call(this,n(73))},function(t,e,n){var r,o;
/*! rasterizeHTML.js - v1.3.0 - 2018-03-18
* http://www.github.com/cburgmer/rasterizeHTML.js
* Copyright (c) 2018 Christoph Burgmer; Licensed MIT */
/*! rasterizeHTML.js - v1.3.0 - 2018-03-18
* http://www.github.com/cburgmer/rasterizeHTML.js
* Copyright (c) 2018 Christoph Burgmer; Licensed MIT */
!function(i,a){void 0===i&&void 0!==window&&(i=window),r=[n(74),n(150),n(151),n(152)],void 0===(o=function(t,e,n,r){return i.rasterizeHTML=function(t,e,n,r){var o=function(t){"use strict";var e={},n=[];e.joinUrl=function(e,n){return e?t.resolve(e,n):n},e.getConstantUniqueIdFor=function(t){return n.indexOf(t)<0&&n.push(t),n.indexOf(t)},e.clone=function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n};return e.parseOptionalParameters=function(t){var n={canvas:null,options:{}};return null==t[0]||function(t){return function(t){return"object"==typeof t&&null!==t}(t)&&Object.prototype.toString.apply(t).match(/\[object (Canvas|HTMLCanvasElement)\]/i)}(t[0])?(n.canvas=t[0]||null,n.options=e.clone(t[1])):n.options=e.clone(t[0]),n},e}(t),i=function(t){"use strict";var e={},n=function(t,e,n){var r=t[e];return t[e]=function(){var t=Array.prototype.slice.call(arguments);return n.apply(this,[t,r])},r};return e.baseUrlRespectingXhr=function(e,r){return function(){var o=new e;return n(o,"open",function(e,n){var o=e.shift(),i=e.shift(),a=t.joinUrl(r,i);return n.apply(this,[o,a].concat(e))}),o}},e.finishNotifyingXhr=function(t){var e,r=0,o=0,i=!1,a=new Promise(function(t){e=function(){var e=r-o;e<=0&&i&&t({totalCount:r})}}),s=function(){var i=new t;return n(i,"send",function(t,e){return r+=1,e.apply(this,arguments)}),i.addEventListener("load",function(){o+=1,e()}),i};return s.waitForRequestsToFinish=function(){return i=!0,e(),a},s},e}(o),a=function(t){"use strict";var e={},n=function(t){return Array.prototype.slice.call(t)},r={active:!0,hover:!0,focus:!1,target:!1};return e.fakeUserAction=function(e,n,o){var i=e.querySelector(n),a=":"+o,s="rasterizehtml"+o;i&&(r[o]?t.addClassNameRecursively(i,s):t.addClassName(i,s),t.rewriteCssSelectorWith(e,a,"."+s))},e.persistInputValues=function(t){var e=t.querySelectorAll("input"),r=t.querySelectorAll("textarea"),o=function(t){return"checkbox"===t.type||"radio"===t.type};n(e).filter(o).forEach(function(t){t.checked?t.setAttribute("checked",""):t.removeAttribute("checked")}),n(e).filter(function(t){return!o(t)}).forEach(function(t){t.setAttribute("value",t.value)}),n(r).forEach(function(t){t.textContent=t.value})},e.rewriteTagNameSelectorsToLowerCase=function(e){t.lowercaseCssTypeSelectors(e,t.findHtmlOnlyNodeNames(e))},e}(function(){"use strict";var t={},e=function(t){return Array.prototype.slice.call(t)};t.addClassName=function(t,e){t.className+=" "+e},t.addClassNameRecursively=function(e,n){t.addClassName(e,n),e.parentNode!==e.ownerDocument&&t.addClassNameRecursively(e.parentNode,n)};var n=function(t,n){var r=t.cssText.replace(/^[^\{]+/,""),o=n+" "+r;!function(t,n){var r=t.parentStyleSheet,o=e(r.cssRules).indexOf(t);r.insertRule(n,o+1),r.deleteRule(o)}(t,o)},r=function(t){t.textContent=function(t){return e(t).reduce(function(t,e){return t+e.cssText},"")}(t.sheet.cssRules)},o=function(t,o,i){var a=function(t){return"((?:^|[^.#:\\w])|(?=\\W))("+t.join("|")+")(?=\\W|$)"}(o);e(t.querySelectorAll("style")).forEach(function(t){void 0===t.sheet&&function(t){var e=document.implementation.createHTMLDocument(""),n=document.createElement("style");n.textContent=t.textContent,e.body.appendChild(n),t.sheet=n.sheet}(t);var o=e(t.sheet.cssRules).filter(function(t){return t.selectorText&&new RegExp(a,"i").test(t.selectorText)});o.length&&(o.forEach(function(t){var e=t.selectorText.replace(new RegExp(a,"gi"),function(t,e,n){return e+i(n)});e!==t.selectorText&&n(t,e)}),r(t))})};return t.rewriteCssSelectorWith=function(t,e,n){o(t,[e],function(){return n})},t.lowercaseCssTypeSelectors=function(t,e){o(t,e,function(t){return t.toLowerCase()})},t.findHtmlOnlyNodeNames=function(t){var e,n=t.ownerDocument.createTreeWalker(t,NodeFilter.SHOW_ELEMENT),r={},o={};do{e=n.currentNode.tagName.toLowerCase(),"http://www.w3.org/1999/xhtml"===n.currentNode.namespaceURI?r[e]=!0:o[e]=!0}while(n.nextNode());return Object.keys(r).filter(function(t){return!o[t]})},t}()),s=function(t,e,n,r){"use strict";var o={};o.executeJavascript=function(t,n){return new Promise(function(o){var i=function(t,e,n,r){var o=t.createElement(e);return o.style.visibility="hidden",o.style.width=n+"px",o.style.height=r+"px",o.style.position="absolute",o.style.top=-1e4-r+"px",o.style.left=-1e4-n+"px",t.getElementsByTagName("body")[0].appendChild(o),o}(r.document,"iframe",n.width,n.height),a=t.outerHTML,s=[],u=n.executeJsTimeout||0,c=function(){var t=i.contentDocument;r.document.getElementsByTagName("body")[0].removeChild(i),o({document:t,errors:s})},l=i.contentWindow.XMLHttpRequest,f=e.finishNotifyingXhr(l),p=e.baseUrlRespectingXhr(f,n.baseUrl);i.onload=function(){(function(t){return t>0?new Promise(function(e){setTimeout(e,t)}):Promise.resolve()})(u).then(f.waitForRequestsToFinish).then(c)},i.contentDocument.open(),i.contentWindow.XMLHttpRequest=p,i.contentWindow.onerror=function(t){s.push({resourceType:"scriptExecution",msg:t})},i.contentDocument.write("<!DOCTYPE html>"),i.contentDocument.write(a),i.contentDocument.close()})};var i=function(t,e,n,o,i){var a,s,u,c,l,f,p,d,h=Math.max(t.scrollWidth,t.clientWidth),v=Math.max(t.scrollHeight,t.clientHeight);return e?(f=function(t,e){var n=t.querySelector(e);if(n)return n;if(t.ownerDocument.querySelector(e)===t)return t;throw{message:"Clipping selector not found"}}(t,e),p=f.getBoundingClientRect(),a=p.top,s=p.left,u=p.width,c=p.height):(a=0,s=0,u=h,c=v),d=function(t,e,n,r){return{width:Math.max(t.width*r,e),height:Math.max(t.height*r,n)}}({width:u,height:c},n,o,i),l=r.getComputedStyle(t.ownerDocument.documentElement).fontSize,{left:s,top:a,width:d.width,height:d.height,viewportWidth:h,viewportHeight:v,rootFontSize:l}};o.calculateDocumentContentSize=function(t,e){return new Promise(function(n,o){var a,s=e.zoom||1;a=function(t,e,n){var o=Math.floor(t/n),i=Math.floor(e/n);return function(t,e,n){var r=t.createElement("iframe");return r.style.width=e+"px",r.style.height=n+"px",r.style.visibility="hidden",r.style.position="absolute",r.style.top=-1e4-n+"px",r.style.left=-1e4-e+"px",r.style.borderWidth=0,r.sandbox="allow-same-origin",r.scrolling="no",r}(r.document,o,i)}(e.width,e.height,s),r.document.getElementsByTagName("body")[0].appendChild(a),a.onload=function(){var u,c=a.contentDocument;try{u=i(function(t,e){var n=t.tagName;return e.querySelector(n)}(t,c),e.clip,e.width,e.height,s),n(u)}catch(t){o(t)}finally{r.document.getElementsByTagName("body")[0].removeChild(a)}},a.contentDocument.open(),a.contentDocument.write("<!DOCTYPE html>"),a.contentDocument.write(function(t){var e=t.tagName.toLowerCase();if("html"===e||"body"===e)return t.outerHTML;return'<body style="margin: 0;">'+t.outerHTML+"</body>"}(t)),a.contentDocument.close()})},o.parseHtmlFragment=function(t){var e=r.document.implementation.createHTMLDocument("");e.documentElement.innerHTML=t;var n=e.querySelector("body").firstChild;if(!n)throw"Invalid source";return n};o.parseHTML=function(t){var e=r.document.implementation.createHTMLDocument("");return e.documentElement.innerHTML=t,function(t,e){var n,o,i,a,s=/<html((?:\s+[^>]*)?)>/im.exec(e),u=r.document.implementation.createHTMLDocument("");if(!s)return;for(n="<div"+s[1]+"></div>",u.documentElement.innerHTML=n,i=u.querySelector("div"),o=0;o<i.attributes.length;o++)a=i.attributes[o],t.documentElement.setAttribute(a.name,a.value)}(e,t),e};var a=function(t){try{return n.failOnParseError(t)}catch(t){throw{message:"Invalid source",originalError:t}}};o.validateXHTML=function(t){var e=new DOMParser,n=e.parseFromString(t,"application/xml");a(n)};var s=null,u=function(e,n){return new Promise(function(r,o){var i=new window.XMLHttpRequest,a=t.joinUrl(n.baseUrl,e),u=function(t,e){return"none"===e||"repeated"===e?(null!==s&&"repeated"===e||(s=Date.now()),t+"?_="+s):t}(a,n.cache),c=function(t){o({message:"Unable to load page",originalError:t})};i.addEventListener("load",function(){200===i.status||0===i.status?r(i.responseXML):c(i.statusText)},!1),i.addEventListener("error",function(t){c(t)},!1);try{i.open("GET",u,!0),i.responseType="document",i.send(null)}catch(t){c(t)}})};return o.loadDocument=function(t,e){return u(t,e).then(function(t){return a(t)})},o}(o,i,n,window),u=function(t){"use strict";var e,n={},r=function(t,e){return e?URL.createObjectURL(new Blob([t],{type:"image/svg+xml"})):"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(t)},o=function(t){t instanceof Blob&&URL.revokeObjectURL(t)},i='<svg xmlns="http://www.w3.org/2000/svg" width="1" height="1"><foreignObject></foreignObject></svg>',a=function(t){return new Promise(function(e,n){var r=document.createElement("canvas"),o=new Image;o.onload=function(){var t=r.getContext("2d");try{t.drawImage(o,0,0),r.toDataURL("image/png"),e(!0)}catch(t){e(!1)}},o.onerror=n,o.src=t})},s=function(){return new Promise(function(e,n){(function(){if(t.Blob)try{return new Blob(["<b></b>"],{type:"text/xml"}),!0}catch(t){}return!1})()&&t.URL?function(){var t=r(i,!0);return a(t).then(function(e){return o(t),!e&&a(r(i,!1)).then(function(t){return t})},function(){return!1})}().then(function(t){e(!t)},function(){n()}):e(!1)})},u=function(t){return function(){void 0===e&&(e=s());return e}().then(function(e){return r(t,e)})};return n.renderSvg=function(t){return new Promise(function(e,n){var r,i,a=function(){r&&o(r)};(i=new Image).onload=function(){i.onload=null,i.onerror=null,a(),e(i)},i.onerror=function(){a(),n()},u(t).then(function(t){r=t,i.src=r},n)})},n}(window),c=function(t,e,n,r){"use strict";var o={},i=function(t){var e=Object.keys(t);return e.length?" "+e.map(function(e){return e+'="'+t[e]+'"'}).join(" "):""},a=function(t,n,o){var a=r.serializeToString(t);e.validateXHTML(a);var s=function(t){var e,n,r,o;return e=Math.round(t.viewportWidth),n=Math.round(t.viewportHeight),r=-t.left,o=-t.top,{x:r,y:o,width:e,height:n}}(n);return function(t){var e=t.style||"";t.style=e+"float: left;"}(s),function(t){t.externalResourcesRequired=!0}(s),'<svg xmlns="http://www.w3.org/2000/svg"'+i(function(t,e){var n=e||1,r={width:t.width,height:t.height,"font-size":t.rootFontSize};1!==n&&(r.style="transform:scale("+n+"); transform-origin: 0 0;");return r}(n,o))+'><style scoped="">html::-webkit-scrollbar { display: none; }</style><foreignObject'+i(s)+">"+a+"</foreignObject></svg>"};return o.getSvgForDocument=function(t,e,r){return n.rewriteTagNameSelectorsToLowerCase(t),a(t,e,r)},o.drawDocumentAsSvg=function(t,r){return["hover","active","focus","target"].forEach(function(e){r[e]&&n.fakeUserAction(t,r[e],e)}),e.calculateDocumentContentSize(t,r).then(function(e){return o.getSvgForDocument(t,e,r.zoom)})},o}(0,s,a,e),l=function(t,e,n,r,o,i){"use strict";var a={},s=function(t){return{message:"Error rendering page",originalError:t}},u=function(t){return o.renderSvg(t).then(function(e){return{image:e,svg:t}},function(t){throw s(t)})},c=function(t,e,n){return r.drawDocumentAsSvg(t,n).then(u).then(function(t){return e&&function(t,e){try{e.getContext("2d").drawImage(t,0,0)}catch(t){throw s(t)}}(t.image,e),t})};return a.rasterize=function(r,o,a){var s;return(s=t.clone(a)).inlineScripts=!0===a.executeJs,i.inlineReferences(r,s).then(function(t){return a.executeJs?function(t,r){return e.executeJavascript(t,r).then(function(t){var e=t.document;return n.persistInputValues(e),{document:e,errors:t.errors}})}(r,a).then(function(e){return{element:e.document.documentElement,errors:t.concat(e.errors)}}):{element:r,errors:t}}).then(function(t){return c(t.element,o,a).then(function(e){return{image:e.image,svg:e.svg,errors:t.errors}})})},a}(o,s,a,c,u,r);return function(t,e,n){"use strict";var r={},o=function(e){var n,r=function(t,e){var n=t?t.width:300,r=t?t.height:200,o=void 0!==e.width?e.width:n,i=void 0!==e.height?e.height:r;return{width:o,height:i}}(e.canvas,e.options);return(n=t.clone(e.options)).width=r.width,n.height=r.height,n};r.drawDocument=function(){var e=arguments[0],r=Array.prototype.slice.call(arguments,1),i=t.parseOptionalParameters(r),a=e.documentElement?e.documentElement:e;return n.rasterize(a,i.canvas,o(i))};r.drawHTML=function(){var n=arguments[0],o=Array.prototype.slice.call(arguments,1),i=t.parseOptionalParameters(o);return function(t,n,o){var i=e.parseHTML(t);return r.drawDocument(i,n,o)}(n,i.canvas,i.options)};var i=function(n,o,i){return e.loadDocument(n,i).then(function(e){var a=function(e,n,r){var o=document.implementation.createHTMLDocument("");o.replaceChild(e.documentElement,o.documentElement);var i=r?t.clone(r):{};r.baseUrl||(i.baseUrl=n);return{document:o,options:i}}(e,n,i);return r.drawDocument(a.document,o,a.options)})};return r.drawURL=function(){var e=arguments[0],n=Array.prototype.slice.call(arguments,1),r=t.parseOptionalParameters(n);return i(e,r.canvas,r.options)},r}(o,s,l)}(t,e,n,r)}.apply(e,r))||(t.exports=o)}(this)},function(t,e,n){var r,o,i;o=[t],void 0===(i="function"==typeof(r=function(t){"use strict";var e=Array.prototype.forEach;t.exports=function t(n){var r,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!n)throw new Error("No element specified.");i.recursive&&(o=n.children,e).call(o,function(e){t(e,i)});var a=getComputedStyle(n);(r=i.properties||a,e).call(r,function(t){n.style[t]=a.getPropertyValue(t)})}})?r.apply(e,o):r)||(t.exports=i)},function(t,e,n){(function(t){var n;(function(){var r,o=[].slice;r=function(){var t,e,n,r,i,a;for(i=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},s.SCHEMES={},e=0,n=(r="mono monochromatic contrast triade tetrade analogic".split(/\s+/)).length;e<n;e++)a=r[e],s.SCHEMES[a]=!0;function s(){var t,e;for(t=[],e=1;e<=4;e++)t.push(new s.mutablecolor(60));this.col=t,this._scheme="mono",this._distance=.5,this._web_safe=!1,this._add_complement=!1}return s.PRESETS={default:[-1,-1,1,-.7,.25,1,.5,1],pastel:[.5,-.9,.5,.5,.1,.9,.75,.75],soft:[.3,-.8,.3,.5,.1,.9,.5,.75],light:[.25,1,.5,.75,.1,1,.5,1],hard:[1,-1,1,-.6,.1,1,.6,1],pale:[.1,-.85,.1,.5,.1,1,.1,.75]},s.COLOR_WHEEL={0:[255,0,0,100],15:[255,51,0,100],30:[255,102,0,100],45:[255,128,0,100],60:[255,153,0,100],75:[255,178,0,100],90:[255,204,0,100],105:[255,229,0,100],120:[255,255,0,100],135:[204,255,0,100],150:[153,255,0,100],165:[51,255,0,100],180:[0,204,0,80],195:[0,178,102,70],210:[0,153,153,60],225:[0,102,178,70],240:[0,51,204,80],255:[25,25,178,70],270:[51,0,153,60],285:[64,0,153,60],300:[102,0,153,60],315:[153,0,153,60],330:[204,0,153,80],345:[229,0,102,90]},s.prototype.colors=function(){var t,e,n,r,o,i,a,s,u;if(u=1,e=this.col[0].get_hue(),(t={mono:function(){},contrast:function(t){return function(){return u=2,t.col[1].set_hue(e),t.col[1].rotate(180)}}(this),triade:function(t){return function(){var n;return u=3,n=60*t._distance,t.col[1].set_hue(e),t.col[1].rotate(180-n),t.col[2].set_hue(e),t.col[2].rotate(180+n)}}(this),tetrade:function(t){return function(){var n;return u=4,n=90*t._distance,t.col[1].set_hue(e),t.col[1].rotate(180),t.col[2].set_hue(e),t.col[2].rotate(180+n),t.col[3].set_hue(e),t.col[3].rotate(n)}}(this),analogic:function(t){return function(){var n;return u=t._add_complement?4:3,n=60*t._distance,t.col[1].set_hue(e),t.col[1].rotate(n),t.col[2].set_hue(e),t.col[2].rotate(360-n),t.col[3].set_hue(e),t.col[3].rotate(180)}}(this)}).monochromatic=t.mono,null==t[this._scheme])throw"Unknown color scheme name: "+this._scheme;for(t[this._scheme](),a=[],n=o=0,s=u-1;0<=s?o<=s:o>=s;n=0<=s?++o:--o)for(r=i=0;i<=3;r=++i)a[4*n+r]=this.col[n].get_hex(this._web_safe,r);return a},s.prototype.colorset=function(){var e,n;for(e=t(this.colors()),n=[];e.length>0;)n.push(e.splice(0,4));return n},s.prototype.from_hue=function(t){if(null==t)throw"from_hue needs an argument";return this.col[0].set_hue(t),this},s.prototype.rgb2ryb=function(){var t,e,n,r,a,s,u,c,l;return null!=(u=1<=arguments.length?o.call(arguments,0):[])[0]&&i(u[0])&&(u=u[0]),s=u[0],e=u[1],t=u[2],s-=c=Math.min(s,e,t),e-=c,t-=c,r=Math.max(s,e,t),s-=l=Math.min(s,e),e-=l,t>0&&e>0&&(t/=2,e/=2),l+=e,t+=e,(a=Math.max(s,l,t))>0&&(s*=n=r/a,l*=n,t*=n),s+=c,l+=c,t+=c,[Math.floor(s),Math.floor(l),Math.floor(t)]},s.prototype.rgb2hsv=function(){var t,e,n,r,a,s,u,c,l,f;return null!=(c=1<=arguments.length?o.call(arguments,0):[])[0]&&i(c[0])&&(c=c[0]),u=c[0],n=c[1],t=c[2],u/=255,n/=255,t/=255,s=Math.min.apply(Math,[u,n,t]),f=a=Math.max.apply(Math,[u,n,t]),(e=a-s)>0?(l=e/a,r=u===a?(n-t)/e:n===a?2+(t-u)/e:4+(u-n)/e,r*=60,[r%=360,l,f]):[0,0,f]},s.prototype.rgbToHsv=function(){var t,e,n,r,a,s,u,c,l,f;if(null!=(c=1<=arguments.length?o.call(arguments,0):[])[0]&&i(c[0])&&(c=c[0]),u=c[0],n=c[1],t=c[2],u/=255,n/=255,t/=255,r=void 0,void 0,f=a=Math.max(u,n,t),e=a-(s=Math.min(u,n,t)),l=0===a?0:e/a,a===s)r=0;else{switch(a){case u:r=(n-t)/e+(n<t?6:0);break;case n:r=(t-u)/e+2;break;case t:r=(u-n)/e+4}r/=6}return[r,l,f]},s.prototype.from_hex=function(t){var e,n,r,o,i,a,s,u,c,l,f;if(null==t)throw"from_hex needs an argument";if(!/^([0-9A-F]{2}){3}$/im.test(t))throw"from_hex("+t+") - argument must be in the form of RRGGBB";return c=/(..)(..)(..)/.exec(t).slice(1,4),a=(s=function(){var t,e,n;for(n=[],e=0,t=c.length;e<t;e++)i=c[e],n.push(parseInt(i,16));return n}())[0],n=s[1],e=s[2],a=(u=this.rgb2ryb([a,n,e]))[0],n=u[1],e=u[2],(o=this.rgbToHsv(a,n,e))[0],0,1e3,null,null,null,null,null,r=o[0],l=o[1],f=o[2],this.from_hue(360*r),this._set_variant_preset([l,f,l,.7*f,.25*l,1,.5*l,1]),this},s.prototype.add_complement=function(t){if(null==t)throw"add_complement needs an argument";return this._add_complement=t,this},s.prototype.web_safe=function(t){if(null==t)throw"web_safe needs an argument";return this._web_safe=t,this},s.prototype.distance=function(t){if(null==t)throw"distance needs an argument";if(t<0)throw"distance("+t+") - argument must be >= 0";if(t>1)throw"distance("+t+") - argument must be <= 1";return this._distance=t,this},s.prototype.scheme=function(t){if(null==t)return this._scheme;if(null==s.SCHEMES[t])throw"'"+t+"' isn't a valid scheme name";return this._scheme=t,this},s.prototype.variation=function(t){if(null==t)throw"variation needs an argument";if(null==s.PRESETS[t])throw"'$v' isn't a valid variation name";return this._set_variant_preset(s.PRESETS[t]),this},s.prototype._set_variant_preset=function(t){var e,n,r;for(r=[],e=n=0;n<=3;e=++n)r.push(this.col[e].set_variant_preset(t));return r},t=function(e){var n,r,o;if(null==e||"object"!=typeof e)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return n="",null!=e.global&&(n+="g"),null!=e.ignoreCase&&(n+="i"),null!=e.multiline&&(n+="m"),null!=e.sticky&&(n+="y"),new RegExp(e.source,n);for(r in o=new e.constructor,e)o[r]=t(e[r]);return o},s.mutablecolor=function(){function t(t){if(null==t)throw"No hue specified";this.saturation=[],this.value=[],this.base_red=0,this.base_green=0,this.base_blue=0,this.base_saturation=0,this.base_value=0,this.set_hue(t),this.set_variant_preset(s.PRESETS.default)}return t.prototype.hue=0,t.prototype.saturation=[],t.prototype.value=[],t.prototype.base_red=0,t.prototype.base_green=0,t.prototype.base_saturation=0,t.prototype.base_value=0,t.prototype.get_hue=function(){return this.hue},t.prototype.set_hue=function(t){var e,n,r,o,i,a,u,c,l,f;for(n in e=function(t,e,n){return t+Math.round((e-t)*n)},this.hue=Math.round(t%360),f=(i=this.hue%15+(this.hue-Math.floor(this.hue)))/15,u=((a=this.hue-Math.floor(i))+15)%360,360===a&&(a=0),360===u&&(u=0),r=s.COLOR_WHEEL[a],o=s.COLOR_WHEEL[u],c={red:0,green:1,blue:2,value:3})l=c[n],this["base_"+n]=e(r[l],o[l],f);return this.base_saturation=e(100,100,f)/100,this.base_value/=100},t.prototype.rotate=function(t){var e;return e=(this.hue+t)%360,this.set_hue(e)},t.prototype.get_saturation=function(t){var e,n;return(e=(n=this.saturation[t])<0?-n*this.base_saturation:n)>1&&(e=1),e<0&&(e=0),e},t.prototype.get_value=function(t){var e,n;return(e=(n=this.value[t])<0?-n*this.base_value:n)>1&&(e=1),e<0&&(e=0),e},t.prototype.set_variant=function(t,e,n){return this.saturation[t]=e,this.value[t]=n},t.prototype.set_variant_preset=function(t){var e,n,r;for(r=[],e=n=0;n<=3;e=++n)r.push(this.set_variant(e,t[2*e],t[2*e+1]));return r},t.prototype.get_hex=function(t,e){var n,r,o,i,a,s,u,c,l,f,p,d,h,v,g;for(c=Math.max.apply(Math,function(){var t,e,n,o;for(o=[],e=0,t=(n=["red","green","blue"]).length;e<t;e++)r=n[e],o.push(this["base_"+r]);return o}.call(this)),Math.min.apply(Math,function(){var t,e,n,o;for(o=[],e=0,t=(n=["red","green","blue"]).length;e<t;e++)r=n[e],o.push(this["base_"+r]);return o}.call(this)),g=255*(e<0?this.base_value:this.get_value(e)),h=e<0?this.base_saturation:this.get_saturation(e),i=c>0?g/c:0,p=[],u=0,a=(f=["red","green","blue"]).length;u<a;u++)r=f[u],d=Math.min.apply(Math,[255,Math.round(g-(g-this["base_"+r]*i)*h)]),p.push(d);for(t&&(p=function(){var t,e,r;for(r=[],e=0,t=p.length;e<t;e++)n=p[e],r.push(51*Math.round(n/51));return r}()),o="",l=0,s=p.length;l<s;l++)(v=p[l].toString(16)).length<2&&(v="0"+v),o+=v;return o},t}(),s}(),void 0!==t&&null!==t&&null!=t.exports?t.exports=r:void 0===(n=function(){return r}.apply(e,[]))||(t.exports=n)}).call(this)}).call(this,n(75)(t))},function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSIjbm9uZSIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgY2xhc3M9ImZlYXRoZXIgZmVhdGhlci14Ij48bGluZSB4MT0iMTgiIHkxPSI2IiB4Mj0iNiIgeTI9IjE4Ij48L2xpbmU+PGxpbmUgeDE9IjYiIHkxPSI2IiB4Mj0iMTgiIHkyPSIxOCI+PC9saW5lPjwvc3ZnPg=="},function(t,e,n){var r=n(34),o=n(18);t.exports=function(t){return function(e,n){var i,a,s=String(o(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(i=s.charCodeAt(u))<55296||i>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):i:t?s.slice(u,u+2):a-56320+(i-55296<<10)+65536}}},function(t,e,n){"use strict";var r=n(35),o=n(19),i=n(40),a={};n(14)(a,n(4)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:o(1,n)}),i(t,e+" Iterator")}},function(t,e,n){var r=n(34),o=Math.max,i=Math.min;t.exports=function(t,e){return(t=r(t))<0?o(t+e,0):i(t,e)}},function(t,e,n){var r=n(7).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(11),o=n(29),i=n(37)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(9);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,n){var r=n(21),o=n(4)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},function(t,e,n){"use strict";var r=n(8),o=n(19);t.exports=function(t,e,n){e in t?r.f(t,e,o(0,n)):t[e]=n}},function(t,e,n){var r=n(92),o=n(4)("iterator"),i=n(21);t.exports=n(13).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var r=n(22),o=n(4)("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:i?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var r=n(4)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},t(i)}catch(t){}return n}},function(t,e,n){n(6)&&"g"!=/./g.flags&&n(8).f(RegExp.prototype,"flags",{configurable:!0,get:n(58)})},function(t,e,n){var r=n(17),o=n(62),i=n(30);t.exports=function(t){var e=r(t),n=o.f;if(n)for(var a,s=n(t),u=i.f,c=0;s.length>c;)u.call(t,a=s[c++])&&e.push(a);return e}},function(t,e,n){var r=n(16),o=n(47).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(t){return a.slice()}}(t):o(r(t))}},function(t,e,n){"use strict";var r=n(3),o=n(13),i=n(7),a=n(98),s=n(99);r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,o.Promise||i.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){var r=n(9),o=n(28),i=n(4)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||void 0==(n=r(a)[i])?e:o(n)}},function(t,e,n){var r=n(9),o=n(5),i=n(100);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var r=n(28);t.exports.f=function(t){return new function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)}(t)}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var r=n(103);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(5),o=n(46),i=n(4)("species");t.exports=function(t){var e;return o(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!o(e.prototype)||(e=void 0),r(e)&&null===(e=e[i])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){},function(t,e,n){"use strict";var r=n(3),o=n(57)(!0);r(r.P,"Array",{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(64)("includes")},function(t,e,n){"use strict";var r=n(3),o=n(107);r(r.P+r.F*n(109)("includes"),"String",{includes:function(t){return!!~o(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(108),o=n(18);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(t))}},function(t,e,n){var r=n(5),o=n(22),i=n(4)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},function(t,e,n){var r=n(4)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){var r=n(5),o=n(111).set;t.exports=function(t,e,n){var i,a=e.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&r(i)&&o&&o(t,i),t}},function(t,e,n){var r=n(5),o=n(9),i=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(27)(Function.call,n(48).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:i}},function(t,e,n){var r=n(3),o=n(18),i=n(10),a=n(113),s="["+a+"]",u=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),l=function(t,e,n){var o={},s=i(function(){return!!a[t]()||"​"!="​"[t]()}),u=o[t]=s?e(f):a[t];n&&(o[n]=u),r(r.P+r.F*s,"String",o)},f=l.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(c,"")),t};t.exports=l},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var r=n(3);r(r.S,"Number",{isInteger:n(115)})},function(t,e,n){var r=n(5),o=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&o(t)===t}},function(t,e,n){var r=n(3);r(r.P,"Function",{bind:n(117)})},function(t,e,n){"use strict";var r=n(28),o=n(5),i=n(118),a=[].slice,s={};t.exports=Function.bind||function(t){var e=r(this),n=a.call(arguments,1),u=function(){var r=n.concat(a.call(arguments));return this instanceof u?function(t,e,n){if(!(e in s)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";s[e]=Function("F,a","return new F("+r.join(",")+")")}return s[e](t,n)}(e,r.length,r):i(e,r,t)};return o(e.prototype)&&(u.prototype=e.prototype),u}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(8).f,o=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in o||n(6)&&r(o,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.length;this.xa=[],this.ya=[],this.u=[],this.y2=[],e.sort(function(t,e){return t[0]-e[0]});for(var r=0;r<n;r++)this.xa.push(e[r][0]),this.ya.push(e[r][1]);this.u[0]=0,this.y2[0]=0;for(r=1;r<n-1;++r){var o=this.xa[r+1]-this.xa[r-1],i=(this.xa[r]-this.xa[r-1])/o,a=i*this.y2[r-1]+2;this.y2[r]=(i-1)/a;var s=(this.ya[r+1]-this.ya[r])/(this.xa[r+1]-this.xa[r])-(this.ya[r]-this.ya[r-1])/(this.xa[r]-this.xa[r-1]);this.u[r]=(6*s/o-i*this.u[r-1])/a}this.y2[n-1]=0;for(r=n-2;r>=0;--r)this.y2[r]=this.y2[r]*this.y2[r+1]+this.u[r]}return r(t,[{key:"interpolate",value:function(t){for(var e=0,n=this.ya.length-1;n-e>1;){var r=n+e>>1;this.xa[r]>t?n=r:e=r}var o=this.xa[n]-this.xa[e],i=(this.xa[n]-t)/o,a=(t-this.xa[e])/o;return i*this.ya[e]+a*this.ya[n]+((i*i*i-i)*this.y2[e]+(a*a*a-a)*this.y2[n])*(o*o)/6}}]),t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),i=function(t){return t&&t.__esModule?t:{default:t}}(n(2));var a=null,s=function(){function t(e,n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var a=o.get("gl");this.gl=a,this.id=a.createTexture(),this.width=e,this.height=n,this.format=r,this.type=i,a.bindTexture(a.TEXTURE_2D,this.id),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),e&&n&&a.texImage2D(a.TEXTURE_2D,0,this.format,e,n,0,this.format,this.type,null)}return r(t,null,[{key:"fromElement",value:function(e){var n=o.get("gl"),r=new t(0,0,n.RGBA,n.UNSIGNED_BYTE);return r.loadContentsOf(e),r}}]),r(t,[{key:"loadContentsOf",value:function(t){var e=o.get("gl");this.width=t.width||t.videoWidth,this.height=t.height||t.videoHeight,e.bindTexture(e.TEXTURE_2D,this.id),e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t)}},{key:"initFromBytes",value:function(t,e,n){var r=o.get("gl");this.width=t,this.height=e,this.format=r.RGBA,this.type=r.UNSIGNED_BYTE,r.bindTexture(r.TEXTURE_2D,this.id),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,t,e,0,r.RGBA,this.type,new Uint8Array(n))}},{key:"destroy",value:function(){o.get("gl").deleteTexture(this.id),this.id=null}},{key:"use",value:function(t){var e=o.get("gl");e.activeTexture(e.TEXTURE0+(t||0)),e.bindTexture(e.TEXTURE_2D,this.id)}},{key:"unuse",value:function(t){var e=o.get("gl");e.activeTexture(e.TEXTURE0+(t||0)),e.bindTexture(e.TEXTURE_2D,null)}},{key:"ensureFormat",value:function(t,e,n,r){if(1==arguments.length){var i=arguments[0];t=i.width,e=i.height,n=i.format,r=i.type}if(t!=this.width||e!=this.height||n!=this.format||r!=this.type){var a=o.get("gl");this.width=t,this.height=e,this.format=n,this.type=r,a.bindTexture(a.TEXTURE_2D,this.id),a.texImage2D(a.TEXTURE_2D,0,this.format,t,e,0,this.format,this.type,null)}}},{key:"drawTo",value:function(t){var e=o.get("gl");if(e.framebuffer=e.framebuffer||e.createFramebuffer(),e.bindFramebuffer(e.FRAMEBUFFER,e.framebuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.id,0),e.checkFramebufferStatus(e.FRAMEBUFFER)!==e.FRAMEBUFFER_COMPLETE)throw new Error("incomplete framebuffer");e.viewport(0,0,this.width,this.height),t(),e.bindFramebuffer(e.FRAMEBUFFER,null)}},{key:"fillUsingCanvas",value:function(t){t(u(this));var e=o.get("gl");return this.format=e.RGBA,this.type=e.UNSIGNED_BYTE,e.bindTexture(e.TEXTURE_2D,this.id),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,a),this}},{key:"toImage",value:function(t){this.use(),i.default.getDefaultShader().drawRect();var e=o.get("gl"),n=this.width*this.height*4,r=new Uint8Array(n),s=u(this),c=s.createImageData(this.width,this.height);e.readPixels(0,0,this.width,this.height,e.RGBA,e.UNSIGNED_BYTE,r);for(var l=0;l<n;l++)c.data[l]=r[l];s.putImageData(c,0,0),t.src=a.toDataURL()}},{key:"swapWith",value:function(t){var e;e=t.id,t.id=this.id,this.id=e,e=t.width,t.width=this.width,this.width=e,e=t.height,t.height=this.height,this.height=e,e=t.format,t.format=this.format,this.format=e}}]),t}();function u(t){null==a&&(a=document.createElement("canvas")),a.width=t.width,a.height=t.height;var e=a.getContext("2d",{preserveDrawingBuffer:!0});return e.clearRect(0,0,a.width,a.height),e}e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(123);Object.defineProperty(e,"brightnessContrast",{enumerable:!0,get:function(){return T(r).default}});var o=n(124);Object.defineProperty(e,"curves",{enumerable:!0,get:function(){return T(o).default}});var i=n(125);Object.defineProperty(e,"denoise",{enumerable:!0,get:function(){return T(i).default}});var a=n(126);Object.defineProperty(e,"hueSaturation",{enumerable:!0,get:function(){return T(a).default}});var s=n(127);Object.defineProperty(e,"noise",{enumerable:!0,get:function(){return T(s).default}});var u=n(128);Object.defineProperty(e,"sepia",{enumerable:!0,get:function(){return T(u).default}});var c=n(129);Object.defineProperty(e,"unsharpMask",{enumerable:!0,get:function(){return T(c).default}});var l=n(130);Object.defineProperty(e,"vibrance",{enumerable:!0,get:function(){return T(l).default}});var f=n(131);Object.defineProperty(e,"vignette",{enumerable:!0,get:function(){return T(f).default}});var p=n(132);Object.defineProperty(e,"lensBlur",{enumerable:!0,get:function(){return T(p).default}});var d=n(133);Object.defineProperty(e,"tiltShift",{enumerable:!0,get:function(){return T(d).default}});var h=n(134);Object.defineProperty(e,"triangleBlur",{enumerable:!0,get:function(){return T(h).default}});var v=n(135);Object.defineProperty(e,"zoomBlur",{enumerable:!0,get:function(){return T(v).default}});var g=n(136);Object.defineProperty(e,"colorHalftone",{enumerable:!0,get:function(){return T(g).default}});var m=n(137);Object.defineProperty(e,"dotScreen",{enumerable:!0,get:function(){return T(m).default}});var y=n(138);Object.defineProperty(e,"edgeWork",{enumerable:!0,get:function(){return T(y).default}});var x=n(139);Object.defineProperty(e,"hexagonalPixelate",{enumerable:!0,get:function(){return T(x).default}});var b=n(140);Object.defineProperty(e,"ink",{enumerable:!0,get:function(){return T(b).default}});var w=n(141);Object.defineProperty(e,"bulgePinch",{enumerable:!0,get:function(){return T(w).default}});var E=n(142);Object.defineProperty(e,"matrixWarp",{enumerable:!0,get:function(){return T(E).default}});var S=n(143);Object.defineProperty(e,"perspective",{enumerable:!0,get:function(){return T(S).default}});var _=n(144);function T(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"swirl",{enumerable:!0,get:function(){return T(_).default}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=i.get("gl");return n.brightnessContrast=n.brightnessContrast||new r.default(null,"    uniform sampler2D texture;    uniform float brightness;    uniform float contrast;    varying vec2 texCoord;    void main() {      vec4 color = texture2D(texture, texCoord);      color.rgb += brightness;      if (contrast > 0.0) {        color.rgb = (color.rgb - 0.5) / (1.0 - contrast) + 0.5;      } else {        color.rgb = (color.rgb - 0.5) * (1.0 + contrast) + 0.5;      }      gl_FragColor = color;    }  "),o.simpleShader.call(this,n.brightnessContrast,{brightness:(0,o.clamp)(-1,t,1),contrast:(0,o.clamp)(-1,e,1)}),this};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(1),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var a=i.get("gl");t=(0,o.splineInterpolate)(t),1==arguments.length?e=n=t:(e=(0,o.splineInterpolate)(e),n=(0,o.splineInterpolate)(n));for(var s=[],u=0;u<256;u++)s.splice(s.length,0,t[u],e[u],n[u],255);return this._.extraTexture.initFromBytes(256,1,s),this._.extraTexture.use(1),a.curves=a.curves||new r.default(null,"    uniform sampler2D texture;    uniform sampler2D map;    varying vec2 texCoord;    void main() {      vec4 color = texture2D(texture, texCoord);      color.r = texture2D(map, vec2(color.r)).r;      color.g = texture2D(map, vec2(color.g)).g;      color.b = texture2D(map, vec2(color.b)).b;      gl_FragColor = color;    }  "),a.curves.textures({map:1}),o.simpleShader.call(this,a.curves,{}),this};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(1),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=i.get("gl");e.denoise=e.denoise||new r.default(null,"    uniform sampler2D texture;    uniform float exponent;    uniform float strength;    uniform vec2 texSize;    varying vec2 texCoord;    void main() {      vec4 center = texture2D(texture, texCoord);      vec4 color = vec4(0.0);      float total = 0.0;      for (float x = -4.0; x <= 4.0; x += 1.0) {        for (float y = -4.0; y <= 4.0; y += 1.0) {          vec4 sample = texture2D(texture, texCoord + vec2(x, y) / texSize);          float weight = 1.0 - abs(dot(sample.rgb - center.rgb, vec3(0.25)));          weight = pow(weight, exponent);          color += sample * weight;          total += weight;        }      }      gl_FragColor = color / total;    }  ");for(var n=0;n<2;n++)o.simpleShader.call(this,e.denoise,{exponent:Math.max(0,t),texSize:[this.width,this.height]});return this};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(1),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=i.get("gl");return n.hueSaturation=n.hueSaturation||new r.default(null,"    uniform sampler2D texture;    uniform float hue;    uniform float saturation;    varying vec2 texCoord;    void main() {      vec4 color = texture2D(texture, texCoord);            /* hue adjustment, wolfram alpha: RotationTransform[angle, {1, 1, 1}][{x, y, z}] */      float angle = hue * 3.14159265;      float s = sin(angle), c = cos(angle);      vec3 weights = (vec3(2.0 * c, -sqrt(3.0) * s - c, sqrt(3.0) * s - c) + 1.0) / 3.0;      float len = length(color.rgb);      color.rgb = vec3(        dot(color.rgb, weights.xyz),        dot(color.rgb, weights.zxy),        dot(color.rgb, weights.yzx)      );            /* saturation adjustment */      float average = (color.r + color.g + color.b) / 3.0;      if (saturation > 0.0) {        color.rgb += (average - color.rgb) * (1.0 - 1.0 / (1.001 - saturation));      } else {        color.rgb += (average - color.rgb) * (-saturation);      }            gl_FragColor = color;    }  "),o.simpleShader.call(this,n.hueSaturation,{hue:(0,o.clamp)(-1,t,1),saturation:(0,o.clamp)(-1,e,1)}),this};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(1),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=i.get("gl");return e.noise=e.noise||new r.default(null,"    uniform sampler2D texture;    uniform float amount;    varying vec2 texCoord;    float rand(vec2 co) {      return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);    }    void main() {      vec4 color = texture2D(texture, texCoord);            float diff = (rand(texCoord) - 0.5) * amount;      color.r += diff;      color.g += diff;      color.b += diff;            gl_FragColor = color;    }  "),o.simpleShader.call(this,e.noise,{amount:(0,o.clamp)(0,t,1)}),this};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(1),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=i.get("gl");return e.sepia=e.sepia||new r.default(null,"    uniform sampler2D texture;    uniform float amount;    varying vec2 texCoord;    void main() {      vec4 color = texture2D(texture, texCoord);      float r = color.r;      float g = color.g;      float b = color.b;            color.r = min(1.0, (r * (1.0 - (0.607 * amount))) + (g * (0.769 * amount)) + (b * (0.189 * amount)));      color.g = min(1.0, (r * 0.349 * amount) + (g * (1.0 - (0.314 * amount))) + (b * 0.168 * amount));      color.b = min(1.0, (r * 0.272 * amount) + (g * 0.534 * amount) + (b * (1.0 - (0.869 * amount))));            gl_FragColor = color;    }  "),o.simpleShader.call(this,e.sepia,{amount:(0,o.clamp)(0,t,1)}),this};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(1),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=i.get("gl");return n.unsharpMask=n.unsharpMask||new r.default(null,"    uniform sampler2D blurredTexture;    uniform sampler2D originalTexture;    uniform float strength;    uniform float threshold;    varying vec2 texCoord;    void main() {      vec4 blurred = texture2D(blurredTexture, texCoord);      vec4 original = texture2D(originalTexture, texCoord);      gl_FragColor = mix(blurred, original, 1.0 + strength);    }  "),this._.extraTexture.ensureFormat(this._.texture),this._.texture.use(),this._.extraTexture.drawTo(function(){r.default.getDefaultShader().drawRect()}),this._.extraTexture.use(1),this.triangleBlur(t),n.unsharpMask.textures({originalTexture:1}),o.simpleShader.call(this,n.unsharpMask,{strength:e}),this._.extraTexture.unuse(1),this};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(1),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=i.get("gl");return e.vibrance=e.vibrance||new r.default(null,"    uniform sampler2D texture;    uniform float amount;    varying vec2 texCoord;    void main() {      vec4 color = texture2D(texture, texCoord);      float average = (color.r + color.g + color.b) / 3.0;      float mx = max(color.r, max(color.g, color.b));      float amt = (mx - average) * (-amount * 3.0);      color.rgb = mix(color.rgb, vec3(mx), amt);      gl_FragColor = color;    }  "),o.simpleShader.call(this,e.vibrance,{amount:(0,o.clamp)(-1,t,1)}),this};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(1),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=i.get("gl");return n.vignette=n.vignette||new r.default(null,"    uniform sampler2D texture;    uniform float size;    uniform float amount;    varying vec2 texCoord;    void main() {      vec4 color = texture2D(texture, texCoord);            float dist = distance(texCoord, vec2(0.5, 0.5));      color.rgb *= smoothstep(0.8, size * 0.799, dist * (amount + size));            gl_FragColor = color;    }  "),o.simpleShader.call(this,n.vignette,{size:(0,o.clamp)(0,t,1),amount:(0,o.clamp)(0,e,1)}),this};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(1),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var s=a.get("gl");s.lensBlurPrePass=s.lensBlurPrePass||new r.default(null,"    uniform sampler2D texture;    uniform float power;    varying vec2 texCoord;    void main() {      vec4 color = texture2D(texture, texCoord);      color = pow(color, vec4(power));      gl_FragColor = vec4(color);    }  ");var u="    uniform sampler2D texture0;    uniform sampler2D texture1;    uniform vec2 delta0;    uniform vec2 delta1;    uniform float power;    varying vec2 texCoord;    "+i.randomShaderFunc+"    vec4 sample(vec2 delta) {      /* randomize the lookup values to hide the fixed number of samples */      float offset = random(vec3(delta, 151.7182), 0.0);            vec4 color = vec4(0.0);      float total = 0.0;      for (float t = 0.0; t <= 30.0; t++) {        float percent = (t + offset) / 30.0;        color += texture2D(texture0, texCoord + delta * percent);        total += 1.0;      }      return color / total;    }  ";s.lensBlur0=s.lensBlur0||new r.default(null,u+"    void main() {      gl_FragColor = sample(delta0);    }  "),s.lensBlur1=s.lensBlur1||new r.default(null,u+"    void main() {      gl_FragColor = (sample(delta0) + sample(delta1)) * 0.5;    }  "),s.lensBlur2=s.lensBlur2||new r.default(null,u+"    void main() {      vec4 color = (sample(delta0) + 2.0 * texture2D(texture1, texCoord)) / 3.0;      gl_FragColor = pow(color, vec4(power));    }  ").textures({texture1:1});for(var c=[],l=0;l<3;l++){var f=n+l*Math.PI*2/3;c.push([t*Math.sin(f)/this.width,t*Math.cos(f)/this.height])}var p=Math.pow(10,(0,o.clamp)(-1,e,1));return o.simpleShader.call(this,s.lensBlurPrePass,{power:p}),this._.extraTexture.ensureFormat(this._.texture),o.simpleShader.call(this,s.lensBlur0,{delta0:c[0]},this._.texture,this._.extraTexture),o.simpleShader.call(this,s.lensBlur1,{delta0:c[1],delta1:c[2]},this._.extraTexture,this._.extraTexture),o.simpleShader.call(this,s.lensBlur0,{delta0:c[1]}),this._.extraTexture.use(1),o.simpleShader.call(this,s.lensBlur2,{power:1/p,delta0:c[2]}),this};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(1),i=n(12),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,s,u,c){var l=a.get("gl");l.tiltShift=l.tiltShift||new r.default(null,"    uniform sampler2D texture;    uniform float blurRadius;    uniform float gradientRadius;    uniform vec2 start;    uniform vec2 end;    uniform vec2 delta;    uniform vec2 texSize;    varying vec2 texCoord;    "+i.randomShaderFunc+"    void main() {      vec4 color = vec4(0.0);      float total = 0.0;            /* randomize the lookup values to hide the fixed number of samples */      float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);            vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));      float radius = smoothstep(0.0, 1.0, abs(dot(texCoord * texSize - start, normal)) / gradientRadius) * blurRadius;      for (float t = -30.0; t <= 30.0; t++) {        float percent = (t + offset - 0.5) / 30.0;        float weight = 1.0 - abs(percent);        vec4 sample = texture2D(texture, texCoord + delta / texSize * percent * radius);                /* switch to pre-multiplied alpha to correctly blur transparent images */        sample.rgb *= sample.a;                color += sample * weight;        total += weight;      }            gl_FragColor = color / total;            /* switch back from pre-multiplied alpha */      gl_FragColor.rgb /= gl_FragColor.a + 0.00001;    }  ");var f=n-t,p=s-e,d=Math.sqrt(f*f+p*p);return o.simpleShader.call(this,l.tiltShift,{blurRadius:u,gradientRadius:c,start:[t,e],end:[n,s],delta:[f/d,p/d],texSize:[this.width,this.height]}),o.simpleShader.call(this,l.tiltShift,{blurRadius:u,gradientRadius:c,start:[t,e],end:[n,s],delta:[-p/d,f/d],texSize:[this.width,this.height]}),this};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(1),i=n(12),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=a.get("gl");return e.triangleBlur=e.triangleBlur||new r.default(null,"    uniform sampler2D texture;    uniform vec2 delta;    varying vec2 texCoord;    "+i.randomShaderFunc+"    void main() {      vec4 color = vec4(0.0);      float total = 0.0;            /* randomize the lookup values to hide the fixed number of samples */      float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);            for (float t = -30.0; t <= 30.0; t++) {        float percent = (t + offset - 0.5) / 30.0;        float weight = 1.0 - abs(percent);        vec4 sample = texture2D(texture, texCoord + delta * percent);                /* switch to pre-multiplied alpha to correctly blur transparent images */        sample.rgb *= sample.a;                color += sample * weight;        total += weight;      }            gl_FragColor = color / total;            /* switch back from pre-multiplied alpha */      gl_FragColor.rgb /= gl_FragColor.a + 0.00001;    }  "),o.simpleShader.call(this,e.triangleBlur,{delta:[t/this.width,0]}),o.simpleShader.call(this,e.triangleBlur,{delta:[0,t/this.height]}),this};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(1),i=n(12),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var s=a.get("gl");return s.zoomBlur=s.zoomBlur||new r.default(null,"    uniform sampler2D texture;    uniform vec2 center;    uniform float strength;    uniform vec2 texSize;    varying vec2 texCoord;    "+i.randomShaderFunc+"    void main() {      vec4 color = vec4(0.0);      float total = 0.0;      vec2 toCenter = center - texCoord * texSize;            /* randomize the lookup values to hide the fixed number of samples */      float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);            for (float t = 0.0; t <= 40.0; t++) {        float percent = (t + offset) / 40.0;        float weight = 4.0 * (percent - percent * percent);        vec4 sample = texture2D(texture, texCoord + toCenter * percent * strength / texSize);                /* switch to pre-multiplied alpha to correctly blur transparent images */        sample.rgb *= sample.a;                color += sample * weight;        total += weight;      }            gl_FragColor = color / total;            /* switch back from pre-multiplied alpha */      gl_FragColor.rgb /= gl_FragColor.a + 0.00001;    }  "),o.simpleShader.call(this,s.zoomBlur,{center:[t,e],strength:n,texSize:[this.width,this.height]}),this};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(1),i=n(12),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,a){var s=i.get("gl");return s.colorHalftone=s.colorHalftone||new r.default(null,"    uniform sampler2D texture;    uniform vec2 center;    uniform float angle;    uniform float scale;    uniform vec2 texSize;    varying vec2 texCoord;        float pattern(float angle) {      float s = sin(angle), c = cos(angle);      vec2 tex = texCoord * texSize - center;      vec2 point = vec2(        c * tex.x - s * tex.y,        s * tex.x + c * tex.y      ) * scale;      return (sin(point.x) * sin(point.y)) * 4.0;    }        void main() {      vec4 color = texture2D(texture, texCoord);      vec3 cmy = 1.0 - color.rgb;      float k = min(cmy.x, min(cmy.y, cmy.z));      cmy = (cmy - k) / (1.0 - k);      cmy = clamp(cmy * 10.0 - 3.0 + vec3(pattern(angle + 0.26179), pattern(angle + 1.30899), pattern(angle)), 0.0, 1.0);      k = clamp(k * 10.0 - 5.0 + pattern(angle + 0.78539), 0.0, 1.0);      gl_FragColor = vec4(1.0 - cmy - k, color.a);    }  "),o.simpleShader.call(this,s.colorHalftone,{center:[t,e],angle:n,scale:Math.PI/a,texSize:[this.width,this.height]}),this};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(1),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,a){var s=i.get("gl");return s.dotScreen=s.dotScreen||new r.default(null,"    uniform sampler2D texture;    uniform vec2 center;    uniform float angle;    uniform float scale;    uniform vec2 texSize;    varying vec2 texCoord;        float pattern() {      float s = sin(angle), c = cos(angle);      vec2 tex = texCoord * texSize - center;      vec2 point = vec2(        c * tex.x - s * tex.y,        s * tex.x + c * tex.y      ) * scale;      return (sin(point.x) * sin(point.y)) * 4.0;    }        void main() {      vec4 color = texture2D(texture, texCoord);      float average = (color.r + color.g + color.b) / 3.0;      gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);    }  "),o.simpleShader.call(this,s.dotScreen,{center:[t,e],angle:n,scale:Math.PI/a,texSize:[this.width,this.height]}),this};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(1),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=a.get("gl");return e.edgeWork1=e.edgeWork1||new r.default(null,"    uniform sampler2D texture;    uniform vec2 delta;    varying vec2 texCoord;    "+i.randomShaderFunc+"    void main() {      vec2 color = vec2(0.0);      vec2 total = vec2(0.0);            /* randomize the lookup values to hide the fixed number of samples */      float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);            for (float t = -30.0; t <= 30.0; t++) {        float percent = (t + offset - 0.5) / 30.0;        float weight = 1.0 - abs(percent);        vec3 sample = texture2D(texture, texCoord + delta * percent).rgb;        float average = (sample.r + sample.g + sample.b) / 3.0;        color.x += average * weight;        total.x += weight;        if (abs(t) < 15.0) {          weight = weight * 2.0 - 1.0;          color.y += average * weight;          total.y += weight;        }      }      gl_FragColor = vec4(color / total, 0.0, 1.0);    }  "),e.edgeWork2=e.edgeWork2||new r.default(null,"    uniform sampler2D texture;    uniform vec2 delta;    varying vec2 texCoord;    "+i.randomShaderFunc+"    void main() {      vec2 color = vec2(0.0);      vec2 total = vec2(0.0);            /* randomize the lookup values to hide the fixed number of samples */      float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);            for (float t = -30.0; t <= 30.0; t++) {        float percent = (t + offset - 0.5) / 30.0;        float weight = 1.0 - abs(percent);        vec2 sample = texture2D(texture, texCoord + delta * percent).xy;        color.x += sample.x * weight;        total.x += weight;        if (abs(t) < 15.0) {          weight = weight * 2.0 - 1.0;          color.y += sample.y * weight;          total.y += weight;        }      }      float c = clamp(10000.0 * (color.y / total.y - color.x / total.x) + 0.5, 0.0, 1.0);      gl_FragColor = vec4(c, c, c, 1.0);    }  "),o.simpleShader.call(this,e.edgeWork1,{delta:[t/this.width,0]}),o.simpleShader.call(this,e.edgeWork2,{delta:[0,t/this.height]}),this};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(1),i=n(12),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var a=i.get("gl");return a.hexagonalPixelate=a.hexagonalPixelate||new r.default(null,"    uniform sampler2D texture;    uniform vec2 center;    uniform float scale;    uniform vec2 texSize;    varying vec2 texCoord;    void main() {      vec2 tex = (texCoord * texSize - center) / scale;      tex.y /= 0.866025404;      tex.x -= tex.y * 0.5;            vec2 a;      if (tex.x + tex.y - floor(tex.x) - floor(tex.y) < 1.0) a = vec2(floor(tex.x), floor(tex.y));      else a = vec2(ceil(tex.x), ceil(tex.y));      vec2 b = vec2(ceil(tex.x), floor(tex.y));      vec2 c = vec2(floor(tex.x), ceil(tex.y));            vec3 TEX = vec3(tex.x, tex.y, 1.0 - tex.x - tex.y);      vec3 A = vec3(a.x, a.y, 1.0 - a.x - a.y);      vec3 B = vec3(b.x, b.y, 1.0 - b.x - b.y);      vec3 C = vec3(c.x, c.y, 1.0 - c.x - c.y);            float alen = length(TEX - A);      float blen = length(TEX - B);      float clen = length(TEX - C);            vec2 choice;      if (alen < blen) {        if (alen < clen) choice = a;        else choice = c;      } else {        if (blen < clen) choice = b;        else choice = c;      }            choice.x += choice.y * 0.5;      choice.y *= 0.866025404;      choice *= scale / texSize;      gl_FragColor = texture2D(texture, choice + center / texSize);    }  "),o.simpleShader.call(this,a.hexagonalPixelate,{center:[t,e],scale:n,texSize:[this.width,this.height]}),this};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(1),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=i.get("gl");return e.ink=e.ink||new r.default(null,"    uniform sampler2D texture;    uniform float strength;    uniform vec2 texSize;    varying vec2 texCoord;    void main() {      vec2 dx = vec2(1.0 / texSize.x, 0.0);      vec2 dy = vec2(0.0, 1.0 / texSize.y);      vec4 color = texture2D(texture, texCoord);      float bigTotal = 0.0;      float smallTotal = 0.0;      vec3 bigAverage = vec3(0.0);      vec3 smallAverage = vec3(0.0);      for (float x = -2.0; x <= 2.0; x += 1.0) {        for (float y = -2.0; y <= 2.0; y += 1.0) {          vec3 sample = texture2D(texture, texCoord + dx * x + dy * y).rgb;          bigAverage += sample;          bigTotal += 1.0;          if (abs(x) + abs(y) < 2.0) {            smallAverage += sample;            smallTotal += 1.0;          }        }      }      vec3 edge = max(vec3(0.0), bigAverage / bigTotal - smallAverage / smallTotal);      gl_FragColor = vec4(color.rgb - dot(edge, edge) * strength * 100000.0, color.a);    }  "),o.simpleShader.call(this,e.ink,{strength:t*t*t*t*t,texSize:[this.width,this.height]}),this};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(1),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,a){var s=i.get("gl");return s.bulgePinch=s.bulgePinch||(0,r.warpShader)("    uniform float radius;    uniform float strength;    uniform vec2 center;  ","    coord -= center;    float distance = length(coord);    if (distance < radius) {      float percent = distance / radius;      if (strength > 0.0) {        coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);      } else {        coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);      }    }    coord += center;  "),o.simpleShader.call(this,s.bulgePinch,{radius:n,strength:(0,o.clamp)(-1,a,1),center:[t,e],texSize:[this.width,this.height]}),this};var r=n(12),o=n(1),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var s=a.get("gl");if(s.matrixWarp=s.matrixWarp||(0,r.warpShader)("    uniform mat3 matrix;    uniform bool useTextureSpace;  ","    if (useTextureSpace) coord = coord / texSize * 2.0 - 1.0;    vec3 warp = matrix * vec3(coord, 1.0);    coord = warp.xy / warp.z;    if (useTextureSpace) coord = (coord * 0.5 + 0.5) * texSize;  "),4==(t=Array.prototype.concat.apply([],t)).length)t=[t[0],t[1],0,t[2],t[3],0,0,0,1];else if(9!=t.length)throw"can only warp with 2x2 or 3x3 matrix";return i.simpleShader.call(this,s.matrixWarp,{matrix:e?(0,o.getInverse)(t):t,texSize:[this.width,this.height],useTextureSpace:0|n}),this};var r=n(12),o=n(72),i=n(1),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=r.getSquareToQuad.apply(null,e),o=r.getSquareToQuad.apply(null,t),i=(0,r.multiply)((0,r.getInverse)(n),o);return this.matrixWarp(i)};var r=n(72)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,a){var s=i.get("gl");return s.swirl=s.swirl||(0,r.warpShader)("    uniform float radius;    uniform float angle;    uniform vec2 center;  ","    coord -= center;    float distance = length(coord);    if (distance < radius) {      float percent = (radius - distance) / radius;      float theta = percent * percent * angle;      float s = sin(theta);      float c = cos(theta);      coord = vec2(        coord.x * c - coord.y * s,        coord.x * s + coord.y * c      );    }    coord += center;  "),o.simpleShader.call(this,s.swirl,{radius:n,center:[t,e],angle:a,texSize:[this.width,this.height]}),this};var r=n(12),o=n(1),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0))},function(t,e,n){(function(t,r){var o;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(i){"object"==typeof e&&e&&e.nodeType,"object"==typeof t&&t&&t.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,u=2147483647,c=36,l=1,f=26,p=38,d=700,h=72,v=128,g="-",m=/^xn--/,y=/[^\x20-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=c-l,E=Math.floor,S=String.fromCharCode;function _(t){throw new RangeError(b[t])}function T(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function C(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+T((t=t.replace(x,".")).split("."),e).join(".")}function O(t){for(var e,n,r=[],o=0,i=t.length;o<i;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<i?56320==(64512&(n=t.charCodeAt(o++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--):r.push(e);return r}function A(t){return T(t,function(t){var e="";return t>65535&&(e+=S((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=S(t)}).join("")}function P(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:c}function I(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function R(t,e,n){var r=0;for(t=n?E(t/d):t>>1,t+=E(t/e);t>w*f>>1;r+=c)t=E(t/w);return E(r+(w+1)*t/(t+p))}function M(t){var e,n,r,o,i,a,s,p,d,m,y=[],x=t.length,b=0,w=v,S=h;for((n=t.lastIndexOf(g))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&_("not-basic"),y.push(t.charCodeAt(r));for(o=n>0?n+1:0;o<x;){for(i=b,a=1,s=c;o>=x&&_("invalid-input"),((p=P(t.charCodeAt(o++)))>=c||p>E((u-b)/a))&&_("overflow"),b+=p*a,!(p<(d=s<=S?l:s>=S+f?f:s-S));s+=c)a>E(u/(m=c-d))&&_("overflow"),a*=m;S=R(b-i,e=y.length+1,0==i),E(b/e)>u-w&&_("overflow"),w+=E(b/e),b%=e,y.splice(b++,0,w)}return A(y)}function k(t){var e,n,r,o,i,a,s,p,d,m,y,x,b,w,T,C=[];for(x=(t=O(t)).length,e=v,n=0,i=h,a=0;a<x;++a)(y=t[a])<128&&C.push(S(y));for(r=o=C.length,o&&C.push(g);r<x;){for(s=u,a=0;a<x;++a)(y=t[a])>=e&&y<s&&(s=y);for(s-e>E((u-n)/(b=r+1))&&_("overflow"),n+=(s-e)*b,e=s,a=0;a<x;++a)if((y=t[a])<e&&++n>u&&_("overflow"),y==e){for(p=n,d=c;!(p<(m=d<=i?l:d>=i+f?f:d-i));d+=c)T=p-m,w=c-m,C.push(S(I(m+T%w,0))),p=E(T/w);C.push(S(I(p,0))),i=R(n,b,r==o),n=0,++r}++n,++e}return C.join("")}s={version:"1.4.1",ucs2:{decode:O,encode:A},decode:M,encode:k,toASCII:function(t){return C(t,function(t){return y.test(t)?"xn--"+k(t):t})},toUnicode:function(t){return C(t,function(t){return m.test(t)?M(t.slice(4).toLowerCase()):t})}},void 0===(o=function(){return s}.call(e,n,e,t))||(t.exports=o)}()}).call(this,n(75)(t),n(73))},function(t,e,n){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,n){"use strict";e.decode=e.parse=n(148),e.encode=e.stringify=n(149)},function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,i){e=e||"&",n=n||"=";var a={};if("string"!=typeof t||0===t.length)return a;var s=/\+/g;t=t.split(e);var u=1e3;i&&"number"==typeof i.maxKeys&&(u=i.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var f,p,d,h,v=t[l].replace(s,"%20"),g=v.indexOf(n);g>=0?(f=v.substr(0,g),p=v.substr(g+1)):(f=v,p=""),d=decodeURIComponent(f),h=decodeURIComponent(p),r(a,d)?o(a[d])?a[d].push(h):a[d]=[a[d],h]:a[d]=h}return a};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,s){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?i(a(t),function(a){var s=encodeURIComponent(r(a))+n;return o(t[a])?i(t[a],function(t){return s+encodeURIComponent(r(t))}).join(e):s+encodeURIComponent(r(t[a]))}).join(e):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function i(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var a=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},function(t,e,n){var r,o,i;o=[],void 0===(i="function"==typeof(r=function(){var t=function(t){var e=t.tagName;return"http://www.w3.org/1999/xhtml"===t.namespaceURI&&(e=e.toLowerCase()),e},e=function(t){return Array.prototype.map.call(t.childNodes,function(t){return r(t)}).join("")},n=function(n,r){var o="<"+t(n);return o+=function(t,e){return Array.prototype.map.call(t.attributes||t.attrs,function(t){return t.name}).indexOf("xmlns")>=0||!e&&t.namespaceURI===t.parentNode.namespaceURI?"":' xmlns="'+t.namespaceURI+'"'}(n,r),Array.prototype.forEach.call(n.attributes||n.attrs,function(t){o+=function(t){var e=t.value;return" "+t.name+'="'+function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}(e)+'"'}(t)}),n.childNodes.length>0?(o+=">",o+=e(n),o+="</"+t(n)+">"):o+="/>",o},r=function(t,r){var o=r&&r.rootNode;return"#document"===t.nodeName||"#document-fragment"===t.nodeName?e(t):t.tagName?n(t,o):"#text"===t.nodeName?function(t){var e=t.nodeValue||t.value||"";return function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}(e)}(t):"#comment"===t.nodeName?function(t){return"\x3c!--"+t.data.replace(/-/g,"&#45;")+"--\x3e"}(t):"#cdata-section"===t.nodeName?function(t){return"<![CDATA["+t.nodeValue+"]]>"}(t):void 0};return{serializeToString:function(t){return function(t){return t.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]/g,"")}(r(t,{rootNode:!0}))}}})?r.apply(e,o):r)||(t.exports=i)},function(t,e,n){"use strict";var r=[new RegExp("^<h3[^>]*>This page contains the following errors:</h3><div[^>]*>(.+?)\n?</div>"),new RegExp("^(.+)\n")],o=function(t){var e,n,o=function(t){var e=new XMLSerializer;return Array.prototype.map.call(t.childNodes,function(t){return e.serializeToString(t)}).join("")}(t);for(e=0;e<r.length;e++)if(n=r[e].exec(o))return n[1]};e.failOnParseError=function(t){return function(t){var e;if(null===t)throw new Error("Parse error");var n=function(t){return"parsererror"===t.documentElement.tagName&&"http://www.mozilla.org/newlayout/xml/parsererror.xml"===t.documentElement.namespaceURI?t.documentElement:("xml"===t.documentElement.tagName||"html"===t.documentElement.tagName)&&t.documentElement.childNodes&&t.documentElement.childNodes.length>0&&"parsererror"===t.documentElement.childNodes[0].nodeName?t.documentElement.childNodes[0]:"html"===t.documentElement.tagName&&t.documentElement.childNodes&&t.documentElement.childNodes.length>0&&"body"===t.documentElement.childNodes[0].nodeName&&t.documentElement.childNodes[0].childNodes&&t.documentElement.childNodes[0].childNodes.length&&"parsererror"===t.documentElement.childNodes[0].childNodes[0].nodeName?t.documentElement.childNodes[0].childNodes[0]:void 0}(t);if(void 0!==n)throw e=o(n)||"Parse error",new Error(e)}(t),t}},function(t,e,n){"use strict";var r=n(32),o=n(153),i=n(154),a=n(155),s=n(50),u=function(t){return t.map(function(e,n){return n===t.length-1&&(e={baseUrl:function(t){return r.joinUrl(t,".")}(e.baseUrl)}),JSON.stringify(e)})},c=function(t,e){return!1!==e.cache&&"none"!==e.cache&&e.cacheBucket?r.memoize(t,u,e.cacheBucket):t},l=function(t,e,n){var r=s.rulesForCssText(t);return a.loadCSSImportsForRules(r,e,n).then(function(e){return a.loadAndInlineCSSResourcesForRules(r,n).then(function(n){var o=e.errors.concat(n.errors),i=e.hasChanges||n.hasChanges;return i&&(t=s.cssRulesToText(r)),{hasChanges:i,content:t,errors:o}})})};e.loadAndInlineStyles=function(t,e){var n,o=function(t){var e=t.getElementsByTagName("style");return Array.prototype.filter.call(e,function(t){return!t.attributes.type||"text/css"===t.attributes.type.value})}(t),i=[],a=[];return(n=r.clone(e)).baseUrl=n.baseUrl||r.getDocumentBaseUrl(t),Promise.all(o.map(function(t){return function(t,e,n){var o=t.textContent;return c(l,e)(o,n,e).then(function(e){return e.hasChanges&&(t.childNodes[0].nodeValue=e.content),r.cloneArray(e.errors)})}(t,n,a).then(function(t){i=i.concat(t)})})).then(function(){return i})};var f=function(t,e){return r.ajax(t,e).then(function(t){return{content:t,cssRules:s.rulesForCssText(t)}}).then(function(e){var n=a.adjustPathsOfCssResources(t,e.cssRules);return{content:e.content,cssRules:e.cssRules,hasChanges:n}}).then(function(t){return a.loadCSSImportsForRules(t.cssRules,[],e).then(function(e){return{content:t.content,cssRules:t.cssRules,hasChanges:t.hasChanges||e.hasChanges,errors:e.errors}})}).then(function(t){return a.loadAndInlineCSSResourcesForRules(t.cssRules,e).then(function(e){return{content:t.content,cssRules:t.cssRules,hasChanges:t.hasChanges||e.hasChanges,errors:t.errors.concat(e.errors)}})}).then(function(t){var e=t.content;return t.hasChanges&&(e=s.cssRulesToText(t.cssRules)),{content:e,errors:t.errors}})};e.loadAndInlineCssLinks=function(t,e){var n=function(t){var e=t.getElementsByTagName("link");return Array.prototype.filter.call(e,function(t){return t.attributes.rel&&"stylesheet"===t.attributes.rel.value&&(!t.attributes.type||"text/css"===t.attributes.type.value)})}(t),o=[];return Promise.all(n.map(function(t){return function(t,e){var n=t.attributes.href.value,o=r.getDocumentBaseUrl(t.ownerDocument),i=r.clone(e);return!i.baseUrl&&o&&(i.baseUrl=o),c(f,e)(n,i).then(function(t){return{content:t.content,errors:r.cloneArray(t.errors)}})}(t,e).then(function(e){!function(t,e){var n,r=t.parentNode;(e=e.trim())&&((n=t.ownerDocument.createElement("style")).type="text/css",n.appendChild(t.ownerDocument.createTextNode(e)),r.insertBefore(n,t)),r.removeChild(t)}(t,e.content+"\n"),o=o.concat(e.errors)},function(t){o.push({resourceType:"stylesheet",url:t.url,msg:"Unable to load stylesheet "+t.url})})})).then(function(){return o})},e.loadAndInlineImages=o.inline,e.loadAndInlineScript=i.inline,e.inlineReferences=function(t,n){var r=[],o=[e.loadAndInlineImages,e.loadAndInlineStyles,e.loadAndInlineCssLinks];return!1!==n.inlineScripts&&o.push(e.loadAndInlineScript),Promise.all(o.map(function(e){return e(t,n).then(function(t){r=r.concat(t)})})).then(function(){return r})}},function(t,e,n){"use strict";var r=n(32),o=function(t){return Array.prototype.slice.call(t)};e.inline=function(t,e){var n=o(t.getElementsByTagName("img")),i=o(t.getElementsByTagName("image")),a=function(t){return Array.prototype.filter.call(t,function(t){return"image"===t.type})}(t.getElementsByTagName("input")),s=function(t){return t.filter(function(t){var e=null;return t.hasAttribute("src")?e=t.getAttribute("src"):t.hasAttributeNS("http://www.w3.org/1999/xlink","href")?e=t.getAttributeNS("http://www.w3.org/1999/xlink","href"):t.hasAttribute("href")&&(e=t.getAttribute("href")),null!==e&&!r.isDataUri(e)})}(n=(n=n.concat(i)).concat(a));return r.collectAndReportErrors(s.map(function(t){return function(t,e){var n=null;t.hasAttribute("src")?n=t.getAttribute("src"):t.hasAttributeNS("http://www.w3.org/1999/xlink","href")?n=t.getAttributeNS("http://www.w3.org/1999/xlink","href"):t.hasAttribute("href")&&(n=t.getAttribute("href"));var o=r.getDocumentBaseUrl(t.ownerDocument),i=r.clone(e);return!i.baseUrl&&o&&(i.baseUrl=o),r.getDataURIForImageURL(n,i).then(function(t){return t},function(t){throw{resourceType:"image",url:t.url,msg:"Unable to load image "+t.url}})}(t,e).then(function(e){t.attributes.src?t.attributes.src.value=e:t.attributes["xlink:href"]?t.attributes["xlink:href"].value=e:t.attributes.href&&(t.attributes.href.value=e)})}))}},function(t,e,n){"use strict";var r=n(32);e.inline=function(t,e){var n=function(t){var e=t.getElementsByTagName("script");return Array.prototype.filter.call(e,function(t){return!!t.attributes.src})}(t);return r.collectAndReportErrors(n.map(function(t){return function(t,e){var n=t.attributes.src.value,o=r.getDocumentBaseUrl(t.ownerDocument),i=r.clone(e);return!i.baseUrl&&o&&(i.baseUrl=o),r.ajax(n,i).catch(function(t){throw{resourceType:"script",url:t.url,msg:"Unable to load script "+t.url}})}(t,e).then(function(e){!function(t,e){t.attributes.removeNamedItem("src"),t.textContent=function(t){return t.replace(/<\//g,"<\\/")}(e)}(t,e)})}))}},function(t,e,n){"use strict";var r=n(32),o=n(50),i=n(156),a=n(157),s=function(t,e,n){t.style.setProperty(e,n,t.style.getPropertyPriority(e))},u=function(t){return t.filter(function(t){return t.type===window.CSSRule.STYLE_RULE&&(t.style.getPropertyValue("background-image")||t.style.getPropertyValue("background"))})},c=function(t){var e=[];return t.forEach(function(t){t.style.getPropertyValue("background-image")?e.push({property:"background-image",value:t.style.getPropertyValue("background-image"),rule:t}):t.style.getPropertyValue("background")&&e.push({property:"background",value:t.style.getPropertyValue("background"),rule:t})}),e},l=function(t){return t.filter(function(t){return t.type===window.CSSRule.FONT_FACE_RULE&&t.style.getPropertyValue("src")})},f=function(t){return t.filter(function(t){return t.type===window.CSSRule.IMPORT_RULE&&t.href})},p=function(t){var e=[];return t.forEach(function(t,n){t.url&&!r.isDataUri(t.url)&&e.push(n)}),e},d=function(t){var e=[];return t.forEach(function(t,n){t.url&&!r.isDataUri(t.url)&&e.push(n)}),e};e.adjustPathsOfCssResources=function(t,e){var n=u(e),h=!1;return c(n).forEach(function(e){var n,o=i.parse(e.value),a=p(o);a.length>0&&(a.forEach(function(e){var n=o[e].url,i=r.joinUrl(t,n);o[e].url=i}),n=i.serialize(o),s(e.rule,e.property,n),h=!0)}),l(e).forEach(function(n){var i,s,u=n.style.getPropertyValue("src");try{i=a.parse(u)}catch(t){return}(s=d(i)).length>0&&(s.forEach(function(e){var n=i[e].url,o=r.joinUrl(t,n);i[e].url=o}),o.changeFontFaceRuleSrc(e,n,a.serialize(i)),h=!0)}),f(e).forEach(function(n){var i=n.href,a=r.joinUrl(t,i);o.exchangeRule(e,n,"@import url("+a+");"),h=!0}),h};var h=function(t,e,n){var r=t.indexOf(e);t.splice(r,1),n.forEach(function(e,n){t.splice(r+n,0,e)})};e.loadCSSImportsForRules=function(t,n,i){var a=f(t),s=[],u=!1;return Promise.all(a.map(function(a){return function(t,n,i,a){var s,u=n.href;return u=o.unquoteString(u),s=r.joinUrl(a.baseUrl,u),i.indexOf(s)>=0?(h(t,n,[]),Promise.resolve([])):(i.push(s),r.ajax(u,a).then(function(r){var s=o.rulesForCssText(r);return e.loadCSSImportsForRules(s,i,a).then(function(r){return e.adjustPathsOfCssResources(u,s),h(t,n,s),r.errors})},function(t){throw{resourceType:"stylesheet",url:t.url,msg:"Unable to load stylesheet "+t.url}}))}(t,a,n,i).then(function(t){s=s.concat(t),u=!0},function(t){s.push(t)})})).then(function(){return{hasChanges:u,errors:s}})};var v=function(t,e){var n=u(t),o=c(n),a=[],l=!1;return Promise.all(o.map(function(t){return function(t,e){var n=i.parse(t),o=p(n),a=!1;return r.collectAndReportErrors(o.map(function(t){var o=n[t].url;return r.getDataURIForImageURL(o,e).then(function(e){n[t].url=e,a=!0},function(t){throw{resourceType:"backgroundImage",url:t.url,msg:"Unable to load background-image "+t.url}})})).then(function(t){return{backgroundValue:i.serialize(n),hasChanges:a,errors:t}})}(t.value,e).then(function(e){e.hasChanges&&(s(t.rule,t.property,e.backgroundValue),l=!0),a=a.concat(e.errors)})})).then(function(){return{hasChanges:l,errors:a}})},g=function(t,e){var n=l(t),i=[],s=!1;return Promise.all(n.map(function(n){return function(t,e){var n,o,i=!1;try{n=a.parse(t)}catch(t){n=[]}return o=d(n),r.collectAndReportErrors(o.map(function(t){var o=n[t],a=o.format||"woff";return r.binaryAjax(o.url,e).then(function(t){var e=btoa(t);o.url="data:font/"+a+";base64,"+e,i=!0},function(t){throw{resourceType:"fontFace",url:t.url,msg:"Unable to load font-face "+t.url}})})).then(function(t){return{srcDeclarationValue:a.serialize(n),hasChanges:i,errors:t}})}(n.style.getPropertyValue("src"),e).then(function(e){e.hasChanges&&(o.changeFontFaceRuleSrc(t,n,e.srcDeclarationValue),s=!0),i=i.concat(e.errors)})})).then(function(){return{hasChanges:s,errors:i}})};e.loadAndInlineCSSResourcesForRules=function(t,e){var n=!1,r=[];return Promise.all([v,g].map(function(o){return o(t,e).then(function(t){n=n||t.hasChanges,r=r.concat(t.errors)})})).then(function(){return{hasChanges:n,errors:r}})}},function(t,e,n){"use strict";var r=n(50);e.extractCssUrl=function(t){var e,n=/^url\(("[^"]+"|'[^']+'|[^\)]+)\)/;if(!n.test(t))throw new Error("Invalid url");return e=n.exec(t)[1],r.unquoteString(function(t){return t.replace(/^[\t\r\f\n ]*(.+?)[\t\r\f\n ]*$/,"$1")}(e))};e.parse=function(t){return function(t){var e,n="(url\\(\\s*(?:\"[^\"]*\"|'[^']*'|[^\\(]+)\\s*\\)|[^,\\s]+)",r="(?:\\s*"+n+")+",o=new RegExp(r,"g"),i=[],a=function(t){var e,r=new RegExp(n,"g"),o=[];for(e=r.exec(t);e;)o.push(e[1]),e=r.exec(t);return o};if(t.match(new RegExp("^\\s*((?:\\s*(url\\(\\s*(?:\"[^\"]*\"|'[^']*'|[^\\(]+)\\s*\\)|[^,\\s]+))+)(?:\\s*,\\s*((?:\\s*(url\\(\\s*(?:\"[^\"]*\"|'[^']*'|[^\\(]+)\\s*\\)|[^,\\s]+))+))*\\s*$"))){for(e=o.exec(t);e;)i.push(a(e[0])),e=o.exec(t);return i}return[]}(t).map(function(t){var n=function(t){var n;for(n=0;n<t.length;n++)try{return{url:e.extractCssUrl(t[n]),idx:n}}catch(t){}}(t);return n?{preUrl:t.slice(0,n.idx),url:n.url,postUrl:t.slice(n.idx+1)}:{preUrl:t}})},e.serialize=function(t){return t.map(function(t){var e=[].concat(t.preUrl);return t.url&&e.push('url("'+t.url+'")'),t.postUrl&&(e=e.concat(t.postUrl)),e.join(" ")}).join(", ")}},function(t,e,n){var r;t.exports=function t(e,n,o){function i(s,u){if(!n[s]){if(!e[s]){var c="function"==typeof r&&r;if(!u&&c)return r(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[s]={exports:{}};e[s][0].call(f.exports,function(t){var n=e[s][1][t];return i(n||t)},f,f.exports,t,e,n,o)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(t,e,n){"use strict";function r(t,e,n,o){this.message=t,this.expected=e,this.found=n,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}!function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}(r,Error),r.buildMessage=function(t,e){var n={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var e,n="";for(e=0;e<t.parts.length;e++)n+=t.parts[e]instanceof Array?i(t.parts[e][0])+"-"+i(t.parts[e][1]):i(t.parts[e]);return"["+(t.inverted?"^":"")+n+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function r(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+r(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+r(t)})}function i(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+r(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+r(t)})}function a(t){return n[t.type](t)}return"Expected "+function(t){var e,n,r=new Array(t.length);for(e=0;e<t.length;e++)r[e]=a(t[e]);if(r.sort(),r.length>0){for(e=1,n=1;e<r.length;e++)r[e-1]!==r[e]&&(r[n]=r[e],n++);r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(e)+" found."},e.exports={SyntaxError:r,parse:function(e,n){n=void 0!==n?n:{};var o,i={},a={start:X},s=X,u="",c=function(){return[]},l=",",f=N(",",!1),p=function(t,e){return[t].concat(e)},d=function(t){return[t]},h=function(t,e){return{url:t,format:e}},v=function(t){return{url:t}},g="url(",m=N("url(",!1),y=")",x=N(")",!1),b=function(t){return t},w="format(",E=N("format(",!1),S="local(",_=N("local(",!1),T=function(t){return{local:t}},C=/^[^)]/,O=z([")"],!0,!1),A=function(t){return G.extractValue(t.join(""))},P=/^[ \t\r\n\f]/,I=z([" ","\t","\r","\n","\f"],!1,!1),R=0,M=[{line:1,column:1}],k=0,D=[],j=0;if("startRule"in n){if(!(n.startRule in a))throw new Error("Can't start parsing from rule \""+n.startRule+'".');s=a[n.startRule]}function N(t,e){return{type:"literal",text:t,ignoreCase:e}}function z(t,e,n){return{type:"class",parts:t,inverted:e,ignoreCase:n}}function F(t){var n,r=M[t];if(r)return r;for(n=t-1;!M[n];)n--;for(r={line:(r=M[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return M[t]=r,r}function B(t,e){var n=F(t),r=F(e);return{start:{offset:t,line:n.line,column:n.column},end:{offset:e,line:r.line,column:r.column}}}function L(t){R<k||(R>k&&(k=R,D=[]),D.push(t))}function U(t,e,n){return new r(r.buildMessage(t,e),t,e,n)}function X(){var t,n;return(t=function t(){var n,r,o,a,s,u;if(n=R,(r=Y())!==i){for(o=[],a=q();a!==i;)o.push(a),a=q();if(o!==i)if(44===e.charCodeAt(R)?(a=l,R++):(a=i,0===j&&L(f)),a!==i){for(s=[],u=q();u!==i;)s.push(u),u=q();s!==i&&(u=t())!==i?(r=p(r,u),n=r):(R=n,n=i)}else R=n,n=i;else R=n,n=i}else R=n,n=i;return n===i&&(n=R,(r=Y())!==i&&(r=d(r)),n=r),n}())===i&&(t=R,(n=u)!==i&&(n=c()),t=n),t}function Y(){var t;return(t=V())===i&&(t=function(){var t,n,r,o;return t=R,e.substr(R,6)===S?(n=S,R+=6):(n=i,0===j&&L(_)),n!==i&&(r=W())!==i?(41===e.charCodeAt(R)?(o=y,R++):(o=i,0===j&&L(x)),o!==i?(n=T(r),t=n):(R=t,t=i)):(R=t,t=i),t}()),t}function V(){var t,n,r,o;if(t=R,(n=H())!==i){if(r=[],(o=q())!==i)for(;o!==i;)r.push(o),o=q();else r=i;r!==i&&(o=function(){var t,n,r,o;return t=R,e.substr(R,7)===w?(n=w,R+=7):(n=i,0===j&&L(E)),n!==i&&(r=W())!==i?(41===e.charCodeAt(R)?(o=y,R++):(o=i,0===j&&L(x)),o!==i?(n=b(r),t=n):(R=t,t=i)):(R=t,t=i),t}())!==i?(n=h(n,o),t=n):(R=t,t=i)}else R=t,t=i;return t===i&&(t=R,(n=H())!==i&&(n=v(n)),t=n),t}function H(){var t,n,r,o;return t=R,e.substr(R,4)===g?(n=g,R+=4):(n=i,0===j&&L(m)),n!==i&&(r=W())!==i?(41===e.charCodeAt(R)?(o=y,R++):(o=i,0===j&&L(x)),o!==i?(n=b(r),t=n):(R=t,t=i)):(R=t,t=i),t}function W(){var t,n;if(t=[],C.test(e.charAt(R))?(n=e.charAt(R),R++):(n=i,0===j&&L(O)),n!==i)for(;n!==i;)t.push(n),C.test(e.charAt(R))?(n=e.charAt(R),R++):(n=i,0===j&&L(O));else t=i;return t!==i&&(t=A(t)),t}function q(){var t;return P.test(e.charAt(R))?(t=e.charAt(R),R++):(t=i,0===j&&L(I)),t}var G=t("../util");if((o=s())!==i&&R===e.length)return o;throw o!==i&&R<e.length&&L({type:"end"}),U(D,k<e.length?e.charAt(k):null,k<e.length?B(k,k+1):B(k,k))}}},{"../util":3}],2:[function(t,e,n){var r=t("./grammar");n.SyntaxError=function(t,e){this.message=t,this.offset=e},n.parse=function(t){try{return r.parse(t)}catch(t){throw new n.SyntaxError(t.message,t.offset)}},n.serialize=function(t){return t.map(function(t){var e;return t.url?(e='url("'+t.url+'")',t.format&&(e+=' format("'+t.format+'")')):e='local("'+t.local+'")',e}).join(", ")}},{"./grammar":1}],3:[function(t,e,n){n.extractValue=function(t){return function(t){var e=/^"(.*)"$/,n=/^'(.*)'$/;return e.test(t)?t.replace(e,"$1"):n.test(t)?t.replace(n,"$1"):t}(function(t){return t.replace(/^[\t\r\f\n ]*(.+?)[\t\r\f\n ]*$/,"$1")}(t))}},{}]},{},[2])(2)},function(t,e,n){var r=n(29),o=n(17);n(70)("keys",function(){return function(t){return o(r(t))}})},function(t,e,n){var r=n(3),o=n(160)(!0);r(r.S,"Object",{entries:function(t){return o(t)}})},function(t,e,n){var r=n(17),o=n(16),i=n(30).f;t.exports=function(t){return function(e){for(var n,a=o(e),s=r(a),u=s.length,c=0,l=[];u>c;)i.call(a,n=s[c++])&&l.push(t?[n,a[n]]:a[n]);return l}}},function(t,e,n){"use strict";n.r(e);n(33),n(41),n(42),n(43),n(44),n(45),n(49),n(97),n(23),n(31),n(104),n(105),n(106);function r(t,e,n){t.style.gridColumn="span ".concat(e),t.style.gridRow="span ".concat(n)}n(67),n(114);function o(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function i(t){return o(1,t)}function a(t){return o(1,t)}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9999,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0;return t=parseInt(t),e=parseInt(e),n=parseInt(n),t>e?t=e:t<n&&(t=n),Number.isInteger(t)||(t=n),void 0!==r&&(r.value=t),t}function u(t,e,n){var r;return function(){var o=this,i=arguments,a=n&&!r;clearTimeout(r),r=setTimeout(function(){r=null,n||t.apply(o,i)},e),a&&t.apply(o,i)}}function c(t,e,n){return t>=e&&t<=n}function l(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(t,e,n,s){var u=[],c=n;c>s&&(c=totalBlock);for(var f=0;f<c;f++){for(var p=o(0,s-1);u.includes(p)&&1!==s;)p=o(0,s-1);u=[].concat(l(u),[p])}l(t).forEach(function(t,n){if(u.includes(n))r(t,e,e);else{for(var o=i(e),s=a(e);o+s===2*e&&1!==e;)o=i(e),s=a(e);r(t,o,s)}})}n(24),n(116);var p=n(76),d=n.n(p);function h(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,"setHue",function(t){r.hue=Number(t),r.update()}),m(this,"setSaturation",function(t){r.saturation=Number(t),r.update()}),m(this,"setSepia",function(t){r.sepia=Number(t),r.update()}),m(this,"setBrightness",function(t){r.brightness=Number(t),r.update()}),m(this,"setContrast",function(t){r.contrast=Number(t),r.update()}),m(this,"setVignetteSize",function(t){r.vgnteSize=Number(t),r.update()}),m(this,"setVignetteAmt",function(t){r.vgnteAmnt=Number(t),r.update()}),m(this,"setVibrance",function(t){r.vibrance=Number(t),r.update()}),m(this,"setTiltBlur",function(t){r.tiltBlurRadius=Number(t),r.update()}),m(this,"setTiltGradient",function(t){r.tiltGradientRadius=Number(t),r.update()}),m(this,"update",function(){r.canvas.draw(r.texture),(c(r.brightness,-1,1)||c(r.contrast,-1,1))&&r.canvas.brightnessContrast(r.brightness,r.contrast),(c(r.hue,-1,1)||c(r.saturation,-1,1))&&r.canvas.hueSaturation(r.hue,r.saturation),c(r.sepia,0,1)&&r.canvas.sepia(r.sepia),(c(r.vgnteSize,0,1)||c(r.vgnteAmnt,0,1))&&r.canvas.vignette(r.vgnteSize,r.vgnteAmnt),c(r.vibrance,-1,1)&&r.canvas.vibrance(r.vibrance),(c(r.tiltBlurRadius,0,50)||c(r.tiltGradientRadius,0,1e3))&&r.canvas.tiltShift(r.tiltStartX,r.tiltStartY,r.tiltEndX,r.tiltEndY,r.tiltBlurRadius,r.tiltGradientRadius),r.canvas.update()}),this.canvas=e,this.texture=n,this.hue=0,this.saturation=0,this.sepia=0,this.brightness=0,this.contrast=0,this.vgnteSize=0,this.vgnteAmnt=0,this.vibrance=0,this.tiltStartX=0,this.tiltStartY=0,this.tiltEndX=0,this.tiltEndY=0,this.tiltBlurRadius=0,this.tiltGradientRadius=0}return function(t,e,n){e&&g(t.prototype,e),n&&g(t,n)}(t,[{key:"setTiltCoord",value:function(t,e,n,r){this.tiltStartX=Number(t),this.tiltStartY=Number(e),this.tiltEndX=Number(n),this.tiltEndY=Number(r),this.update()}}]),t}();n(68),n(69),n(71),n(119);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const x=new WeakMap,b=t=>"function"==typeof t&&x.has(t),w=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,E=(t,e,n=null)=>{let r=e;for(;r!==n;){const e=r.nextSibling;t.removeChild(r),r=e}},S={},_=`{{lit-${String(Math.random()).slice(2)}}}`,T=`\x3c!--${_}--\x3e`,C=new RegExp(`${_}|${T}`),O="$lit$";class A{constructor(t,e){this.parts=[],this.element=e;let n=-1,r=0;const o=[],i=e=>{const a=e.content,s=document.createTreeWalker(a,133,null,!1);let u,c;for(;s.nextNode();){n++,u=c;const e=c=s.currentNode;if(1===e.nodeType){if(e.hasAttributes()){const o=e.attributes;let i=0;for(let t=0;t<o.length;t++)o[t].value.indexOf(_)>=0&&i++;for(;i-- >0;){const o=t.strings[r],i=R.exec(o)[2],a=i.toLowerCase()+O,s=e.getAttribute(a).split(C);this.parts.push({type:"attribute",index:n,name:i,strings:s}),e.removeAttribute(a),r+=s.length-1}}"TEMPLATE"===e.tagName&&i(e)}else if(3===e.nodeType){const t=e.nodeValue;if(t.indexOf(_)<0)continue;const i=e.parentNode,a=t.split(C),s=a.length-1;r+=s;for(let t=0;t<s;t++)i.insertBefore(""===a[t]?I():document.createTextNode(a[t]),e),this.parts.push({type:"node",index:n++});i.insertBefore(""===a[s]?I():document.createTextNode(a[s]),e),o.push(e)}else if(8===e.nodeType)if(e.nodeValue===_){const t=e.parentNode,i=e.previousSibling;null===i||i!==u||i.nodeType!==Node.TEXT_NODE?t.insertBefore(I(),e):n--,this.parts.push({type:"node",index:n++}),o.push(e),null===e.nextSibling?t.insertBefore(I(),e):n--,c=u,r++}else{let t=-1;for(;-1!==(t=e.nodeValue.indexOf(_,t+1));)this.parts.push({type:"node",index:-1})}}};i(e);for(const t of o)t.parentNode.removeChild(t)}}const P=t=>-1!==t.index,I=()=>document.createComment(""),R=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F \x09\x0a\x0c\x0d"'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class M{constructor(t,e,n){this._parts=[],this.template=t,this.processor=e,this.options=n}update(t){let e=0;for(const n of this._parts)void 0!==n&&n.setValue(t[e]),e++;for(const t of this._parts)void 0!==t&&t.commit()}_clone(){const t=w?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),e=this.template.parts;let n=0,r=0;const o=t=>{const i=document.createTreeWalker(t,133,null,!1);let a=i.nextNode();for(;n<e.length&&null!==a;){const t=e[n];if(P(t))if(r===t.index){if("node"===t.type){const t=this.processor.handleTextExpression(this.options);t.insertAfterNode(a),this._parts.push(t)}else this._parts.push(...this.processor.handleAttributeExpressions(a,t.name,t.strings,this.options));n++}else r++,"TEMPLATE"===a.nodeName&&o(a.content),a=i.nextNode();else this._parts.push(void 0),n++}};return o(t),w&&(document.adoptNode(t),customElements.upgrade(t)),t}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */class k{constructor(t,e,n,r){this.strings=t,this.values=e,this.type=n,this.processor=r}getHTML(){const t=this.strings.length-1;let e="";for(let n=0;n<t;n++){let t=!1;e+=this.strings[n].replace(R,(e,n,r,o)=>(t=!0,n+r+O+o+_)),t||(e+=T)}return e+this.strings[t]}getTemplateElement(){const t=document.createElement("template");return t.innerHTML=this.getHTML(),t}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const D=t=>null===t||!("object"==typeof t||"function"==typeof t);class j{constructor(t,e,n){this.dirty=!0,this.element=t,this.name=e,this.strings=n,this.parts=[];for(let t=0;t<n.length-1;t++)this.parts[t]=this._createPart()}_createPart(){return new N(this)}_getValue(){const t=this.strings,e=t.length-1;let n="";for(let r=0;r<e;r++){n+=t[r];const e=this.parts[r];if(void 0!==e){const t=e.value;if(null!=t&&(Array.isArray(t)||"string"!=typeof t&&t[Symbol.iterator]))for(const e of t)n+="string"==typeof e?e:String(e);else n+="string"==typeof t?t:String(t)}}return n+=t[e]}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class N{constructor(t){this.value=void 0,this.committer=t}setValue(t){t===S||D(t)&&t===this.value||(this.value=t,b(t)||(this.committer.dirty=!0))}commit(){for(;b(this.value);){const t=this.value;this.value=S,t(this)}this.value!==S&&this.committer.commit()}}class z{constructor(t){this.value=void 0,this._pendingValue=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild(I()),this.endNode=t.appendChild(I())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t._insert(this.startNode=I()),t._insert(this.endNode=I())}insertAfterPart(t){t._insert(this.startNode=I()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this._pendingValue=t}commit(){for(;b(this._pendingValue);){const t=this._pendingValue;this._pendingValue=S,t(this)}const t=this._pendingValue;t!==S&&(D(t)?t!==this.value&&this._commitText(t):t instanceof k?this._commitTemplateResult(t):t instanceof Node?this._commitNode(t):Array.isArray(t)||t[Symbol.iterator]?this._commitIterable(t):this._commitText(t))}_insert(t){this.endNode.parentNode.insertBefore(t,this.endNode)}_commitNode(t){this.value!==t&&(this.clear(),this._insert(t),this.value=t)}_commitText(t){const e=this.startNode.nextSibling;t=null==t?"":t,e===this.endNode.previousSibling&&e.nodeType===Node.TEXT_NODE?e.textContent=t:this._commitNode(document.createTextNode("string"==typeof t?t:String(t))),this.value=t}_commitTemplateResult(t){const e=this.options.templateFactory(t);if(this.value&&this.value.template===e)this.value.update(t.values);else{const n=new M(e,t.processor,this.options),r=n._clone();n.update(t.values),this._commitNode(r),this.value=n}}_commitIterable(t){Array.isArray(this.value)||(this.value=[],this.clear());const e=this.value;let n,r=0;for(const o of t)void 0===(n=e[r])&&(n=new z(this.options),e.push(n),0===r?n.appendIntoPart(this):n.insertAfterPart(e[r-1])),n.setValue(o),n.commit(),r++;r<e.length&&(e.length=r,this.clear(n&&n.endNode))}clear(t=this.startNode){E(this.startNode.parentNode,t.nextSibling,this.endNode)}}class F{constructor(t,e,n){if(this.value=void 0,this._pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=e,this.strings=n}setValue(t){this._pendingValue=t}commit(){for(;b(this._pendingValue);){const t=this._pendingValue;this._pendingValue=S,t(this)}if(this._pendingValue===S)return;const t=!!this._pendingValue;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)),this.value=t,this._pendingValue=S}}class B extends j{constructor(t,e,n){super(t,e,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new L(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class L extends N{}let U=!1;try{const t={get capture(){return U=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}class X{constructor(t,e,n){this.value=void 0,this._pendingValue=void 0,this.element=t,this.eventName=e,this.eventContext=n,this._boundHandleEvent=(t=>this.handleEvent(t))}setValue(t){this._pendingValue=t}commit(){for(;b(this._pendingValue);){const t=this._pendingValue;this._pendingValue=S,t(this)}if(this._pendingValue===S)return;const t=this._pendingValue,e=this.value,n=null==t||null!=e&&(t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive),r=null!=t&&(null==e||n);n&&this.element.removeEventListener(this.eventName,this._boundHandleEvent,this._options),r&&(this._options=Y(t),this.element.addEventListener(this.eventName,this._boundHandleEvent,this._options)),this.value=t,this._pendingValue=S}handleEvent(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}const Y=t=>t&&(U?{capture:t.capture,passive:t.passive,once:t.once}:t.capture);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const V=new class{handleAttributeExpressions(t,e,n,r){const o=e[0];return"."===o?new B(t,e.slice(1),n).parts:"@"===o?[new X(t,e.slice(1),r.eventContext)]:"?"===o?[new F(t,e.slice(1),n)]:new j(t,e,n).parts}handleTextExpression(t){return new z(t)}};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */function H(t){let e=W.get(t.type);void 0===e&&(e={stringsArray:new WeakMap,keyString:new Map},W.set(t.type,e));let n=e.stringsArray.get(t.strings);if(void 0!==n)return n;const r=t.strings.join(_);return void 0===(n=e.keyString.get(r))&&(n=new A(t,t.getTemplateElement()),e.keyString.set(r,n)),e.stringsArray.set(t.strings,n),n}const W=new Map,q=new WeakMap,G=(t,e,n)=>{let r=q.get(e);void 0===r&&(E(e,e.firstChild),q.set(e,r=new z(Object.assign({templateFactory:H},n))),r.appendInto(e)),r.setValue(t),r.commit()},$=(t,...e)=>new k(t,e,"html",V);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */function Z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var J=function t(e,n,r,o,i){var a=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Z(this,"dragStart",function(t){"touchstart"===t.type?(a.initialX=t.touches[0].clientX-a.containerRect.left,a.initialY=t.touches[0].clientY-a.containerRect.top):(a.initialX=a.initialX||t.clientX-a.containerRect.left,a.initialY=a.initialY||t.clientY-a.containerRect.top),t.target===a.dragItem&&(a.active=!0)}),Z(this,"drag",function(t){a.active&&(t.preventDefault(),"touchmove"===t.type?(a.currentX=t.touches[0].clientX-a.containerRect.left,a.currentY=t.touches[0].clientY-a.containerRect.top):(a.currentX=t.clientX-a.containerRect.left,a.currentY=t.clientY-a.containerRect.top),a.currentX=a.currentX*(1/ie.outerScale)-a.dragItemRect.width/2,a.currentY=a.currentY*(1/ie.outerScale)-a.dragItemRect.height/2,a.xOffset=a.currentX,a.yOffset=a.currentY,a.setTranslate(a.currentX,a.currentY,a.dragItem))}),Z(this,"dragEnd",function(t){a.itemListener(a.currentX,a.currentY),a.initialX=a.currentX,a.initialY=a.currentY,a.active=!1}),Z(this,"setTranslate",function(t,e,n){n.style.transform="translate3d(".concat(t,"px, ").concat(e,"px, 0)")}),this.dragItem=e,this.dragItemRect=this.dragItem.getBoundingClientRect(),this.container=n,this.containerRect=this.container.getBoundingClientRect(),this.active=!1,this.currentX=r,this.currentY=o,this.initialX=r,this.initialY=o,this.xOffset=this.containerRect.left,this.yOffset=this.containerRect.top,this.itemListener=i,this.container.addEventListener("touchstart",this.dragStart,!1),this.container.addEventListener("touchend",this.dragEnd,!1),this.container.addEventListener("touchmove",this.drag,!1),this.container.addEventListener("mousedown",this.dragStart,!1),this.container.addEventListener("mouseup",this.dragEnd,!1),this.container.addEventListener("mousemove",this.drag,!1),this.setTranslate(this.initialX,this.initialY,this.dragItem)};function K(){var t=tt(['\n                    <div class="field">\n                        <label for="','">','</label>\n                        <input\n                            type="range"\n                            id="','"\n                            min="','"\n                            max="','"\n                            value="','"\n                            step="','"\n                            @change=',"\n                        >\n                    </div>\n                    ","\n                "]);return K=function(){return t},t}function Q(){var t=tt(["\n            ","\n        "]);return Q=function(){return t},t}function tt(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var nt,rt,ot,it=function(){function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.func=n,this.init=r,this.update=o,this.nubs=[],this.sliders=[],r.call(this)}return function(t,e,n){e&&et(t.prototype,e),n&&et(t,n)}(t,[{key:"addSlider",value:function(t,e,n,r,o,i){this.sliders.push({name:t,label:e,min:n,max:r,value:o,step:i})}},{key:"addNub",value:function(t,e,n){this.nubs.push({name:t,x:e,y:n})}},{key:"use",value:function(){var t=this,e=function(e){var n=e.target,r=n.value,o=n.id;t[o]=r,t.update()},n=document.createElement("div"),r=$(Q(),this.sliders.map(function(n){return $(K(),n.name,n.label,n.name,n.min,n.max,n.value,n.step,e,function(e){t[e.name]=e.value}(n))}));this.nubs.forEach(function(e){var n=document.getElementById("draggable"),r=document.createElement("div"),o=e.x*re[0],i=e.y*re[1];t[e.name]={x:o,y:i},r.classList.add("nub"),r.setAttribute("title","".concat(t.name," ").concat(e.name)),n.insertAdjacentElement("afterbegin",r);new J(r,n,o,i,function(n,r){t[e.name]={x:n,y:r},t.update()})}),G(r,n),n.classList.add("field-category"),Zt.insertAdjacentElement("afterbegin",n),this.update()}}]),t}(),at=n(77),st=n.n(at),ut=n(78),ct=n.n(ut),lt=[new it("Tilt Shift","tiltShift",function(){this.addNub("start",.08,.48),this.addNub("end",.93,.47),this.addSlider("blurRadius","Blur Radius",0,50,23,1),this.addSlider("gradientRadius","Gradient Radius",0,1e3,900,1)},function(){ot.setTiltCoord(this.start.x,this.start.y,this.end.x,this.end.y),ot.setTiltBlur(this.blurRadius),ot.setTiltGradient(this.gradientRadius)}),new it("Vibrance","vibrance",function(){this.addSlider("vibrance","Vibrance",-1,1,0,.01)},function(){ot.setVibrance(this.vibrance)}),new it("Hue / Saturation","hueSaturation",function(){this.addSlider("hue","Hue",-1,1,0,.01),this.addSlider("saturation","Saturation",-1,1,0,.01)},function(){ot.setHue(this.hue),ot.setSaturation(this.saturation)}),new it("Brightness / Contrast","brightnessContrast",function(){this.addSlider("brightness","Brightness",-1,1,0,.01),this.addSlider("contrast","Contrast",-1,.99,0,.01)},function(){ot.setBrightness(this.brightness),ot.setContrast(this.contrast)})],ft=function(t){for(;Zt.lastChild;)Zt.removeChild(Zt.lastChild);Mt.classList.add("active"),$t.classList.remove("active"),nt.remove(),document.getElementById("draggable").remove()},pt=function(t){var e=nt.toDataURL("image/png");ct()(e,"mondrian.png",!0)};var dt=n(79),ht=n.n(dt),vt=n(80),gt=n.n(vt),mt=(n(158),n(63),n(159),n(81)),yt=n.n(mt),xt=n(82),bt=n.n(xt);function wt(){var t=St(['\n                    <div class="field">\n                        <input\n                            id="','"\n                            value="','"\n                            type="text"\n                            @input="','"\n                        >\n                        <label\n                            for="','"\n                            class="color-indicator"\n                            style="background-color: var(--',')"\n                        >','</label>\n                        <button\n                            type="button"\n                            title="Remove"\n                            data-for="','"\n                            @click=','\n                        ><img src="','" alt="Remove"></button>\n                    </div>\n                ']);return wt=function(){return t},t}function Et(){var t=St(["\n            ","\n        "]);return Et=function(){return t},t}function St(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function _t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ct=function(){function t(e,n,r){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Tt(this,"createColorScheme",function(){i.generateColors().map(function(t,e){return i.colors["color".concat(e)]=t})}),Tt(this,"createColorSetting",function(t){var e=function(t){var e=t.target,n=e.id,o=e.value;i.colors[n]=o,G(r(i.colors),i.colorSection)},n=function(t){var e=t.target.getAttribute("data-for");delete i.colors[e],i.root.style.removeProperty("--".concat(e)),document.querySelectorAll("li[style*='--".concat(e,"']")).forEach(function(t){return i.colorBlock(t)}),G(r(i.colors),i.colorSection)},r=function(t){return $(Et(),Object.entries(t).reverse().map(function(t){return i.root.style.setProperty("--".concat(t[0]),t[1]),$(wt(),t[0],t[1],e,t[0],t[0],t[0],t[0],n,bt.a)}))};G(r(i.colors),i.colorSection)}),Tt(this,"addColor",function(t){for(var e=0;i.colors.hasOwnProperty("color".concat(e));)e++;i.colors["color".concat(e)]=i.generateColors()[0],i.createColorSetting("color".concat(e)),i.generateColorsBtn.click()}),Tt(this,"colorBlock",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.getRandomColor(i.colors);t.style.backgroundColor="var(--".concat(e,")")}),Tt(this,"generateColors",function(t,e,n){return(new yt.a).from_hue(i.hue).scheme(i.colorScheme).variation(i.colorVariation).colors().map(function(t){return"#".concat(t)})}),this.root=document.documentElement,this.colors={},this.hue=o(0,360),this.colorScheme="mono",this.colorVariation="pastel",this.colorSection=e,this.addColorBtn=n,this.generateColorsBtn=r,this.createColorScheme(),this.createColorSetting(),n.addEventListener("click",this.addColor)}return function(t,e,n){e&&_t(t.prototype,e),n&&_t(t,n)}(t,[{key:"getRandomColor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.colors,e=o(0,Object.keys(t).length-1);return Object.keys(t)[e]}}]),t}();function Ot(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(e,"main",function(){return At}),n.d(e,"blocksSection",function(){return Pt}),n.d(e,"blocksLayout",function(){return It}),n.d(e,"blocksGrid",function(){return Rt}),n.d(e,"gridSettings",function(){return Mt}),n.d(e,"inputTotalBlocks",function(){return kt}),n.d(e,"inputBlockSize",function(){return Dt}),n.d(e,"inputPrimaryBlocks",function(){return jt}),n.d(e,"inputResWidth",function(){return Nt}),n.d(e,"inputResHeight",function(){return zt}),n.d(e,"inputBlocksX",function(){return Ft}),n.d(e,"inputBlocksY",function(){return Bt}),n.d(e,"inputBlocksRotate",function(){return Lt}),n.d(e,"inputBlocksScale",function(){return Ut}),n.d(e,"inputBlocksGap",function(){return Xt}),n.d(e,"colorSettings",function(){return Yt}),n.d(e,"generateColors",function(){return Vt}),n.d(e,"generateSizes",function(){return Ht}),n.d(e,"generateAll",function(){return Wt}),n.d(e,"addFilters",function(){return qt}),n.d(e,"addColor",function(){return Gt}),n.d(e,"filterSettingsForm",function(){return $t}),n.d(e,"filterRows",function(){return Zt}),n.d(e,"goBackBtn",function(){return Jt}),n.d(e,"downloadBtn",function(){return Kt}),n.d(e,"totalBlocks",function(){return Qt}),n.d(e,"primaryBlocks",function(){return te}),n.d(e,"blockSize",function(){return ee}),n.d(e,"gap",function(){return ne}),n.d(e,"resolution",function(){return re}),n.d(e,"colorSystem",function(){return oe}),n.d(e,"blocksArea",function(){return ie});var At=document.querySelector(".main"),Pt=document.querySelector(".blocks-section"),It=document.querySelector(".blocks-layout"),Rt=document.querySelector(".blocks-grid"),Mt=document.getElementById("grid-settings"),kt=document.getElementById("total-blocks"),Dt=document.getElementById("block-size"),jt=document.getElementById("primary-blocks"),Nt=document.getElementById("resolution-width"),zt=document.getElementById("resolution-height"),Ft=document.getElementById("blocks-x"),Bt=document.getElementById("blocks-y"),Lt=document.getElementById("blocks-rotate"),Ut=document.getElementById("blocks-scale"),Xt=document.getElementById("blocks-gap"),Yt=document.getElementById("settings-color"),Vt=document.getElementById("generate-colors"),Ht=document.getElementById("generate-sizes"),Wt=document.getElementById("generate-all"),qt=document.getElementById("add-filters"),Gt=document.getElementById("add-color"),$t=document.getElementById("filters-settings"),Zt=document.getElementById("filters-row"),Jt=document.getElementById("go-back"),Kt=document.getElementById("download"),Qt=150,te=5,ee=3,ne=11,re=[1920,1080],oe=new Ct(Yt,Gt,Vt),ie=new function t(e,n,r,o,i,a,s,c,l){var p=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),v(this,"setupArea",function(){p.mainStyle=getComputedStyle(p.outerEl),p.mainWidth=p.outerEl.clientWidth,p.mainHeight=p.outerEl.clientHeight,p.mainWidth-=parseFloat(p.mainStyle.paddingLeft)+parseFloat(p.mainStyle.paddingRight),p.mainHeight-=parseFloat(p.mainStyle.paddingTop)+parseFloat(p.mainStyle.paddingBottom),p.innerEl.style.width="".concat(p.resolution[0],"px"),p.innerEl.style.height="".concat(p.resolution[1],"px"),p.outerScale=function(t,e,n,r,o){var i=Math.min(e/r,n/o);return t.style.transform="translate(-50%, -50%) scale(".concat(i,")"),i}(p.innerEl,p.mainWidth,p.mainHeight,p.resolution[0],p.resolution[1]),p.outerEl.classList.add("ready"),p.setGap()}),v(this,"setBlocks",function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.totalBlocks,e=p.blocks.length,n=[];e<t;){var r=document.createElement("li");p.colorSystem.colorBlock(r),p.blocksContainer.appendChild(r),n=[].concat(h(n),[r]),e=p.blocks.length}for(;e>t;)p.blocksContainer.querySelector("li:last-child").remove(),e=p.blocks.length;return f(n,p.blockSize,p.primaryBlocks,p.totalBlocks),n}),v(this,"transformBlocks",function(){p.blocksContainer.style.transform="\n            translate(".concat(p.x,"px, ").concat(p.y,"px)\n            rotate(").concat(p.rotate,"deg)\n            scale(").concat(p.innerScale,")\n        "),p.updateInputs()}),v(this,"setGap",function(){p.blocksContainer.style.gridGap="".concat(p.gap,"px")}),v(this,"interaction",function(){d()(p.blocksContainer).draggable({onmove:function(t){p.x=parseFloat(p.x)+t.dx,p.y=parseFloat(p.y)+t.dy,p.moveBlocks()},inertia:!0,autoScroll:!0}).gesturable({onmove:function(t){p.rotate=parseFloat(p.rotate)+t.da,p.innerScale=parseFloat(p.innerScale)+t.ds,p.moveBlocks()}}),p.innerEl.addEventListener("wheel",function(t){var e=t.deltaY<0?"up":"down";"up"===e?p.innerScale=parseFloat(p.innerScale)+.05:"down"===e&&(p.innerScale=parseFloat(p.innerScale)-.05),p.moveBlocks()})}),v(this,"updateInputs",function(){kt.value=p.totalBlocks,Dt.value=p.blockSize,jt.value=p.primaryBlocks,Nt.value=p.resolution[0],zt.value=p.resolution[1],Ft.value=parseFloat(p.x).toFixed(2),Bt.value=parseFloat(p.y).toFixed(2),Lt.value=parseFloat(p.rotate).toFixed(2),Ut.value=parseFloat(p.innerScale).toFixed(2),Xt.value=p.gap}),this.outerEl=e,this.innerEl=n,this.blocksContainer=r,this.blocks=this.blocksContainer.getElementsByTagName("li"),this.mainStyle,this.mainWidth,this.mainHeight,this.outerScale,this.innerScale=1,this.x=0,this.y=0,this.rotate=0,this.blockSize=s,this.primaryBlocks=c,this.gap=l,this.resolution=i,this.totalBlocks=a,this.colorSystem=o,this.setupArea(),this.setBlocks(),this.transformBlocks(),this.interaction(),this.updateInputs(),this.areaListener=u(this.setupArea.bind(this),100),this.moveBlocks=u(this.transformBlocks.bind(this),5,!0),window.addEventListener("resize",this.areaListener)}(Pt,It,Rt,oe,re,Qt,ee,te,ne),ae=function(t){var e=t.target,n=e.max,r=e.value;ie.totalBlocks=s(r,n,void 0,e),ie.setBlocks()};kt.addEventListener("change",ae),kt.addEventListener("input",ae);var se=function(t){var e=t.target,n=e.value,r=e.max,o=e.min;ie.blockSize=s(n,r,o,e),f(ie.blocks,ie.blockSize,ie.primaryBlocks,ie.totalBlocks)};Dt.addEventListener("change",se),Dt.addEventListener("input",se);var ue=function(t){var e=t.target,n=e.value;n=s(n,Qt,1,e),ie.primaryBlocks=n,f(ie.blocks,ie.blockSize,ie.primaryBlocks,ie.totalBlocks)};jt.addEventListener("change",ue),jt.addEventListener("input",ue);var ce=function(t){var e=t.target,n=(e.id,e.value);e===Nt?ie.resolution[0]=n:e===zt&&(ie.resolution[1]=n),ie.areaListener()};Nt.addEventListener("change",ce),zt.addEventListener("change",ce),Nt.addEventListener("input",ce),zt.addEventListener("input",ce);var le=function(t){var e=t.target,n=e.value;e===Ft?ie.x=n:e===Bt?ie.y=n:e===Lt?ie.rotate=n:e===Ut&&(ie.innerScale=n),ie.moveBlocks()};Ft.addEventListener("change",le),Bt.addEventListener("change",le),Lt.addEventListener("change",le),Ut.addEventListener("change",le),Ft.addEventListener("input",le),Bt.addEventListener("input",le),Lt.addEventListener("input",le),Ut.addEventListener("input",le);var fe=function(t){var e=t.target.value;ie.gap=e,ie.setGap()};Xt.addEventListener("change",fe),Xt.addEventListener("input",fe),Vt.addEventListener("click",function(t){Ot(ie.blocks).forEach(function(t){oe.colorBlock(t)})}),Ht.addEventListener("click",function(t){f(ie.blocks,ie.blockSize,ie.primaryBlocks,ie.totalBlocks)}),Wt.addEventListener("click",function(t){f(ie.blocks,ie.blockSize,ie.primaryBlocks,ie.totalBlocks),Ot(ie.blocks).forEach(function(t){oe.colorBlock(t)})}),qt.addEventListener("click",function(t){var e=t.target.textContent;t.target.textContent="Loading";var n=document.querySelector("body"),r=document.createElement("canvas"),o=It.cloneNode(!0);r.width=ie.resolution[0],r.height=ie.resolution[1],o.style.transform=null,o.style.position="static",n.append(o),gt()(o,{recursive:!0,properties:["display","width","height","overflow","transform","grid-template-columns","grid-auto-flow","grid-auto-rows","grid-row-start","grid-row-end","grid-column-start","grid-column-end","row-gap","column-gap","margin-top","margin-right","margin-bottom","margin-left","padding-top","padding-right","padding-bottom","padding-left","list-style-position","list-style-image","list-style-type","box-sizing","background-image","background-color"]}),o.remove(),ht.a.drawHTML(function(t){var e=document.querySelector("head");return"\n        <html>\n            ".concat(e.outerHTML,"\n            <body>").concat(t.outerHTML,"</body>\n        </html>\n    ")}(o),r).catch(function(t){return console.error(t)}).finally(function(){!function(t){var e=document.createElement("div");nt=st.a.canvas(),rt=nt.texture(t),ot=new y(nt,rt),Mt.classList.remove("active"),$t.classList.add("active"),e.id="draggable",nt.id="canvas-filter",nt.draw(rt).update(),It.insertAdjacentElement("afterbegin",nt),It.insertAdjacentElement("beforeend",e);for(var n=0;n<lt.length;n++)lt[n].use();Jt.addEventListener("click",ft),Kt.addEventListener("click",pt)}(r),t.target.textContent=e})})}]);
//# sourceMappingURL=main.edc17497a319b75dc716.js.map